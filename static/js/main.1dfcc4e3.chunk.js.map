{"version":3,"sources":["System/Damage/DamageTrack.module.scss","AppThemeProvider.tsx","Api/ServerApi.ts","Auth/AuthApi.ts","Auth/AuthProvider.tsx","Auth/Login/LoginForm.tsx","Auth/Login/SignupFormState.ts","Auth/Login/SignupForm.tsx","Auth/Login/LoginDialog.tsx","Helpers.ts","UI/AppBar.tsx","System/Effect.ts","Pages/RootLayout.tsx","Character/CharacterAttr.tsx","System/Attribute.ts","Gear/Augments/AugmentAttr.ts","Gear/GearData.ts","Gear/Augments/AugmentData.ts","Gear/GearContext.tsx","Skills/ActiveSkillName.ts","Skills/Specializations.ts","Skills/ActiveSkill.ts","System/AttributeProvider.tsx","System/Damage/DamageProvider.tsx","Skills/SkillData.ts","System/Damage/DamageType.ts","UI/DicePool.tsx","Skills/ActiveSkillList.tsx","Skills/CharacterActiveSkill.ts","Skills/KnowledgeSkillList.tsx","Skills/LanguageSkillList.tsx","Character/CharacterProvider.tsx","Gear/Weapons/PistolSvg.tsx","Character/AwakenedType.ts","Character/Metatypes.ts","UI/NavDrawer/index.tsx","UI/NavDrawer/DefaultNavDrawer.tsx","UI/NavDrawer/CharacterNavDrawer.tsx","UI/Incrementor.tsx","Character/CharacterBuilder/Attributes/AttrTableRow.tsx","Character/CharacterBuilder/Attributes/metatypeMaximums.ts","Character/CharacterBuilder/Attributes/AttributesTable.tsx","Character/CharacterBuilder/BioSection.tsx","Character/CharacterBuilder/Priorities/Priorities.ts","System/Nuyen.ts","Character/CharacterBuilder/Priorities/PriorityRow.tsx","Character/CharacterBuilder/Priorities/PrioritiesTable.tsx","Character/CharacterBuilder/Skills/SkillsSection.tsx","Character/CharacterBuilder/BuilderPage.tsx","Character/Migrations/1-Inital.ts","Gear/License/LicenseAttr.ts","Gear/License/SinAttr.ts","Gear/OtherGearData.ts","Gear/Rcc/RccAttr.tsx","Gear/Software/Autosoft/AutosoftAttr.ts","Gear/Vehicles/VehicleAttr.tsx","Gear/Vehicles/VehicleModData.ts","Character/Migrations/index.ts","Gear/Software/Autosoft/AutosoftProvider.tsx","Gear/Weapons/DicePools.tsx","Gear/Weapons/WeaponAttr.ts","Gear/Weapons/WeaponModData.ts","data/index.ts","data/Artemis.ts","Character/CharacterPoolTypes.tsx","Gear/Armor/ArmorAttr.ts","Gear/Commlink/CommlinkAttr.ts","Gear/Kit/KitAttr.ts","Gear/Kit/KitType.ts","data/Silicus.ts","data/Spike.ts","Spells/SpellCategory.ts","Spells/SpellType.ts","data/Xendris.ts","StorageService.ts","Api/Model.ts","Pages/CharacterListPage.tsx","System/Source.ts","UI/InfoBlock/SimpleInfoBlock.tsx","UI/StatBlock.tsx","Gear/Availability.ts","UI/AttributeBlock.tsx","UI/InfoBlock/InfoBlock.tsx","Gear/Software/Autosoft/AutosoftData.ts","Gear/Vehicles/DicePools.tsx","UI/InfoBlock/InfoSection.tsx","Gear/GearInfoBlock.tsx","Gear/License/LicenseInfo.tsx","Gear/License/SinInfo.tsx","Gear/Rcc/RccInfo.tsx","UI/TrackCell.tsx","System/Damage/DamageTrack.tsx","System/DefenseRating.tsx","System/Initiative.tsx","Gear/GearDicePools.tsx","Gear/Software/Autosoft/AutosoftsList.tsx","Gear/Vehicles/DestroyedVehicleInfo.tsx","Gear/Vehicles/VehicleInfo.tsx","Gear/Weapons/WeaponInfo.tsx","Gear/GearInfo.tsx","Gear/GearList.tsx","Pages/Character/AugmentsPage.tsx","Contacts/ContactInfo.tsx","Contacts/ContactList.tsx","Gear/License/SinData.ts","Character/CharacterInfo/AttributesSection.tsx","Qualities/QualityData.ts","Character/CharacterInfo/CombatArea.tsx","Character/CharacterInfo/DicePoolsSection.tsx","Character/CharacterInfo/EdgeTracker.tsx","Qualities/QualitiesList.tsx","Character/CharacterInfo/QualitiesSection.tsx","Character/CharacterInfo/SkillSection.tsx","Character/CharacterInfo/CharacterInfo.tsx","Pages/Character/CharacterInfoPage.tsx","UI/BalanceLogTable.tsx","Pages/Character/KarmaPage.tsx","Pages/Character/MiscGearPage.tsx","Pages/Character/NuyenPage.tsx","Spells/SpellBlock.tsx","Spells/SpellDicePools.tsx","Pages/Character/SpellsPage.tsx","Pages/Character/VehiclesPage.tsx","Pages/Character/WeaponsPage.tsx","Pages/CharacterPage.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","displayFontFamily","theme","createTheme","palette","mode","primary","main","secondary","text","background","default","typography","h1","fontFamily","h2","h3","h4","h5","h6","AppThemeProvider","children","StyledEngineProvider","injectFirst","ThemeProvider","ServerApi","path","config","this","axiosInstance","get","then","res","data","catch","error","handleError","post","axios","isAxiosError","response","undefined","err","create","baseURL","process","withCredentials","AuthApi","username","password","user","AuthContext","createContext","fetching","login","Error","signup","fetchUser","logout","AuthProvider","useState","setUser","setFetching","finally","state","useEffect","console","Provider","value","useAuth","useContext","LoginForm","onLogin","setUsername","setPassword","authorizing","setAuthorizing","message","setMessage","onSubmit","isApiError","msg","TextField","autoFocus","label","fullWidth","sx","marginBottom","variant","onChange","e","target","disabled","type","Typography","textAlign","Button","onClick","defaultState","dirty","confirmPassword","valid","submitting","reducer","action","validateUsername","validatePassword","validateConfirmPassword","trim","length","SignupForm","onSignup","useReducer","form","dispatch","onBlur","LoginDialog","open","onClose","activeTab","setActiveTab","Dialog","DialogContent","padding","width","Box","display","gap","flexDirection","Tabs","_","orientation","flexGrow","Tab","noOp","EffectType","AppBar","withMenu","openMenu","fetchingUser","currentUser","position","top","Toolbar","IconButton","size","edge","color","mr","component","CircularProgress","UserMenu","menuOpen","setMenuOpen","anchorEl","setAnchorEl","event","currentTarget","id","MenuItem","LoginButton","dialogOpen","setDialogOpen","RootLayout","NavDrawer","drawerOpen","setDrawerOpen","Paper","gridTemplateRows","bgcolor","height","overflow","square","closeDrawer","maxWidth","margin","isAttrBonus","effect","attrBonus","isAttrOverride","attrOverride","isInitBonus","initBonus","isSkillBonus","skillBonus","isDicePoolBonus","dicePoolBonus","isDefRatingBonus","defRatingBonus","isConditionTrackBonus","conditionTrackBonus","CharacterAttr","collectEffects","gear","flatMap","wirelessBonus","enabled","effects","filter","wireless","attributeNames","registerAttrNames","names","formatAttr","calculateAttributes","attrs","adjustedAttrs","Object","entries","forEach","attr","calculateAttribute","overrides","map","Math","max","reduce","sum","bonus","body","agility","reaction","strength","willpower","logic","intuition","charisma","AugmentAttr","GearType","AugmentType","AugmentSlot","AugmentGrade","specialAttrs","essence","magic","resonance","isAugment","gearType","augment","grade","rating","slot","essenceCost","capacity","capacityCost","ActiveSkillName","GearContext","GearProvider","useAllGear","useGear","gearId","allGear","find","useFindGear","foundGear","useFilterGear","useAttachedGear","attachedTo","useAllNestedGear","collectNestedGear","parentId","child","useGearOfType","Specializations","AstralCombat","AstralSignatures","EmotionalStates","SpiritTypes","Archery","Climbing","Flying","Gymnastics","Sprinting","Swimming","Throwing","Biotechnology","Cybertechnology","FirstAid","Medicine","Blades","Clubs","UnarmedCombat","Acting","Disguise","Impersonation","Performance","Banishing","Summoning","Cybercombat","ElectronicWarfare","Hacking","Computer","Hardware","Software","Alchemy","Artificing","Disenchanting","AeronauticsMechanic","Armorer","AutomotiveMechanic","Demolitions","Gunnery","IndustrialMechanic","Lockpicking","NauticalMechanic","Tasers","HoldOuts","LightPistols","MachinePistols","HeavyPistols","SubmachineGuns","Shotguns","Rifles","MachineGuns","AssaultCannons","Launchers","Etiquette","Instruction","Intimidation","Leadership","Negotiation","Navigation","Survival","Tracking","Visual","Aural","Tactile","GroundCraft","Aircraft","Watercraft","Counterspelling","RitualSpellcasting","Spellcasting","Camouflage","Palming","Sneaking","Compiling","Decompiling","Registering","activeSkills","astral","name","untrained","specializations","values","athletics","altAttr","biotech","closeCombat","con","conjuring","cracking","electronics","enchanting","engineering","exoticWeapons","multiSpecialization","firearms","influence","outdoors","perception","piloting","sorcery","stealth","tasking","AttributeContext","AttributeProvider","attributes","parentAttrs","useAttributes","keys","allAttributes","filtered","key","useAttribute","SkillType","DamageType","DamageContext","DamageProvider","dmgSessionKey","setDmgValue","parseInt","localStorage","getItem","damages","setValue","setItem","toString","DicePools","flexWrap","skillSpecialtyBonus","skill","specialtyName","hasSpecialty","hasExpertise","collectEffectBonuses","poolKey","poolType","DicePool","skills","bonuses","groups","dmgPenaltyTypes","skillList","useActiveSkills","attrList","dmgPenalty","types","damageData","floor","a","b","useDamagePenalty","rank","attrType","total","g","group","DiceGroupDisplay","nameStyles","marginRight","fontSize","backgroundColor","icon","faWifi","ActiveSkillList","charSkills","Stack","direction","charSkill","ActiveSkillRow","activeSkill","paddingLeft","specialization","expertise","toLowerCase","KnowledgeSkillList","Table","TableHead","TableRow","TableCell","TableBody","SkillListRow","colSpan","LanguageSkillList","isActiveSkill","active","isLanguageSkill","language","isKnowledgeSkill","knowledge","CharacterContext","CharacterProvider","character","characterData","charPhysical","charStun","useCharacter","useCharacterData","getActiveSkill","useActiveSkill","AwakenedType","Metatype","PistolSvg","version","xmlns","viewBox","enableBackground","d","NavButton","routeTo","history","useHistory","ListItem","button","push","ListItemIcon","SvgIcon","ListItemText","DefaultNavDrawer","Drawer","anchor","List","faUsers","CharacterNavDrawer","showSpells","faUser","faMagic","faCarAlt","faCogs","faArchive","Divider","faYenSign","faAward","Incrementor","min","Infinity","Remove","Add","AttrTableRow","attribute","base","adjPoints","attrPoints","karmaPoints","maximum","onAdjPointsChange","onAttrPointsChange","onKarmaPointsChange","allowAdjPoints","includes","AttrIncrementor","metatypeMaximums","Dwarf","Elf","Human","Ork","Troll","defaultAttributes","AttributesTable","metatype","awakened","attributePoints","adjustmentPoints","adjPointsSpent","setAdjPointsSpent","pointsSpent","setPointsSpent","setKarmaPoints","excludedAttributes","Technomancer","Aspected","Mundane","totalAdjPointsSpent","points","totalPointsSpent","totalKarmaCost","preKarma","cost","calcKaramaCost","TableContainer","PriorityStat","BioSection","bio","metatypes","magicPriority","showMetaTypeWarning","log","showAwakenedWarning","alias","select","focused","helperText","role","ethnicity","age","gender","weight","priorityValues","skillPoints","nuyen","nuyenFormatter","Intl","NumberFormat","formatNuyen","format","useNuyenBalance","sort","parseISO","date","getTime","entry","PriorityRow","level","selectedType","onSelect","align","selected","Full","Mystic","Adept","PriorityCell","className","PrioritiesTable","selectedPriorities","setSelectedPriorities","onPriorityChange","stat","priorities","priority","oldLevel","levelValues","toPriorityValues","SkillsSection","setCharSkills","availableSkills","onRemove","onRemoveSkill","onChangeSkill","SkillsTableRow","RemoveCircle","defaultCharacter","dataVersion","karma","heat","reputation","lifestyle","prepaid","upkeep","qualities","contacts","BuilderPage","setPriorities","setCharacterData","LicenseAttr","SinAttr","OtherGearAttr","RccAttr","AutosoftAttr","VehicleAttr","ModType","migrateCharacter","migrations","migration","run","deviceRating","dataProcessing","firewall","weapon","handling","accel","speedInterval","topSpeed","armor","pilot","sensor","seat","WeaponPoolKeys","AutosoftContext","AutosoftProvider","autosofts","useAutosoft","autosoft","WeaponAttr","WeaponModAttr","WeaponModSlot","BasicAttackPool","nestedGear","gearBonuses","basicAttack","specialtyBonus","DroneAttackPool","targetingGroup","weaponName","useTargetingAutosoft","droneAttack","vehiclePhysical","VehicleAttackPool","mountedAttack","RiggedAttackPool","controlRig","augmentType","riggedAttack","addGear","attachedGear","item","dv","attackRatings","modes","ammo","maxRange","Artemis","note","connection","loyalty","description","source","book","page","gameEffect","smartGunIntMod","weaponMod","removable","avail","rarity","license","used","headware","bioware","topOrUnder","rccHeadwear","rcc","slavedAutosofts","soft","fnHar","blackKnight","stdWeaponMount","vehicleMod","modType","illegal","heavyWeaponMount","riggerInterface","sensorArray","vehicle","slavedTo","pilotingSpeciality","rotoDrone","oniDrone","CharacterPoolTypes","ArmorAttr","CommlinkAttr","KitAttr","KitType","crawlerDrone","destroyed","quantity","alpha","eyeware","other","bodyware","sin","defenseBonus","programSlots","medkitRating","Silicus","under","barrel","dmgResist","beta","delta","armorMod","kit","medKit","firstAid","Spike","woundPenaltyReduction","SpellCategory","SpellType","standard","Xendris","track","spellDrainAttr","spells","category","Combat","range","Mana","duration","drainValue","damage","damageType","area","Physical","Health","characterStorageKey","characterId","charactersStorageKey","loadCharacters","savedCharacters","userId","updatedAt","Date","toISOString","createdAt","uuid","JSON","stringify","saveCharacter","parse","CharacterListPage","characters","setCharacters","justifyContent","formatSource","SimpleInfoBlock","footer","Chip","marginLeft","verticalAlign","StatBlock","vertical","Stat","toFixed","whiteSpace","formatAvail","AttributeBlock","library","add","faCaretSquareDown","faCaretSquareRight","AutosoftType","VehiclePoolKeys","InfoBlock","title","titleFontSize","subtitle","titleRight","expandId","expandable","expanded","_setExpanded","saved","sessionStorage","useExpanded","setExpanded","elevation","InfoSection","GearInfoBlock","blockTitleRight","Boolean","fontStyle","LicenseInfo","SinInfo","licenses","RccInfo","slavedVehicles","maxSlaved","TrackCell","filled","isOverflow","hovered","setHovered","borderColor","userSelect","onMouseEnter","onMouseLeave","DamageTrack","current","useDamage","useSetDamage","onToggleCell","numCells","minWidth","paddingBottom","styles","Array","fill","index","toggleCell","DamageCell","penalty","CharacterDefRatingStat","VehicleDefRatingStat","InitiativeStat","dice","CharacterHotVrInit","CharacterColdVrInit","GearDicePools","AutosoftsList","slavedIds","paddingTop","AutosoftListItem","faSave","DestroyedVehicleInfo","style","textDecoration","VehicleResistDmg","resistDmg","AutosoftPiloting","evasionAutosoft","evasion","maneuveringAutosoft","maneuvering","pilotAttr","diceGroups","pilotEvade","DriverPiloting","pilotingSkill","riggedEvade","RiggedPiloting","VehicleInfo","useTheme","mdScreenOrLarger","useMediaQuery","breakpoints","up","physicalMax","ceil","allAutosofts","WeaponInfo","mounted","GearInfo","SimpleGearInfo","GearList","AugmentsPage","augments","ContactInfo","contact","ContactList","isSin","AttributesSection","charAttributes","useQualities","CombatArea","physicalTrackBonus","quality","stunTrackBonus","stunMax","initDice","alignContent","DicePoolsSection","DodgePool","dodge","ResistDamagePool","ComposurePool","composure","JudgeIntentPool","judgeIntent","MemoryPool","memory","LiftPool","liftCarry","FirstAidPool","firstAidKit","biotechSkill","MedkitPool","EdgeTracker","edgeSessionKey","charEdgeAttr","defaultEdge","curValue","setCurValue","setEdge","QualitiesList","QualitiesSection","SkillSection","charActiveSkills","languageSkills","knowledgeSkills","CharacterInfo","sins","nuyenBalance","CharacterInfoPage","BalanceLogTable","formatValue","runningTotal","logRows","reverse","KarmaPage","MiscGearPage","excludedGear","otherGear","NuyenPage","gearTotal","SpellBlock","spell","SorcerySpellcastingPool","ConjuringSpellcastingPool","EnchantingSpellcastingPool","ResistDrain","SpellsPage","VehiclesPage","vehicles","WeaponsPage","weapons","CharacterPage","useRouteMatch","useParams","setCharacter","loadCharacter","to","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1dfcc4e3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"DamageTrack\":\"DamageTrack_DamageTrack__3Cfmx\"};","/* eslint-disable @typescript-eslint/no-empty-interface */\nimport { createTheme, StyledEngineProvider, ThemeProvider } from '@mui/material'\nimport { FC } from 'react'\n\nexport const displayFontFamily = '\"Comfortaa\", \"Helvetica\", \"Arial\", sans-serif'\n\nconst theme = createTheme({\n  palette: {\n    mode: 'dark',\n    primary: {\n      main: '#CE93D8',\n    },\n    secondary: {\n      main: '#03A9F4',\n    },\n    text: {\n      primary: '#EEEEEE',\n    },\n    background: {\n      default: '#2D2736',\n    },\n  },\n\n  typography: {\n    h1: { fontFamily: displayFontFamily },\n    h2: { fontFamily: displayFontFamily },\n    h3: { fontFamily: displayFontFamily },\n    h4: { fontFamily: displayFontFamily },\n    h5: { fontFamily: displayFontFamily },\n    h6: { fontFamily: displayFontFamily },\n  },\n})\n\nexport const AppThemeProvider: FC = ({\n  children,\n}) => {\n  return (\n    <StyledEngineProvider injectFirst>\n      <ThemeProvider theme={theme}>{children}</ThemeProvider>\n    </StyledEngineProvider>\n  )\n}\n","import axios, { AxiosInstance, AxiosRequestConfig } from 'axios'\n\nimport { ApiError } from './ApiError'\n\nconst SERVER_URL = process.env.REACT_APP_SERVER_URL\n\nexport class ServerApi {\n  private static axiosInstance: AxiosInstance = axios.create({\n    baseURL: SERVER_URL,\n    withCredentials: true,\n  })\n\n  public static get<R> (path: string, config?: AxiosRequestConfig): Promise<R> {\n    return this.axiosInstance\n      .get(path, config).then(res => res.data as R)\n      .catch((error) => this.handleError(error))\n  }\n\n  public static post<R, D = unknown> (path: string, data?: D, config?: AxiosRequestConfig): Promise<R> {\n    return this.axiosInstance\n      .post(path, data, config).then(res => res.data as R)\n      .catch((error) => this.handleError(error))\n  }\n\n  private static async handleError<R> (error: unknown): Promise<R> {\n    if (!axios.isAxiosError(error)) throw error\n    if (!error.response) throw error\n    throw error.response.data\n  }\n\n  public static isApiError (error: unknown): error is ApiError {\n    return (error as ApiError).err !== undefined\n  }\n}\n","import { ServerApi } from '../Api/ServerApi'\nimport { User } from './User'\n\nexport const AuthApi = {\n  signup (username: string, password: string): Promise<User> {\n    return ServerApi\n      .post<{ user: User }>('/signup', { username, password })\n      .then(data => data.user)\n  },\n\n  login (username: string, password: string): Promise<User> {\n    return ServerApi\n      .post<{ user: User }>('/login', { username, password })\n      .then(data => data.user)\n  },\n\n  logout (): Promise<never> {\n    return ServerApi\n      .post<never>('/logout')\n  },\n\n  fetchUser (): Promise<User> {\n    return ServerApi.get<{ user: User }>('/user')\n      .then(data => data.user)\n  },\n}\n","import { createContext, FC, useContext, useEffect, useState } from 'react'\n\nimport { AuthApi } from './AuthApi'\nimport { User } from './User'\n\ninterface AuthContextState {\n  user: User | null\n  fetching: boolean\n\n  login (username: string, password: string): Promise<User>\n\n  signup (username: string, password: string): Promise<User>\n\n  fetchUser (): Promise<User>\n\n  logout (): Promise<void>\n}\n\nconst AuthContext = createContext<AuthContextState>({\n  user: null,\n  fetching: false,\n  login: () => { throw new Error('Invalid AuthContext') },\n  signup: () => { throw new Error('Invalid AuthContext') },\n  fetchUser: () => { throw new Error('Invalid AuthContext') },\n  logout: () => { throw new Error('Invalid AuthContext') },\n})\n\nexport const AuthProvider: FC = ({\n  children,\n}) => {\n  const [user, setUser] = useState<User | null>(null)\n  const [fetching, setFetching] = useState<boolean>(false)\n\n  const login = (username: string, password: string) => {\n    return AuthApi.login(username, password).then(user => {\n      setUser(user)\n      return user\n    })\n  }\n\n  const signup = (username: string, password: string) => {\n    return AuthApi.signup(username, password).then(user => {\n      setUser(user)\n      return user\n    })\n  }\n\n  const fetchUser = (): Promise<User> => {\n    setFetching(true)\n    return AuthApi.fetchUser()\n      .then(user => {\n        setUser(user)\n        return user\n      })\n      .finally(() => setFetching(false))\n  }\n\n  const logout = () => {\n    setUser(null)\n    return AuthApi.logout()\n  }\n\n  const state: AuthContextState = {\n    user,\n    fetching,\n    fetchUser,\n    signup,\n    login,\n    logout,\n  }\n\n  useEffect(() => {\n    fetchUser().catch(console.error)\n  }, [])\n\n  return (\n    <AuthContext.Provider value={state}>{children}</AuthContext.Provider>\n  )\n}\n\nexport const useAuth = (): AuthContextState => {\n  return useContext(AuthContext)\n}\n\nexport const useCurrentUser = (): User | null => {\n  return useAuth().user\n}\n","import { Button, TextField, Typography } from '@mui/material'\nimport { ChangeEvent, FC, useState } from 'react'\n\nimport { ServerApi } from '../../Api/ServerApi'\nimport { useAuth } from '../AuthProvider'\n\ninterface LoginFormProps {\n  onLogin (): void\n}\n\nexport const LoginForm: FC<LoginFormProps> = ({\n  onLogin,\n}) => {\n  const [username, setUsername] = useState<string>('')\n  const [password, setPassword] = useState<string>('')\n  const [authorizing, setAuthorizing] = useState<boolean>(false)\n  const [message, setMessage] = useState<string | null>(null)\n\n  const { login } = useAuth()\n\n  const onSubmit = () => {\n    setAuthorizing(true)\n\n    login(username, password)\n      .then(() => onLogin())\n      .catch((error) => {\n        setAuthorizing(false)\n\n        if (ServerApi.isApiError(error)) {\n          setMessage(error.msg)\n        } else {\n          console.error(error)\n          setMessage('Server Error')\n        }\n      })\n  }\n\n  return <form onSubmit={onSubmit}>\n    <TextField\n      autoFocus\n      label=\"Username\"\n      fullWidth\n      sx={{ marginBottom: 1 }}\n      variant=\"outlined\"\n      value={username}\n      onChange={(e: ChangeEvent<HTMLInputElement>) => setUsername(e.target.value)}\n      disabled={authorizing}\n    />\n\n    <TextField\n      label=\"Password\"\n      fullWidth\n      type=\"password\"\n      variant=\"outlined\"\n      sx={{ marginBottom: 1 }}\n      value={password}\n      onChange={(e: ChangeEvent<HTMLInputElement>) => setPassword(e.target.value)}\n      disabled={authorizing}\n    />\n\n    {message && (\n      <Typography sx={{ textAlign: 'center', marginBottom: 1 }}>{message}</Typography>\n    )}\n\n    <Button type=\"submit\" variant=\"contained\" onClick={onSubmit} disabled={authorizing} fullWidth>\n      {authorizing ? 'Connecting...' : 'Login'}\n    </Button>\n  </form>\n}\n","import { Dispatch, Reducer, useReducer } from 'react'\n\ninterface FormState {\n  username: {\n    value: string\n    error: string | null\n    dirty: boolean\n  }\n  password: {\n    value: string\n    error: string | null\n    dirty: boolean\n  }\n  confirmPassword: {\n    value: string\n    error: string | null\n    dirty: boolean\n  }\n  submitting: boolean\n  valid: boolean\n  dirty: boolean\n  error: string | null\n}\n\nexport const defaultState: FormState = {\n  username: {\n    dirty: false,\n    error: null,\n    value: '',\n  },\n\n  confirmPassword: {\n    dirty: false,\n    error: null,\n    value: '',\n  },\n\n  password: {\n    dirty: false,\n    error: null,\n    value: '',\n  },\n\n  dirty: false,\n  valid: false,\n  submitting: false,\n  error: null,\n}\n\ntype FormAction =\n  | { type: 'setUsername'; value: string }\n  | { type: 'blurUsername' }\n  | { type: 'setPassword'; value: string }\n  | { type: 'blurPassword' }\n  | { type: 'setConfirmPassword'; value: string }\n  | { type: 'blurConfirmPassword' }\n  | { type: 'error'; error: string }\n  | { type: 'submit' }\n\nconst reducer: Reducer<FormState, FormAction> = (state, action): FormState => {\n  switch (action.type) {\n    case 'setUsername':\n      return {\n        ...state,\n        username: {\n          ...state.username,\n          error: validateUsername(action.value),\n          value: action.value,\n        },\n      }\n    case 'blurUsername':\n      return {\n        ...state,\n        username: {\n          ...state.username,\n          dirty: true,\n        },\n      }\n    case 'setPassword':\n      return {\n        ...state,\n        password: {\n          ...state.password,\n          value: action.value,\n          error: validatePassword(action.value),\n        },\n      }\n    case 'blurPassword':\n      return {\n        ...state,\n        password: {\n          ...state.password,\n          dirty: true,\n        },\n      }\n    case 'setConfirmPassword':\n      return {\n        ...state,\n        confirmPassword: {\n          ...state.confirmPassword,\n          value: action.value,\n          error: validateConfirmPassword(state.password.value, action.value),\n        },\n      }\n    case 'blurConfirmPassword':\n      return {\n        ...state,\n        confirmPassword: {\n          ...state.confirmPassword,\n          dirty: true,\n        },\n      }\n    case 'submit':\n      return {\n        ...state,\n        submitting: true,\n        error: null,\n      }\n    case 'error':\n      return {\n        ...state,\n        submitting: false,\n        error: action.error,\n      }\n    default:\n      return state\n  }\n}\n\nfunction validateUsername (username: string): string | null {\n  if (!username || username.trim() === '')\n    return 'Username is required'\n\n  return null\n}\n\nfunction validatePassword (password: string): string | null {\n  if (!password || password === '')\n    return 'Password is required'\n\n  if (password.length <= 10)\n    return 'Password must be longer then 10 characters'\n\n  return null\n}\n\nfunction validateConfirmPassword (confirmPassword: string, password: string): string | null {\n  if (confirmPassword !== password)\n    return 'Password doesn\\'t match'\n\n  return null\n}\n\nexport const useFormState = (): [FormState, Dispatch<FormAction>] => {\n  return useReducer(reducer, defaultState)\n}\n","import { Button, TextField, Typography } from '@mui/material'\nimport { ChangeEvent, FC } from 'react'\n\nimport { ServerApi } from '../../Api/ServerApi'\nimport { useAuth } from '../AuthProvider'\nimport { useFormState } from './SignupFormState'\n\ninterface SignupFormProps {\n  onSignup (): void\n}\n\nexport const SignupForm: FC<SignupFormProps> = ({\n  onSignup,\n}) => {\n  const [form, dispatch] = useFormState()\n\n  const { signup } = useAuth()\n\n  const onSubmit = () => {\n    dispatch({ type: 'submit' })\n\n    signup(form.username.value, form.password.value)\n      .then(() => onSignup())\n      .catch((error) => {\n        if (ServerApi.isApiError(error)) {\n          dispatch({ type: 'error', error: error.msg })\n        } else {\n          console.error(error)\n          dispatch({ type: 'error', error: 'Server Error' })\n        }\n      })\n  }\n\n  return <form onSubmit={onSubmit}>\n    <TextField\n      autoFocus\n      label=\"Username\"\n      fullWidth\n      sx={{ marginBottom: 1 }}\n      variant=\"outlined\"\n      value={form.username.value}\n      onBlur={() => dispatch({ type: 'blurUsername' })}\n      onChange={(e: ChangeEvent<HTMLInputElement>) => dispatch({\n        type: 'setUsername',\n        value: e.target.value,\n      })}\n      disabled={form.submitting}\n    />\n\n    {form.username.dirty && form.username.error && (\n      <Typography sx={{ marginBottom: 1 }}>{form.username.error}</Typography>\n    )}\n\n    <TextField\n      label=\"Password\"\n      fullWidth\n      type=\"password\"\n      variant=\"outlined\"\n      sx={{ marginBottom: 1 }}\n      value={form.password.value}\n      onBlur={() => dispatch({ type: 'blurPassword' })}\n      onChange={(e: ChangeEvent<HTMLInputElement>) => dispatch({\n        type: 'setPassword',\n        value: e.target.value,\n      })}\n      disabled={form.submitting}\n    />\n\n    {form.password.dirty && form.password.error && (\n      <Typography sx={{ marginBottom: 1 }}>{form.password.error}</Typography>\n    )}\n\n    <TextField\n      label=\"Confirm Password\"\n      fullWidth\n      type=\"password\"\n      variant=\"outlined\"\n      sx={{ marginBottom: 1 }}\n      value={form.confirmPassword.value}\n      onBlur={() => dispatch({ type: 'blurConfirmPassword' })}\n      onChange={(e: ChangeEvent<HTMLInputElement>) => dispatch({\n        type: 'setConfirmPassword',\n        value: e.target.value,\n      })}\n      disabled={form.submitting}\n    />\n\n    {form.confirmPassword.dirty && form.confirmPassword.error && (\n      <Typography sx={{ marginBottom: 1 }}>{form.confirmPassword.error}</Typography>\n    )}\n\n    {form.error && (\n      <Typography sx={{ textAlign: 'center', marginBottom: 1 }}>{form.error}</Typography>\n    )}\n\n    <Button type=\"submit\" variant=\"contained\" onClick={onSubmit} disabled={form.submitting} fullWidth>\n      {form.submitting ? 'Registering...' : 'Login'}\n    </Button>\n  </form>\n}\n","import { Box, Button, Dialog, DialogContent, Tab, Tabs } from '@mui/material'\nimport { FC, useState } from 'react'\n\nimport { LoginForm } from './LoginForm'\nimport { SignupForm } from './SignupForm'\n\ninterface LoginDialogProps {\n  open?: boolean\n\n  onClose (): void\n}\n\nexport const LoginDialog: FC<LoginDialogProps> = ({\n  open = false,\n  onClose,\n}) => {\n  const [activeTab, setActiveTab] = useState<string>('login')\n\n  return (\n    <Dialog open={open}>\n      <DialogContent sx={{ padding: 1, width: 400 }}>\n        <Box sx={{ display: 'flex', gap: 1 }}>\n          <Box sx={{ display: 'flex', flexDirection: 'column' }}>\n            <Tabs\n              value={activeTab}\n              onChange={(_, value) => setActiveTab(value)}\n              orientation=\"vertical\"\n              sx={{ flexGrow: 1 }}\n            >\n              <Tab label=\"Login\" value=\"login\" />\n              <Tab label=\"Sign Up\" value=\"signup\" />\n            </Tabs>\n            <Button onClick={onClose} variant=\"outlined\">Cancel</Button>\n          </Box>\n\n          <Box sx={{ flexGrow: 1 }}>\n            {activeTab === 'login' && <LoginForm onLogin={onClose} />}\n            {activeTab === 'signup' && <SignupForm onSignup={onClose} />}\n          </Box>\n        </Box>\n      </DialogContent>\n    </Dialog>\n  )\n}\n","import { format, parseISO } from 'date-fns'\n\nexport const noOp = (): void => {/* No Operation */}\n\nexport function formatDate (date: Date | string): string {\n  if (typeof date === 'string') date = parseISO(date)\n  return format(date, 'PP')\n}\n","import MenuIcon from '@mui/icons-material/Menu'\nimport {\n  AppBar as MuiAppBar,\n  Button,\n  CircularProgress,\n  IconButton,\n  Menu,\n  MenuItem,\n  Toolbar,\n  Typography,\n} from '@mui/material'\nimport React, { FC, useState } from 'react'\n\nimport { useAuth, useCurrentUser } from '../Auth/AuthProvider'\nimport { LoginDialog } from '../Auth/Login/LoginDialog'\nimport { noOp } from '../Helpers'\n\ntype NavBarProps = {\n  withMenu?: boolean\n  openMenu? (): void\n}\n\nexport const AppBar: FC<NavBarProps> = ({\n  withMenu,\n  openMenu = noOp,\n}) => {\n  const { fetching: fetchingUser, user: currentUser } = useAuth()\n\n  return (\n    <MuiAppBar position=\"sticky\" sx={{ top: 0 }}>\n      <Toolbar>\n        {withMenu && (\n          <IconButton\n            size=\"large\"\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"menu\"\n            sx={{ mr: 2 }}\n            onClick={() => openMenu()}\n          >\n            <MenuIcon />\n          </IconButton>\n        )}\n        <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\n          ShadowSIN 6e\n        </Typography>\n\n        {process.env['REACT_APP_ENABLE_SERVER'] === 'true' && (\n          fetchingUser ? (\n            <CircularProgress sx={{ width: '20px' }} />\n          ) : (\n            currentUser ? <UserMenu /> : <LoginButton />\n          )\n        )}\n      </Toolbar>\n    </MuiAppBar>\n  )\n}\n\nexport const UserMenu: FC = () => {\n  const currentUser = useCurrentUser()\n  const [menuOpen, setMenuOpen] = useState<boolean>(false)\n  const [anchorEl, setAnchorEl] = useState<HTMLElement | null>(null)\n  const { logout } = useAuth()\n\n  if (!currentUser) return null\n\n  const openMenu = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget)\n    setMenuOpen(true)\n  }\n\n  const onLogout = () => {\n    logout().catch(console.error)\n  }\n\n  return (\n    <>\n      <Button onClick={openMenu}>{currentUser.username}</Button>\n      <Menu\n        id=\"basic-menu\"\n        anchorEl={anchorEl}\n        open={menuOpen}\n        onClose={() => setMenuOpen(false)}\n      >\n        <MenuItem onClick={onLogout}>Logout</MenuItem>\n      </Menu>\n    </>\n  )\n}\n\nexport const LoginButton: FC = () => {\n  const [dialogOpen, setDialogOpen] = useState<boolean>(false)\n\n  return (\n    <>\n      <Button onClick={() => setDialogOpen(true)}>Login</Button>\n      <LoginDialog open={dialogOpen} onClose={() => setDialogOpen(false)} />\n    </>\n  )\n}\n","import { GearData } from '../Gear/GearData'\nimport { ActiveSkillName } from '../Skills'\n\nexport enum EffectType {\n  attrBonus = 'attrBonus',\n  attrOverride = 'attrOverride',\n  initBonus = 'initBonus',\n  skillBonus = 'skillBonus',\n  dicePoolBonus = 'dicePoolBonus',\n  defRatingBonus = 'defRatingBonus',\n  conditionTrackBonus = 'conditionTrackBonus',\n  woundPenaltyReduction = 'woundPenaltyReduction',\n}\n\ninterface BaseEffect {\n  type: EffectType\n  wireless?: boolean\n}\n\ninterface AttrBonus extends BaseEffect {\n  type: EffectType.attrBonus\n  attr: string\n  bonus: number\n}\n\nexport function isAttrBonus (effect: BaseEffect): effect is AttrBonus {\n  return effect.type === EffectType.attrBonus\n}\n\ninterface AttrOverride extends BaseEffect {\n  type: EffectType.attrOverride\n  attr: string\n  value: number\n}\n\nexport function isAttrOverride (effect: BaseEffect): effect is AttrOverride {\n  return effect.type === EffectType.attrOverride\n}\n\ninterface InitBonus extends BaseEffect {\n  type: EffectType.initBonus\n  bonus: number\n}\n\nexport function isInitBonus (effect: BaseEffect): effect is InitBonus {\n  return effect.type === EffectType.initBonus\n}\n\ninterface SkillBonus extends BaseEffect {\n  type: EffectType.skillBonus\n  skill: ActiveSkillName\n  bonus: number\n}\n\nexport function isSkillBonus (effect: BaseEffect): effect is SkillBonus {\n  return effect.type === EffectType.skillBonus\n}\n\ninterface DicePoolBonus extends BaseEffect {\n  type: EffectType.dicePoolBonus\n  name: string\n  poolType: string\n  bonus: number\n}\n\nexport function isDicePoolBonus (effect: BaseEffect): effect is DicePoolBonus {\n  return effect.type === EffectType.dicePoolBonus\n}\n\ninterface DefRatingBonus extends BaseEffect {\n  type: EffectType.defRatingBonus\n  bonus: number\n}\n\nexport function isDefRatingBonus (effect: BaseEffect): effect is DefRatingBonus {\n  return effect.type === EffectType.defRatingBonus\n}\n\ninterface ConditionTrackBonus extends BaseEffect {\n  type: EffectType.conditionTrackBonus\n  track: string\n  bonus: number\n}\n\nexport function isConditionTrackBonus (effect: BaseEffect): effect is ConditionTrackBonus {\n  return effect.type === EffectType.conditionTrackBonus\n}\n\ninterface WoundPenaltyReduction extends BaseEffect {\n  type: EffectType.woundPenaltyReduction\n  value: number | 'all'\n}\n\nexport function isWoundReduction (effect: BaseEffect): effect is WoundPenaltyReduction {\n  return effect.type === EffectType.conditionTrackBonus\n}\n\nexport type Effect =\n  | AttrBonus\n  | AttrOverride\n  | InitBonus\n  | SkillBonus\n  | DicePoolBonus\n  | DefRatingBonus\n  | ConditionTrackBonus\n  | WoundPenaltyReduction\n\nexport const collectEffects = (gear: GearData[]): Effect[] => {\n  return gear.flatMap(gear => {\n    if (gear.wirelessBonus?.enabled) {\n      return gear.effects || []\n    } else {\n      return gear.effects?.filter(effect => !effect.wireless) || []\n    }\n  })\n}\n","import { Box, Paper } from '@mui/material'\nimport React, { FC, useState } from 'react'\n\nimport { AppBar } from '../UI/AppBar'\nimport { NavDrawerProps } from '../UI/NavDrawer'\n\ninterface RootLayoutProps {\n  NavDrawer?: FC<NavDrawerProps>\n}\n\nexport const RootLayout: FC<RootLayoutProps> = ({\n  NavDrawer,\n  children,\n}) => {\n  const [drawerOpen, setDrawerOpen] = useState<boolean>(false)\n\n  return (\n    <Paper\n      sx={{\n        display: 'grid',\n        gridTemplateRows: 'auto 1fr',\n        bgcolor: 'background.default',\n        height: '100vh',\n        width: '100vw',\n        overflow: 'auto',\n      }}\n      square\n    >\n      <AppBar withMenu={!!NavDrawer} openMenu={() => setDrawerOpen(true)} />\n      {NavDrawer && <NavDrawer open={drawerOpen} closeDrawer={() => setDrawerOpen(false)} />}\n\n      <Box sx={{ width: '100%', maxWidth: 1200, margin: '0 auto', padding: 1 }}>\n        {children}\n      </Box>\n    </Paper>\n  )\n}\n","import { registerAttrNames } from '../System/Attribute'\n\nexport enum CharacterAttr {\n  body = 'char.body',\n  agility = 'char.agility',\n  reaction = 'char.reaction',\n  strength = 'char.strength',\n  willpower = 'char.willpower',\n  logic = 'char.logic',\n  intuition = 'char.intuition',\n  charisma = 'char.charisma',\n  edge = 'char.edge',\n  essence = 'char.essence',\n  magic = 'char.magic',\n  resonance = 'char.resonance',\n}\n\nexport const physicalAttrs = [\n  CharacterAttr.body,\n  CharacterAttr.agility,\n  CharacterAttr.reaction,\n  CharacterAttr.strength,\n]\n\nexport const mentalAttrs = [\n  CharacterAttr.willpower,\n  CharacterAttr.logic,\n  CharacterAttr.intuition,\n  CharacterAttr.charisma,\n]\n\nexport const specialAttrs = [\n  CharacterAttr.edge,\n  CharacterAttr.essence,\n  CharacterAttr.magic,\n  CharacterAttr.resonance,\n]\n\nregisterAttrNames({\n  [CharacterAttr.body]: 'Body',\n  [CharacterAttr.agility]: 'Agility',\n  [CharacterAttr.reaction]: 'Reaction',\n  [CharacterAttr.strength]: 'Strength',\n  [CharacterAttr.willpower]: 'Willpower',\n  [CharacterAttr.logic]: 'Logic',\n  [CharacterAttr.intuition]: 'Intuition',\n  [CharacterAttr.charisma]: 'Charisma',\n  [CharacterAttr.edge]: 'Edge',\n  [CharacterAttr.essence]: 'Essence',\n  [CharacterAttr.magic]: 'Magic',\n  [CharacterAttr.resonance]: 'Resonance',\n})\n","import { GearData } from '../Gear/GearData'\nimport { collectEffects, isAttrBonus, isAttrOverride } from './Effect'\n\nexport type AttrType = string\nexport type AttrValue = number | string | null | undefined\nexport type AttrList<T = AttrValue> = Record<AttrType, T | undefined>\nexport type AttrNames = Record<AttrType, string>\n\nlet attributeNames: AttrNames = {}\n\nexport const registerAttrNames = (names: AttrNames): void => {\n  attributeNames = { ...attributeNames, ...names }\n}\n\nexport const formatAttr = (type: string): string => {\n  return attributeNames[type] || type\n}\n\nexport const calculateAttributes = (attrs: AttrList, gear: GearData[]): AttrList => {\n  const adjustedAttrs: AttrList = {}\n\n  Object.entries(attrs).forEach(([attr, value]) => {\n    if (typeof value === 'number') value = calculateAttribute(attr, value, gear)\n    adjustedAttrs[attr] = value\n  })\n\n  return adjustedAttrs\n}\n\nexport const calculateAttribute = (attr: string, value: number, gear: GearData[]): number => {\n  const effects = collectEffects(gear)\n\n  const overrides = effects\n    .filter(isAttrOverride)\n    .filter(effect => effect.attr === attr)\n    .map(effect => effect.value)\n\n  if (overrides.length >= 1) return Math.max(...overrides)\n\n  return effects\n    .filter(isAttrBonus)\n    .filter(effect => effect.attr === attr)\n    .reduce((sum, effect) => sum + effect.bonus, value)\n}\n","import { registerAttrNames } from '../../System/Attribute'\n\nexport enum AugmentAttr {\n  grade = 'augment.grade',\n  rating = 'augment.rating',\n  slot = 'augment.slot',\n  essenceCost = 'augment.essenceCost',\n  capacity = 'augment.capacity',\n  capacityCost = 'augment.capacityCost',\n}\n\nregisterAttrNames({\n  [AugmentAttr.grade]: 'Grade',\n  [AugmentAttr.rating]: 'Rating',\n  [AugmentAttr.slot]: 'Slot',\n  [AugmentAttr.essenceCost]: 'Essence',\n  [AugmentAttr.capacity]: 'Capacity',\n  [AugmentAttr.capacityCost]: 'Capacity Cost',\n})\n","import { RecordId } from '../Api/Model'\nimport { AttrList } from '../System/Attribute'\nimport { Effect } from '../System/Effect'\nimport { Source } from '../System/Source'\nimport { ArmorData } from './Armor/ArmorData'\nimport { ArmorModData } from './Armor/ArmorModData'\nimport { AugmentData } from './Augments/AugmentData'\nimport { Availability } from './Availability'\nimport { LicenseData } from './License/LicenseData'\nimport { SinData } from './License/SinData'\nimport { OtherGearData } from './OtherGearData'\nimport { RccData } from './Rcc/RccData'\nimport { AutosoftData } from './Software/Autosoft/AutosoftData'\nimport { VehicleData } from './Vehicles/VehicleData'\nimport { VehicleModData } from './Vehicles/VehicleModData'\nimport { WeaponData } from './Weapons/WeaponData'\nimport { WeaponModData } from './Weapons/WeaponModData'\n\nexport type Cost = number\n\nexport enum GearType {\n  armor = 'armor',\n  armorMod = 'armorMod',\n  augment = 'augment',\n  autosoft = 'autosoft',\n  license = 'license',\n  rcc = 'rcc',\n  sin = 'sin',\n  vehicle = 'vehicle',\n  vehicleMod = 'vehicleMod',\n  weapon = 'weapon',\n  weaponMod = 'weaponMod',\n\n  other = 'other',\n}\n\nexport interface BaseGearData {\n  id: RecordId\n  source?: Source\n  gearType: GearType\n  name: string\n  type: string\n  avail?: Availability\n  cost?: Cost\n  capacity?: number\n  quantity?: number\n\n  attributes?: AttrList\n  attachedTo?: RecordId\n\n  wirelessBonus?: {\n    enabled: boolean\n    description: string\n  }\n\n  description?: string\n  effects?: Effect[]\n\n  [key: string]: unknown\n}\n\nexport type GearData =\n  | OtherGearData\n  | ArmorData\n  | ArmorModData\n  | AugmentData\n  | AutosoftData\n  | LicenseData\n  | RccData\n  | SinData\n  | VehicleData\n  | VehicleModData\n  | WeaponData\n  | WeaponModData\n","import {BaseGearData, GearData, GearType} from '../GearData'\nimport {AugmentAttr} from './AugmentAttr'\n\nexport interface AugmentData extends BaseGearData {\n  augmentType?: AugmentType\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade\n    [AugmentAttr.essenceCost]: number\n    [AugmentAttr.slot]: AugmentSlot\n    [AugmentAttr.rating]?: number\n    [AugmentAttr.capacity]?: number\n    [AugmentAttr.capacityCost]?: number\n  }\n}\n\nexport function isAugment(gear: GearData): gear is AugmentData {\n  return gear.gearType === GearType.augment\n}\n\nexport enum AugmentType {\n  controlRig = 'controlRig',\n}\n\nexport enum AugmentSlot {\n  headware = 'headware',\n  eyeware = 'eyeware',\n  earwear = 'earwear',\n  bodyware = 'bodyware',\n  cyberlimb = 'cyberlimb',\n  bioware = 'bioware',\n}\n\nexport enum AugmentGrade {\n  used = 'used',\n  standard = 'standard',\n  alpha = 'alphaware',\n  beta = 'betaware',\n  delta = 'deltaware'\n}\n","import { createContext, FC, useContext } from 'react'\n\nimport { RecordId } from '../Api/Model'\nimport { GearData, GearType } from './GearData'\n\nconst GearContext = createContext<GearData[]>([])\n\ninterface GearProviderProps {\n  gear: GearData[]\n}\n\nexport const GearProvider: FC<GearProviderProps> = ({\n  gear,\n  children,\n}) => {\n  return (\n    <GearContext.Provider value={gear}>{children}</GearContext.Provider>\n  )\n}\n\nexport function useAllGear (): GearData[] {\n  return useContext(GearContext)\n}\n\nexport function useGear<T extends GearData = GearData> (gearId: RecordId | undefined): T | undefined {\n  const allGear = useAllGear()\n  if (!gearId) return undefined\n\n  const gear = allGear.find(gear => gear.id === gearId)\n  return gear ? gear as T : undefined\n}\n\ntype GearFilter = (gear: GearData) => boolean\n\nexport function useFindGear<T extends GearData = GearData> (filter: GearFilter): T | undefined {\n  const foundGear = useAllGear().find(filter)\n  return foundGear ? foundGear as T : undefined\n}\n\nexport function useFilterGear<T extends GearData = GearData> (filter: GearFilter): T[] {\n  return useAllGear().filter(filter).map(gear => gear as T)\n}\n\nexport function useAttachedGear (gearId: RecordId): GearData[] {\n  return useAllGear().filter(gear => gear.attachedTo === gearId)\n}\n\nexport function useAllNestedGear (gearId: RecordId): GearData[] {\n  return collectNestedGear(gearId, useAllGear())\n}\n\nfunction collectNestedGear (parentId: RecordId, allGear: GearData[]) {\n  const children = allGear.filter(gear => gear.attachedTo === parentId)\n  let gear = [...children]\n\n  children.forEach(child => {\n    gear = [...gear, ...collectNestedGear(child.id, allGear)]\n  })\n\n  return gear\n}\n\nexport function useGearOfType<T extends GearData> (gearType: GearType): T[] {\n  return useFilterGear<T>(gear => gear.gearType === gearType)\n}\n","export enum ActiveSkillName {\n  astral = 'Astral',\n  athletics = 'Athletics',\n  biotech = 'Biotech',\n  closeCombat = 'Close Combat',\n  con = 'Con',\n  conjuring = 'Conjuring',\n  cracking = 'Cracking',\n  electronics = 'Electronics',\n  enchanting = 'Enchanting',\n  engineering = 'Engineering',\n  exoticWeapons = 'Exotic Weapons',\n  firearms = 'Firearms',\n  influence = 'Influence',\n  outdoors = 'Outdoors',\n  perception = 'Perception',\n  piloting = 'Piloting',\n  sorcery = 'Sorcery',\n  stealth = 'Stealth',\n  tasking = 'Tasking',\n}\n","export const Specializations = {\n  Astral: {\n    AstralCombat: 'Astral Combat',\n    AstralSignatures: 'Astral Signatures',\n    EmotionalStates: 'Emotional States',\n    SpiritTypes: 'Spirit Types',\n  },\n  Athletics: {\n    Archery: 'Archery',\n    Climbing: 'Climbing',\n    Flying: 'Flying',\n    Gymnastics: 'Gymnastics',\n    Sprinting: 'Sprinting',\n    Swimming: 'Swimming',\n    Throwing: 'Throwing',\n  },\n  Biotech: {\n    Biotechnology: 'Biotechnology',\n    Cybertechnology: 'Cybertechnology',\n    FirstAid: 'First Aid',\n    Medicine: 'Medicine',\n  },\n  CloseCombat: {\n    Blades: 'Blades',\n    Clubs: 'Clubs',\n    UnarmedCombat: 'Unarmed Combat',\n  },\n  Con: {\n    Acting: 'Acting',\n    Disguise: 'Disguise',\n    Impersonation: 'Impersonation',\n    Performance: 'Performance',\n  },\n  Conjuring: {\n    Banishing: 'Banishing',\n    Summoning: 'Summoning',\n  },\n  Cracking: {\n    Cybercombat: 'Cybercombat',\n    ElectronicWarfare: 'Electronic Warfare',\n    Hacking: 'Hacking',\n  },\n  Electronics: {\n    Computer: 'Computer',\n    Hardware: 'Hardware',\n    Software: 'Software',\n  },\n  Enchanting: {\n    Alchemy: 'Alchemy',\n    Artificing: 'Artificing',\n    Disenchanting: 'Disenchanting',\n  },\n  Engineering: {\n    AeronauticsMechanic: 'Aeronautics Mechanic',\n    Armorer: 'Armorer',\n    AutomotiveMechanic: 'Automotive Mechanic',\n    Demolitions: 'Demolitions',\n    Gunnery: 'Gunnery',\n    IndustrialMechanic: 'Industrial Mechanic',\n    Lockpicking: 'Lockpicking',\n    NauticalMechanic: 'Nautical Mechanic',\n  },\n  ExoticWeapons: {},\n  Firearms: {\n    Tasers: 'Tasers',\n    HoldOuts: 'Hold-Outs',\n    LightPistols: 'Light Pistols',\n    MachinePistols: 'Machine Pistols',\n    HeavyPistols: 'Heavy Pistols',\n    SubmachineGuns: 'Submachine Guns',\n    Shotguns: 'Shotguns',\n    Rifles: 'Rifles',\n    MachineGuns: 'Machine Guns',\n    AssaultCannons: 'Assault Cannons',\n    Launchers: 'Launchers',\n  },\n  Influence: {\n    Etiquette: 'Etiquette',\n    Instruction: 'Instruction',\n    Intimidation: 'Intimidation',\n    Leadership: 'Leadership',\n    Negotiation: 'Negotiation',\n  },\n  Outdoors: {\n    Navigation: 'Navigation',\n    Survival: 'Survival',\n    Tracking: 'Tracking',\n  },\n  Perception: {\n    Visual: 'Visual',\n    Aural: 'Aural',\n    Tactile: 'Tactile',\n  },\n  Piloting: {\n    GroundCraft: 'Ground Craft',\n    Aircraft: 'Aircraft',\n    Watercraft: 'Watercraft',\n  },\n  Sorcery: {\n    Counterspelling: 'Counterspelling',\n    RitualSpellcasting: 'Ritual Spellcasting',\n    Spellcasting: 'Spellcasting',\n  },\n  Stealth: {\n    Camouflage: 'Camouflage',\n    Palming: 'Palming',\n    Sneaking: 'Sneaking',\n  },\n  Tasking: {\n    Compiling: 'Compiling',\n    Decompiling: 'Decompiling',\n    Registering: 'Registering',\n  },\n}\n","import { CharacterAttr } from '../Character/CharacterAttr'\nimport { ActiveSkillName } from './ActiveSkillName'\nimport { Specializations } from './Specializations'\n\nexport interface ActiveSkill {\n  name: ActiveSkillName\n  untrained: boolean\n  attr: CharacterAttr\n  altAttr?: CharacterAttr\n  specializations: string[]\n  multiSpecialization?: boolean\n}\n\nexport const activeSkills: Record<ActiveSkillName, ActiveSkill> = {\n  [ActiveSkillName.astral]: {\n    name: ActiveSkillName.astral,\n    untrained: false,\n    attr: CharacterAttr.intuition,\n    specializations: Object.values(Specializations.Astral),\n  },\n  [ActiveSkillName.athletics]: {\n    name: ActiveSkillName.athletics,\n    untrained: true,\n    attr: CharacterAttr.agility,\n    altAttr: CharacterAttr.strength,\n    specializations: Object.values(Specializations.Athletics),\n  },\n  [ActiveSkillName.biotech]: {\n    name: ActiveSkillName.biotech,\n    untrained: false,\n    attr: CharacterAttr.logic,\n    altAttr: CharacterAttr.intuition,\n    specializations: Object.values(Specializations.Biotech),\n  },\n  [ActiveSkillName.closeCombat]: {\n    name: ActiveSkillName.closeCombat,\n    untrained: true,\n    attr: CharacterAttr.agility,\n    specializations: Object.values(Specializations.CloseCombat),\n  },\n  [ActiveSkillName.con]: {\n    name: ActiveSkillName.con,\n    untrained: true,\n    attr: CharacterAttr.charisma,\n    specializations: Object.values(Specializations.Con),\n  },\n  [ActiveSkillName.conjuring]: {\n    name: ActiveSkillName.conjuring,\n    untrained: false,\n    attr: CharacterAttr.magic,\n    specializations: Object.values(Specializations.Conjuring),\n  },\n  [ActiveSkillName.cracking]: {\n    name: ActiveSkillName.cracking,\n    untrained: false,\n    attr: CharacterAttr.logic,\n    specializations: Object.values(Specializations.Cracking),\n  },\n  [ActiveSkillName.electronics]: {\n    name: ActiveSkillName.electronics,\n    untrained: true,\n    attr: CharacterAttr.logic,\n    altAttr: CharacterAttr.intuition,\n    specializations: Object.values(Specializations.Electronics),\n  },\n  [ActiveSkillName.enchanting]: {\n    name: ActiveSkillName.enchanting,\n    untrained: false,\n    attr: CharacterAttr.magic,\n    specializations: Object.values(Specializations.Enchanting),\n  },\n  [ActiveSkillName.engineering]: {\n    name: ActiveSkillName.engineering,\n    untrained: true,\n    attr: CharacterAttr.logic,\n    altAttr: CharacterAttr.intuition,\n    specializations: Object.values(Specializations.Engineering),\n  },\n  [ActiveSkillName.exoticWeapons]: {\n    name: ActiveSkillName.exoticWeapons,\n    untrained: false,\n    attr: CharacterAttr.agility,\n    multiSpecialization: true,\n    specializations: Object.values(Specializations.ExoticWeapons),\n  },\n  [ActiveSkillName.firearms]: {\n    name: ActiveSkillName.firearms,\n    untrained: true,\n    attr: CharacterAttr.agility,\n    specializations: Object.values(Specializations.Firearms),\n  },\n  [ActiveSkillName.influence]: {\n    name: ActiveSkillName.influence,\n    untrained: true,\n    attr: CharacterAttr.charisma,\n    altAttr: CharacterAttr.logic,\n    specializations: Object.values(Specializations.Influence),\n  },\n  [ActiveSkillName.outdoors]: {\n    name: ActiveSkillName.outdoors,\n    untrained: true,\n    attr: CharacterAttr.intuition,\n    specializations: Object.values(Specializations.Outdoors),\n  },\n  [ActiveSkillName.perception]: {\n    name: ActiveSkillName.perception,\n    untrained: true,\n    attr: CharacterAttr.intuition,\n    altAttr: CharacterAttr.logic,\n    specializations: Object.values(Specializations.Perception),\n  },\n  [ActiveSkillName.piloting]: {\n    name: ActiveSkillName.piloting,\n    untrained: true,\n    attr: CharacterAttr.reaction,\n    specializations: Object.values(Specializations.Piloting),\n  },\n  [ActiveSkillName.sorcery]: {\n    name: ActiveSkillName.sorcery,\n    untrained: false,\n    attr: CharacterAttr.magic,\n    specializations: Object.values(Specializations.Sorcery),\n  },\n  [ActiveSkillName.stealth]: {\n    name: ActiveSkillName.stealth,\n    untrained: true,\n    attr: CharacterAttr.agility,\n    specializations: Object.values(Specializations.Stealth),\n  },\n  [ActiveSkillName.tasking]: {\n    name: ActiveSkillName.tasking,\n    untrained: false,\n    attr: CharacterAttr.resonance,\n    specializations: Object.values(Specializations.Tasking),\n  },\n}\n","import { createContext, FC, useContext } from 'react'\n\nimport { AttrList, AttrType, AttrValue } from './Attribute'\n\nconst AttributeContext = createContext<AttrList>({})\n\ninterface AttributeProviderProps {\n  attributes: AttrList\n}\n\nexport const AttributeProvider: FC<AttributeProviderProps> = ({\n  attributes,\n  children,\n}) => {\n  const parentAttrs = useAttributes()\n\n  return (\n    <AttributeContext.Provider value={{ ...parentAttrs, ...attributes }}>\n      {children}\n    </AttributeContext.Provider>\n  )\n}\n\nexport const useAttributes = (keys?: string[]): AttrList => {\n  const allAttributes = useContext(AttributeContext)\n  if (!keys) return allAttributes\n\n  const filtered: AttrList = {}\n  keys.forEach(key => filtered[key] = allAttributes[key])\n  return filtered\n}\n\nexport function useAttribute<T extends AttrValue> (type: AttrType): T {\n  return (useAttributes()[type] as T)\n}\n","import { createContext, FC, useContext, useEffect, useState } from 'react'\n\nimport { RecordId } from '../../Api/Model'\nimport { noOp } from '../../Helpers'\nimport { DamageType } from './DamageType'\n\ntype DamageSetter = (value: number) => void;\n\ntype DamageContextData = {\n  [type in DamageType]?: {\n    value: number\n    setValue?: DamageSetter\n  };\n};\n\nconst DamageContext = createContext<DamageContextData>({})\n\ninterface DamageProviderProps {\n  type: DamageType\n  id: RecordId\n}\n\nexport const DamageProvider: FC<DamageProviderProps> = ({\n  type,\n  id,\n  children,\n}) => {\n  const dmgSessionKey = `dmg.${id}.${type}`\n  const [value, setDmgValue] = useState<number>(0)\n\n  useEffect(() => {\n    const value = parseInt(localStorage.getItem(dmgSessionKey) || '0')\n    setDmgValue(value)\n  }, [dmgSessionKey])\n\n  const onDmgChange = (value: number) => {\n    setDmgValue(value)\n    localStorage.setItem(dmgSessionKey, value.toString())\n  }\n\n  const damages: DamageContextData = {\n    ...useContext(DamageContext),\n    [type]: { value, setValue: onDmgChange },\n  }\n\n  return (\n    <DamageContext.Provider value={damages}>\n      {children}\n    </DamageContext.Provider>\n  )\n}\n\nexport const useDamage = (type: DamageType): number => {\n  return useContext(DamageContext)[type]?.value || 0\n}\n\nexport const useSetDamage = (type: DamageType): DamageSetter => {\n  return useContext(DamageContext)[type]?.setValue || noOp\n}\n\nexport const useDamagePenalty = (types: DamageType[]): number => {\n  const damageData = useContext(DamageContext)\n\n  return types\n    .map(type => damageData[type]?.value || 0)\n    .map(value => Math.floor(value / 3))\n    .reduce((a, b) => a + b, 0)\n}\n","import { KnowledgeSkillData } from './KnowledgeSkillData'\nimport { LanguageSkillData } from './LanguageSkillData'\n\nimport { CharacterActiveSkill } from './index'\n\nexport type SkillList = Record<string, CharacterActiveSkill>\n\nexport enum SkillType {\n  active = 'active',\n  language = 'language',\n  knowledge = 'knowledge',\n}\n\nexport interface BasicSkillData {\n  type: SkillType\n}\n\nexport type SkillData =\n  | CharacterActiveSkill\n  | LanguageSkillData\n  | KnowledgeSkillData\n\nexport function isActiveSkill (skill: BasicSkillData): skill is CharacterActiveSkill {\n  return skill.type === SkillType.active\n}\n\nexport function isLanguageSkill (skill: BasicSkillData): skill is LanguageSkillData {\n  return skill.type === SkillType.language\n}\n\nexport function isKnowledgeSkill (skill: BasicSkillData): skill is KnowledgeSkillData {\n  return skill.type === SkillType.knowledge\n}\n","export enum DamageType {\n  charPhysical,\n  charStun,\n  vehiclePhysical\n}\n","import { faWifi } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { Box, Paper } from '@mui/material'\nimport React, { FC } from 'react'\n\nimport { useActiveSkills } from '../Character/CharacterProvider'\nimport { GearData } from '../Gear/GearData'\nimport { ActiveSkillName, CharacterActiveSkill, hasExpertise, hasSpecialty } from '../Skills'\nimport { formatAttr } from '../System/Attribute'\nimport { useAttributes } from '../System/AttributeProvider'\nimport { useDamagePenalty } from '../System/Damage/DamageProvider'\nimport { DamageType } from '../System/Damage/DamageType'\nimport { collectEffects, isDicePoolBonus } from '../System/Effect'\n\nexport interface DiceGroup {\n  name: string\n  size: number | undefined\n  default?: number\n  wireless?: boolean\n}\n\nexport const DicePools: FC = ({\n  children,\n}) => {\n  return <Paper variant=\"outlined\" sx={{ padding: 1, display: 'flex', gap: 1, flexWrap: 'wrap' }}>\n    {children}\n  </Paper>\n}\n\nexport interface DicePoolData {\n  name: string\n  poolKey?: string\n  skills?: ActiveSkillName[]\n  attrs?: string[]\n  bonuses?: DiceGroup[]\n  dmgPenaltyTypes?: DamageType[]\n}\n\nexport const skillSpecialtyBonus = (\n  skill: CharacterActiveSkill | undefined,\n  specialtyName: string | undefined,\n): DiceGroup | null => {\n  if (!skill || !specialtyName)\n    return null\n\n  if (hasSpecialty(skill, specialtyName))\n    return { name: 'Specialty', size: 2 }\n\n  if (hasExpertise(skill, specialtyName))\n    return { name: 'Expertise', size: 3 }\n\n  return null\n}\n\nexport const collectEffectBonuses = (\n  gear: GearData[],\n  poolKey: string,\n): DiceGroup[] => {\n  return collectEffects(gear)\n    .filter(isDicePoolBonus)\n    .filter(effect => effect.poolType === poolKey)\n    .map(effect => ({ name: effect.name, size: effect.bonus, wireless: effect.wireless }) as DiceGroup)\n}\n\ntype DicePoolProps = {\n  name: string\n  groups?: DiceGroup[]\n  dmgPenaltyTypes?: DamageType[]\n} & DicePoolData\n\nexport const DicePool: FC<DicePoolProps> = ({\n  name,\n  skills = [],\n  attrs = [],\n  bonuses = [],\n  groups = [],\n  dmgPenaltyTypes = [],\n}) => {\n  const skillList = useActiveSkills(skills)\n  const attrList = useAttributes(attrs)\n  const dmgPenalty = useDamagePenalty(dmgPenaltyTypes)\n\n  groups = [\n    ...groups,\n    ...Object.values(skillList)\n      .map(skill => ({ name: skill.name, size: skill.rank })),\n    ...Object.entries(attrList)\n      .filter(([_, value]) => typeof value === 'number')\n      .map(([attrType, value]) => ({ name: formatAttr(attrType), size: value as number })),\n    ...bonuses,\n  ]\n\n  if (dmgPenalty > 0) {\n    groups = [...groups, { name: 'Dmg. Penalty', size: dmgPenalty * -1 }]\n  }\n\n  const total = Math.max(0, groups.map(g => g.size || g.default || 0).reduce((a, b) => a + b, 0))\n\n  return (\n    <Box sx={{ display: 'inline-flex', flexDirection: 'column' }}>\n      <DiceGroupDisplay name={name} size={total} total />\n      {groups.map(group => (\n        <DiceGroupDisplay\n          key={group.name}\n          name={group.name}\n          size={group.size || group.default || 0}\n          wireless={group.wireless}\n        />\n      ))}\n    </Box>\n  )\n}\n\ninterface DiceGroupDisplayProps {\n  name: string\n  size: number\n  total?: boolean\n  wireless?: boolean\n}\n\nconst DiceGroupDisplay: FC<DiceGroupDisplayProps> = ({\n  name,\n  size,\n  total,\n  wireless = false,\n}) => {\n  const sizeStyles = { display: 'inline-block', padding: 0.5, width: 30, textAlign: 'center' } as const\n  const nameStyles = { display: 'inline-block', padding: 0.5, marginRight: 1 } as const\n\n  return (\n    <Box sx={{ display: 'flex', fontSize: total ? 14 : 12, backgroundColor: total ? '#424242' : undefined }}>\n      <Box sx={sizeStyles}>{size}</Box>\n      <Box sx={nameStyles}>{name}</Box>\n      {wireless && <Box sx={nameStyles}><FontAwesomeIcon icon={faWifi} /></Box>}\n    </Box>\n  )\n}\n","import { Box, Paper, Stack, Typography } from '@mui/material'\nimport { FC } from 'react'\n\nimport { DicePool } from '../UI/DicePool'\nimport { activeSkills } from './ActiveSkill'\nimport { CharacterActiveSkill } from './CharacterActiveSkill'\n\ninterface SkillListProps {\n  charSkills: CharacterActiveSkill[]\n}\n\nexport const ActiveSkillList: FC<SkillListProps> = ({\n  charSkills,\n}) => {\n  return (\n    <Stack gap={1} direction=\"row\" sx={{ flexWrap: 'wrap' }}>\n      {charSkills.map(skill => (\n        <ActiveSkillRow key={skill.name} charSkill={skill} />\n      ))}\n    </Stack>\n  )\n}\n\ninterface SkillListRowProps {\n  charSkill: CharacterActiveSkill\n}\n\nconst ActiveSkillRow: FC<SkillListRowProps> = ({\n  charSkill,\n}) => {\n  const activeSkill = activeSkills[charSkill.name]\n\n  return (\n    <Box sx={{ width: 175 }}>\n      <div>\n        <Typography sx={{ color: 'primary.main', display: 'inline' }}>{charSkill.name}</Typography>\n        <Typography sx={{ paddingLeft: 1, display: 'inline' }}>{charSkill.rank}</Typography>\n      </div>\n      <Paper variant=\"outlined\" sx={{ padding: 1 }}>\n        <Stack gap={1}>\n          <DicePool\n            name={activeSkill.name}\n            poolKey={`activeSkill.${activeSkill.name}.${activeSkill.attr}`}\n            attrs={[activeSkill.attr]}\n            skills={[activeSkill.name]}\n          />\n\n          {activeSkill.altAttr && (\n            <DicePool\n              name={activeSkill.name}\n              poolKey={`activeSkill.${activeSkill.name}.${activeSkill.altAttr}`}\n              attrs={[activeSkill.altAttr]}\n              skills={[activeSkill.name]}\n            />\n          )}\n        </Stack>\n\n        <Typography variant=\"caption\">\n          {charSkill.specialization && <> S. {charSkill.specialization} (+2)</>}\n          {charSkill.expertise && <> E. {charSkill.expertise} (+3)</>}\n        </Typography>\n      </Paper>\n    </Box>\n  )\n}\n","import { ActiveSkillName } from './ActiveSkillName'\nimport { BasicSkillData, SkillType } from './SkillData'\n\nexport interface CharacterActiveSkill extends BasicSkillData {\n  type: SkillType.active\n  name: ActiveSkillName\n  rank: number\n  specialization?: string\n  expertise?: string\n}\n\nexport const hasSpecialty = (skill?: CharacterActiveSkill, specialization?: string): boolean => {\n  if (!specialization || !skill || !skill.specialization) return false\n  return skill.specialization.toLowerCase() === specialization.toLowerCase()\n}\n\nexport const hasExpertise = (skill?: CharacterActiveSkill, expertise?: string): boolean => {\n  if (!expertise || !skill || !skill.expertise) return false\n  return skill.expertise.toLowerCase() === expertise.toLowerCase()\n}\n","import { Table, TableBody, TableCell, TableHead, TableRow } from '@mui/material'\nimport { FC } from 'react'\n\nimport { KnowledgeSkillData } from './KnowledgeSkillData'\n\ninterface SkillListProps {\n  skills: KnowledgeSkillData[]\n}\n\nexport const KnowledgeSkillList: FC<SkillListProps> = ({\n  skills,\n}) => {\n  return (\n    <Table size=\"small\" aria-label=\"a dense table\">\n      <TableHead>\n        <TableRow>\n          <TableCell>Name</TableCell>\n        </TableRow>\n      </TableHead>\n      <TableBody>\n        {skills.map(skill => <SkillListRow key={skill.name} skill={skill} />)}\n      </TableBody>\n    </Table>\n  )\n}\n\ninterface SkillListRowProps {\n  skill: KnowledgeSkillData\n}\n\nconst SkillListRow: FC<SkillListRowProps> = ({\n  skill,\n}) => {\n  return (\n    <TableRow key={skill.name}>\n      <TableCell colSpan={3}>{skill.name}</TableCell>\n    </TableRow>\n  )\n}\n","import { Table, TableBody, TableCell, TableHead, TableRow } from '@mui/material'\nimport { FC } from 'react'\n\nimport { LanguageSkillData } from './LanguageSkillData'\n\ninterface SkillListProps {\n  skills: LanguageSkillData[]\n}\n\nexport const LanguageSkillList: FC<SkillListProps> = ({\n  skills,\n}) => {\n  return (\n    <Table size=\"small\" aria-label=\"a dense table\">\n      <TableHead>\n        <TableRow>\n          <TableCell>Name</TableCell>\n          <TableCell>Rank</TableCell>\n        </TableRow>\n      </TableHead>\n      <TableBody>\n        {skills.map(skill => (\n          <SkillListRow key={skill.name} skill={skill} />\n        ))}\n      </TableBody>\n    </Table>\n  )\n}\n\ninterface SkillListRowProps {\n  skill: LanguageSkillData\n}\n\nconst SkillListRow: FC<SkillListRowProps> = ({\n  skill,\n}) => {\n  return (\n    <TableRow key={skill.name}>\n      <TableCell>{skill.name}</TableCell>\n      <TableCell>{skill.rank}</TableCell>\n    </TableRow>\n  )\n}\n","import { createContext, FC, useContext } from 'react'\n\nimport { AugmentAttr } from '../Gear/Augments/AugmentAttr'\nimport { isAugment } from '../Gear/Augments/AugmentData'\nimport { GearProvider } from '../Gear/GearContext'\nimport { ActiveSkillName, activeSkills, CharacterActiveSkill, isActiveSkill, SkillList, SkillType } from '../Skills'\nimport { calculateAttributes } from '../System/Attribute'\nimport { AttributeProvider } from '../System/AttributeProvider'\nimport { DamageProvider } from '../System/Damage/DamageProvider'\nimport { DamageType } from '../System/Damage/DamageType'\nimport { collectEffects, isSkillBonus } from '../System/Effect'\nimport { Character } from './Character'\nimport { CharacterAttr } from './CharacterAttr'\nimport { CharacterData } from './CharacterData'\n\nconst CharacterContext = createContext<Character | null>(null)\n\ninterface CharacterProviderProps {\n  character: Character\n}\n\nexport const CharacterProvider: FC<CharacterProviderProps> = ({\n  character,\n  children,\n}) => {\n  const characterData = character.data\n\n  const attributes = calculateAttributes(characterData.attributes, characterData.gear)\n\n  attributes[CharacterAttr.essence] = characterData.gear\n    .filter(isAugment)\n    .map(augment => augment.attributes[AugmentAttr.essenceCost])\n    .reduce((essence, essenceCost) => essence - essenceCost, 6)\n\n  return (\n    <CharacterContext.Provider value={character}>\n      <AttributeProvider attributes={attributes}>\n        <GearProvider gear={characterData.gear}>\n          <DamageProvider type={DamageType.charPhysical} id={character.id}>\n            <DamageProvider type={DamageType.charStun} id={character.id}>\n              {children}\n            </DamageProvider>\n          </DamageProvider>\n        </GearProvider>\n      </AttributeProvider>\n    </CharacterContext.Provider>\n  )\n}\n\nexport const useCharacter = (): Character | null => {\n  return useContext(CharacterContext)\n}\n\nexport const useCharacterData = (): CharacterData | null => {\n  return useCharacter()?.data || null\n}\n\nexport function useActiveSkills (skills: ActiveSkillName[]): SkillList {\n  const character = useCharacterData()\n  if (!character) return {}\n\n  const skillList: SkillList = {}\n\n  skills.forEach(skill => {\n    const charSkill = getActiveSkill(skill, character)\n    if (charSkill) { skillList[charSkill.name] = charSkill }\n  })\n\n  return skillList\n}\n\nexport function useActiveSkill (skill: ActiveSkillName): CharacterActiveSkill | undefined {\n  const character = useCharacterData()\n  if (!character) return undefined\n\n  return getActiveSkill(skill, character)\n}\n\nexport function getActiveSkill (skill: ActiveSkillName, character: CharacterData): CharacterActiveSkill | undefined {\n  const gear = character.gear\n  const activeSkill = activeSkills[skill]\n\n  const charSkill = character.skills\n    .filter(isActiveSkill)\n    .find(charSkill => charSkill.name === skill)\n\n  if (charSkill) {\n    const rank = collectEffects(gear)\n      .filter(isSkillBonus)\n      .filter(effect => effect.skill === skill)\n      .reduce((sum, effect) => sum + effect.bonus, charSkill.rank)\n\n    return { ...charSkill, rank }\n  } else if (activeSkill.untrained) {\n    return { type: SkillType.active, name: activeSkill.name, rank: -1 }\n  } else {\n    return undefined\n  }\n}\n","import { FC } from 'react'\n\nexport const PistolSvg: FC = () => {\n  return (\n    <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 306.539 306.539\" enableBackground=\"new 0 0 306.539 306.539\">\n      <g>\n        <path d=\"M298.489,88.77c4.446,0,8.05-3.604,8.05-8.05V54.918c0-4.446-3.604-8.05-8.05-8.05h-13.95v-0.05   c0-4.446-3.604-8.05-8.05-8.05h-60.067c-4.446,0-8.049,3.604-8.049,8.05v13.276c0,3.313-2.687,6-6,6h-69.834c-3.314,0-6-2.687-6-6   V46.819c0-4.446-3.604-8.05-8.05-8.05H18.122C8.114,38.77,0,46.883,0,56.892V88.77H298.489z\"/>\n        <path d=\"m0,100.77v4.443c0,10.009 8.114,18.123 18.122,18.123h3.491l-20.015,106.774c-1.743,9.298 0.744,18.889 6.786,26.169s15.01,11.491 24.47,11.491h48.624c15.303,0 28.437-10.9 31.256-25.942l10.818-57.713c2.965,0.189 5.962,0.296 8.986,0.296 20.268,0 39.479-4.302 54.094-12.111 16.599-8.871 25.74-21.376 25.74-35.21 0-4.777-1.115-9.39-3.226-13.755h67.342c4.446,0 8.05-3.604 8.05-8.05v-14.515h-284.538zm132.539,63.641c-1.783,0-3.536-0.048-5.269-0.124l4.6-24.541c4.677,6.26 10.613,11.876 18.155,16.056 1.535,0.851 3.198,1.255 4.838,1.255 3.518,0 6.93-1.86 8.756-5.155 2.677-4.83 0.931-10.917-3.9-13.594-6.44-3.569-11.231-8.954-14.798-14.973h38.306c5.826,4.289 9.146,9.119 9.146,13.755 0,12.896-25.589,27.321-59.834,27.321z\"/>\n      </g>\n    </svg>\n  )\n}\n","export enum AwakenedType {\n  Mundane = 'Mundane',\n  Full = 'Full',\n  Aspected = 'Aspected',\n  Mystic = 'Mystic',\n  Adept = 'Adept',\n  Technomancer = 'Technomancer',\n}\n","export enum Metatype {\n  Dwarf = 'Dwarf',\n  Elf = 'Elf',\n  Human = 'Human',\n  Ork = 'Ork',\n  Troll = 'Troll'\n}\n","import { ListItem, ListItemIcon, ListItemText, SvgIcon } from '@mui/material'\nimport { FC, ReactElement } from 'react'\nimport { useHistory } from 'react-router-dom'\n\nexport interface NavDrawerProps {\n  open: boolean\n\n  closeDrawer (): void\n}\n\nexport type NavDrawer = FC<NavDrawerProps>\n\ninterface NavButtonProps {\n  icon: ReactElement\n  label: string\n  routeTo: string\n\n  closeDrawer (): void\n}\n\nexport const NavButton: FC<NavButtonProps> = ({\n  icon,\n  label,\n  routeTo,\n  closeDrawer,\n}) => {\n  const history = useHistory()\n\n  const onNavClick = () => {\n    history.push(routeTo)\n    closeDrawer()\n  }\n\n  return (\n    <ListItem button onClick={onNavClick}>\n      <ListItemIcon>\n        <SvgIcon>{icon}</SvgIcon>\n      </ListItemIcon>\n      <ListItemText primary={label} />\n    </ListItem>\n  )\n}\n","import { faUsers } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { Box, Drawer, List } from '@mui/material'\n\nimport { NavButton, NavDrawer } from './index'\n\nexport const DefaultNavDrawer: NavDrawer = ({\n  open,\n  closeDrawer,\n  children,\n}) => {\n  return (\n    <Drawer anchor=\"left\" open={open} onClose={closeDrawer}>\n      {children}\n\n      <Box sx={{ flexGrow: 1 }} />\n\n      <List>\n        <NavButton\n          icon={<FontAwesomeIcon icon={faUsers} />}\n          label=\"Characters\"\n          routeTo={'/characters'}\n          closeDrawer={closeDrawer}\n        />\n      </List>\n    </Drawer>\n  )\n}\n","import { faArchive, faAward, faCarAlt, faCogs, faMagic, faUser, faYenSign } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { Divider, List } from '@mui/material'\n\nimport { CharacterAttr } from '../../Character/CharacterAttr'\nimport { useCharacter } from '../../Character/CharacterProvider'\nimport { PistolSvg } from '../../Gear/Weapons/PistolSvg'\nimport { useAttribute } from '../../System/AttributeProvider'\nimport { DefaultNavDrawer } from './DefaultNavDrawer'\n\nimport { NavButton, NavDrawer } from './index'\n\nexport const CharacterNavDrawer: NavDrawer = ({\n  open,\n  closeDrawer,\n}) => {\n  const character = useCharacter()\n  const showSpells = useAttribute(CharacterAttr.magic) || 0 >= 1\n\n  if (!character) return null\n\n  return (\n    <DefaultNavDrawer open={open} closeDrawer={closeDrawer}>\n      <List>\n        <NavButton\n          icon={<FontAwesomeIcon icon={faUser} />}\n          label={character.name}\n          routeTo={`/${character.id}`}\n          closeDrawer={closeDrawer}\n        />\n        <NavButton\n          icon={<PistolSvg />}\n          label=\"Weapons\"\n          routeTo={`/${character.id}/weapons`}\n          closeDrawer={closeDrawer}\n        />\n        {showSpells && (\n          <NavButton\n            icon={<FontAwesomeIcon icon={faMagic} />}\n            label=\"Spells\"\n            routeTo={`/${character.id}/spells`}\n            closeDrawer={closeDrawer}\n          />\n        )}\n        <NavButton\n          icon={<FontAwesomeIcon icon={faCarAlt} />}\n          label=\"Vehicles\"\n          routeTo={`/${character.id}/vehicles`}\n          closeDrawer={closeDrawer}\n        />\n        <NavButton\n          icon={<FontAwesomeIcon icon={faCogs} />}\n          label=\"Augments\"\n          routeTo={`/${character.id}/augments`}\n          closeDrawer={closeDrawer}\n        />\n        <NavButton\n          icon={<FontAwesomeIcon icon={faArchive} />}\n          label=\"Other\"\n          routeTo={`/${character.id}/misc`}\n          closeDrawer={closeDrawer}\n        />\n        <Divider />\n        <NavButton\n          icon={<FontAwesomeIcon icon={faYenSign} />}\n          label=\"Nyuen\"\n          routeTo={`/${character.id}/Nuyen`}\n          closeDrawer={closeDrawer}\n        />\n        <NavButton\n          icon={<FontAwesomeIcon icon={faAward} />}\n          label=\"Karma\"\n          routeTo={`/${character.id}/karma`}\n          closeDrawer={closeDrawer}\n        />\n      </List>\n    </DefaultNavDrawer>\n  )\n}\n","import { Add, Remove } from '@mui/icons-material'\nimport { Box, IconButton } from '@mui/material'\nimport { FC } from 'react'\n\nexport interface IncrementorProps {\n  min?: number\n  max?: number\n  value: number\n\n  onChange (value: number): void\n}\n\nexport const Incrementor: FC<IncrementorProps> = ({\n  min = -Infinity,\n  max = Infinity,\n  value,\n  onChange,\n}) => {\n  return (\n    <Box>\n      <IconButton aria-label=\"delete\" size=\"small\" onClick={() => onChange(Math.max(value - 1, min))}>\n        <Remove fontSize=\"inherit\" />\n      </IconButton>\n      <Box sx={{ display: 'inline-block', padding: '0 4px' }}>{value}</Box>\n      <IconButton aria-label=\"delete\" size=\"small\" onClick={() => onChange(Math.min(value + 1, max))}>\n        <Add fontSize=\"inherit\" />\n      </IconButton>\n    </Box>\n  )\n}\n","import { TableCell, TableRow } from '@mui/material'\nimport { FC } from 'react'\n\nimport { formatAttr } from '../../../System/Attribute'\nimport { Incrementor } from '../../../UI/Incrementor'\nimport { CharacterAttr, specialAttrs } from '../../CharacterAttr'\n\ninterface AttrTableRowProps {\n  attribute: CharacterAttr\n  base: number\n  adjPoints: number\n  attrPoints: number\n  karmaPoints: number\n  maximum: number\n\n  onAdjPointsChange (value: number): void\n\n  onAttrPointsChange (value: number): void\n\n  onKarmaPointsChange (value: number): void\n}\n\nexport const AttrTableRow: FC<AttrTableRowProps> = ({\n  attribute,\n  base,\n  adjPoints,\n  attrPoints,\n  karmaPoints,\n  maximum,\n  onAdjPointsChange,\n  onAttrPointsChange,\n  onKarmaPointsChange,\n}) => {\n  const allowAdjPoints = maximum >= 7 || specialAttrs.includes(attribute)\n  const total = base + adjPoints + attrPoints + karmaPoints\n\n  return (\n    <TableRow>\n      <TableCell>\n        {formatAttr(attribute)}\n      </TableCell>\n      <TableCell sx={{ color: total > maximum ? 'error.main' : undefined }}>\n        {maximum}\n      </TableCell>\n      <TableCell>\n        {base}\n      </TableCell>\n      <TableCell>\n        <AttrIncrementor disabled={!allowAdjPoints} value={adjPoints} onChange={onAdjPointsChange} />\n      </TableCell>\n      <TableCell>\n        <AttrIncrementor value={attrPoints} onChange={onAttrPointsChange} />\n      </TableCell>\n      <TableCell>\n        <AttrIncrementor value={karmaPoints} onChange={onKarmaPointsChange} />\n      </TableCell>\n      <TableCell sx={{ color: total > maximum ? 'error.main' : undefined }}>\n        {total}\n      </TableCell>\n    </TableRow>\n  )\n}\n\ninterface AttrIncrementorProps {\n  disabled?: boolean\n  value: number\n\n  onChange (value: number): void\n}\n\nconst AttrIncrementor: FC<AttrIncrementorProps> = ({\n  disabled,\n  value,\n  onChange,\n}) => {\n  if (disabled) return <>-</>\n  return <Incrementor min={0} value={value} onChange={onChange} />\n}\n","import { CharacterAttr } from '../../CharacterAttr'\nimport { CharAttributes } from '../../CharacterData'\nimport { Metatype } from '../../Metatypes'\n\nexport const metatypeMaximums: Record<Metatype, CharAttributes> = {\n  Dwarf: {\n    [CharacterAttr.body]: 7,\n    [CharacterAttr.agility]: 6,\n    [CharacterAttr.reaction]: 5,\n    [CharacterAttr.strength]: 8,\n    [CharacterAttr.willpower]: 7,\n    [CharacterAttr.logic]: 6,\n    [CharacterAttr.intuition]: 6,\n    [CharacterAttr.charisma]: 6,\n    [CharacterAttr.edge]: 7,\n    [CharacterAttr.magic]: 6,\n    [CharacterAttr.resonance]: 6,\n    [CharacterAttr.essence]: 6,\n  },\n  Elf: {\n    [CharacterAttr.body]: 6,\n    [CharacterAttr.agility]: 7,\n    [CharacterAttr.reaction]: 6,\n    [CharacterAttr.strength]: 6,\n    [CharacterAttr.willpower]: 6,\n    [CharacterAttr.logic]: 6,\n    [CharacterAttr.intuition]: 6,\n    [CharacterAttr.charisma]: 8,\n    [CharacterAttr.edge]: 6,\n    [CharacterAttr.magic]: 6,\n    [CharacterAttr.resonance]: 6,\n    [CharacterAttr.essence]: 6,\n  },\n  Human: {\n    [CharacterAttr.body]: 6,\n    [CharacterAttr.agility]: 6,\n    [CharacterAttr.reaction]: 6,\n    [CharacterAttr.strength]: 6,\n    [CharacterAttr.willpower]: 6,\n    [CharacterAttr.logic]: 6,\n    [CharacterAttr.intuition]: 6,\n    [CharacterAttr.charisma]: 6,\n    [CharacterAttr.edge]: 7,\n    [CharacterAttr.magic]: 6,\n    [CharacterAttr.resonance]: 6,\n    [CharacterAttr.essence]: 6,\n  },\n  Ork: {\n    [CharacterAttr.body]: 8,\n    [CharacterAttr.agility]: 1,\n    [CharacterAttr.reaction]: 1,\n    [CharacterAttr.strength]: 8,\n    [CharacterAttr.willpower]: 1,\n    [CharacterAttr.logic]: 1,\n    [CharacterAttr.intuition]: 1,\n    [CharacterAttr.charisma]: 5,\n    [CharacterAttr.edge]: 1,\n    [CharacterAttr.magic]: 6,\n    [CharacterAttr.resonance]: 6,\n    [CharacterAttr.essence]: 6,\n  },\n  Troll: {\n    [CharacterAttr.body]: 9,\n    [CharacterAttr.agility]: 5,\n    [CharacterAttr.reaction]: 1,\n    [CharacterAttr.strength]: 9,\n    [CharacterAttr.willpower]: 1,\n    [CharacterAttr.logic]: 1,\n    [CharacterAttr.intuition]: 1,\n    [CharacterAttr.charisma]: 5,\n    [CharacterAttr.edge]: 1,\n    [CharacterAttr.magic]: 6,\n    [CharacterAttr.resonance]: 6,\n    [CharacterAttr.essence]: 6,\n  },\n}\n","import { Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow } from '@mui/material'\nimport { FC, useState } from 'react'\n\nimport { AwakenedType } from '../../AwakenedType'\nimport { CharacterAttr } from '../../CharacterAttr'\nimport { CharAttributes } from '../../CharacterData'\nimport { Metatype } from '../../Metatypes'\nimport { AttrTableRow } from './AttrTableRow'\nimport { metatypeMaximums } from './metatypeMaximums'\n\nconst defaultAttributes: CharAttributes = {\n  [CharacterAttr.body]: 0,\n  [CharacterAttr.agility]: 0,\n  [CharacterAttr.reaction]: 0,\n  [CharacterAttr.strength]: 0,\n  [CharacterAttr.willpower]: 0,\n  [CharacterAttr.logic]: 0,\n  [CharacterAttr.intuition]: 0,\n  [CharacterAttr.charisma]: 0,\n  [CharacterAttr.edge]: 0,\n  [CharacterAttr.magic]: 0,\n  [CharacterAttr.resonance]: 0,\n  [CharacterAttr.essence]: 0,\n}\n\ninterface AttributesTableProps {\n  metatype: Metatype\n  awakened: AwakenedType\n  attributePoints: number\n  adjustmentPoints: number\n  magic: number\n\n  onChange (attributes: CharAttributes): void\n}\n\nexport const AttributesTable: FC<AttributesTableProps> = ({\n  metatype,\n  awakened,\n  attributePoints,\n  adjustmentPoints,\n  magic,\n  onChange,\n}) => {\n  const [adjPointsSpent, setAdjPointsSpent] = useState<CharAttributes>(defaultAttributes)\n  const [pointsSpent, setPointsSpent] = useState<CharAttributes>(defaultAttributes)\n  const [karmaPoints, setKarmaPoints] = useState<CharAttributes>(defaultAttributes)\n\n  const base: CharAttributes = {\n    [CharacterAttr.body]: 1,\n    [CharacterAttr.agility]: 1,\n    [CharacterAttr.reaction]: 1,\n    [CharacterAttr.strength]: 1,\n    [CharacterAttr.willpower]: 1,\n    [CharacterAttr.logic]: 1,\n    [CharacterAttr.intuition]: 1,\n    [CharacterAttr.charisma]: 1,\n    [CharacterAttr.edge]: 1,\n    [CharacterAttr.magic]: 0,\n    [CharacterAttr.resonance]: 0,\n    [CharacterAttr.essence]: 0,\n  }\n\n  const excludedAttributes: CharacterAttr[] = [\n    CharacterAttr.essence,\n  ]\n\n  switch (awakened) {\n    case AwakenedType.Technomancer:\n      base[CharacterAttr.resonance] = magic\n      excludedAttributes.push(CharacterAttr.magic)\n      break\n    case AwakenedType.Aspected:\n      base[CharacterAttr.magic] = magic + 1\n      excludedAttributes.push(CharacterAttr.resonance)\n      break\n    case AwakenedType.Mundane:\n      excludedAttributes.push(CharacterAttr.magic)\n      excludedAttributes.push(CharacterAttr.resonance)\n      break\n    default:\n      base[CharacterAttr.magic] = magic\n      excludedAttributes.push(CharacterAttr.resonance)\n  }\n\n  const totalAdjPointsSpent = Object.entries(adjPointsSpent)\n    .map(([attr, rank]) => ({ attr: attr as CharacterAttr, rank }))\n    .filter(({ attr }) => !excludedAttributes.includes(attr))\n    .map(({ rank }) => rank)\n    .reduce((sum: number, points: number) => sum + points)\n\n  const totalPointsSpent = Object.entries(pointsSpent)\n    .map(([attr, rank]) => ({ attr: attr as CharacterAttr, rank }))\n    .filter(({ attr }) => !excludedAttributes.includes(attr))\n    .map(({ rank }) => rank)\n    .reduce((sum: number, points: number) => sum + points)\n\n  const totalKarmaCost = calcKaramaCost(karmaPoints, mergePointLists([\n    adjPointsSpent,\n    pointsSpent,\n    base,\n  ]))\n\n  return (\n    <TableContainer component={Paper}>\n      <Table sx={{ '& th, & td': { textAlign: 'center' } }}>\n        <TableHead>\n          <TableRow>\n            <TableCell>\n              Attribute\n            </TableCell>\n            <TableCell>\n              Max\n            </TableCell>\n            <TableCell>\n              Base\n            </TableCell>\n            <TableCell\n              sx={{ color: totalAdjPointsSpent > adjustmentPoints ? 'error.main' : undefined }}\n            >\n              Metatype ({adjustmentPoints - totalAdjPointsSpent})\n            </TableCell>\n            <TableCell\n              sx={{ color: totalPointsSpent > attributePoints ? 'error.main' : undefined }}\n            >\n              Points ({attributePoints - totalPointsSpent})\n            </TableCell>\n            <TableCell>\n              Karma ({totalKarmaCost} Karma)\n            </TableCell>\n            <TableCell>\n              Total\n            </TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {(Object.keys(base) as CharacterAttr[])\n            .filter(attribute => !excludedAttributes.includes(attribute))\n            .map(attribute => (\n              <AttrTableRow\n                key={attribute}\n                attribute={attribute}\n                base={base[attribute]}\n                adjPoints={adjPointsSpent[attribute]}\n                attrPoints={pointsSpent[attribute]}\n                karmaPoints={karmaPoints[attribute]}\n                maximum={metatypeMaximums[metatype][attribute]}\n                onAdjPointsChange={value => setAdjPointsSpent({ ...adjPointsSpent, [attribute]: value })}\n                onAttrPointsChange={value => setPointsSpent({ ...pointsSpent, [attribute]: value })}\n                onKarmaPointsChange={value => setKarmaPoints({ ...karmaPoints, [attribute]: value })}\n              />\n            ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n\nfunction mergePointLists (lists: CharAttributes[]): CharAttributes {\n  return lists.reduce((total, points) => {\n    for (const attribute of Object.values(CharacterAttr) as CharacterAttr[]) {\n      total = { ...total, [attribute]: (total[attribute] as number) + (points[attribute] as number) }\n    }\n\n    return total\n  })\n}\n\nfunction calcKaramaCost (karmaPoints: CharAttributes, preKarma: CharAttributes) {\n  return Object.entries(preKarma)\n    .map(([attr, rank]) => ({ attr: attr as CharacterAttr, rank }))\n    .filter(({ rank }) => rank && rank !== 0)\n    .map(({ attr, rank }): number => {\n      let cost = 0\n      let points = karmaPoints[attr] || 0\n\n      while (points >= 1) {\n        cost += (rank + 1) * 5\n        rank += 1\n        points -= 1\n      }\n\n      return cost\n    })\n    .reduce((sum, cost) => sum + cost)\n}\n","import { MenuItem, Stack, TextField } from '@mui/material'\nimport { FC } from 'react'\n\nimport { AwakenedType } from '../AwakenedType'\nimport { BioData } from '../CharacterData'\nimport { Metatype } from '../Metatypes'\n\ninterface BioSectionProps {\n  bio: BioData\n  metatypes: string[]\n  magicPriority: number\n\n  onChange (bio: BioData): void\n}\n\nexport const BioSection: FC<BioSectionProps> = ({\n  bio,\n  metatypes,\n  magicPriority,\n  onChange,\n}) => {\n  const showMetaTypeWarning = bio.metatype\n    && metatypes.length >= 1\n    && !metatypes.includes(bio.metatype)\n\n  console.log(bio.awakened, magicPriority)\n  const showAwakenedWarning =\n    (bio.awakened === AwakenedType.Mundane && magicPriority >= 1)\n    || (bio.awakened !== AwakenedType.Mundane && magicPriority === 0)\n\n  return (\n    <Stack gap={1}>\n      <Stack direction=\"row\" gap={1} sx={{ flexWrap: 'wrap' }}>\n        <TextField\n          sx={{ flexGrow: 1 }}\n          variant=\"standard\"\n          label=\"Alias\"\n          value={bio.alias}\n          onChange={event => onChange({ ...bio, alias: event.target.value })}\n        />\n\n        <TextField\n          sx={{ flexGrow: 1 }}\n          variant=\"standard\"\n          label=\"Name\"\n          value={bio.name}\n          onChange={event => onChange({ ...bio, name: event.target.value })}\n        />\n\n        <TextField\n          sx={{ flexGrow: 1 }}\n          variant=\"standard\"\n          label=\"Metatype\"\n          select\n          value={bio.metatype}\n          onChange={event => onChange({ ...bio, metatype: event.target.value as Metatype })}\n          focused={showMetaTypeWarning}\n          color={showMetaTypeWarning ? 'warning' : undefined}\n          helperText={showMetaTypeWarning ? 'Metatype unavailable at current priority' : undefined}\n        >\n          {Object.values(Metatype).map(metatype => (\n            <MenuItem key={metatype} value={metatype}>{metatype}</MenuItem>\n          ))}\n        </TextField>\n\n        <TextField\n          sx={{ flexGrow: 1 }}\n          variant=\"standard\"\n          label=\"Role\"\n          value={bio.role}\n          onChange={event => onChange({ ...bio, role: event.target.value })}\n        />\n\n        <TextField\n          sx={{ flexGrow: 1 }}\n          variant=\"standard\"\n          label=\"Awakened\"\n          select\n          value={bio.awakened}\n          onChange={event => onChange({ ...bio, awakened: event.target.value as AwakenedType })}\n          focused={showAwakenedWarning}\n          color={showAwakenedWarning ? 'warning' : undefined}\n          helperText={showAwakenedWarning ? 'Priority mismatch' : undefined}\n        >\n          {Object.values(AwakenedType).map(awakened => (\n            <MenuItem key={awakened} value={awakened}>{awakened}</MenuItem>\n          ))}\n        </TextField>\n      </Stack>\n\n      <Stack direction=\"row\" gap={1} sx={{ flexWrap: 'wrap' }}>\n        <TextField\n          sx={{ flexGrow: 1 }}\n          variant=\"standard\"\n          label=\"Ethnicity\"\n          value={bio.ethnicity}\n          onChange={event => onChange({ ...bio, ethnicity: event.target.value })}\n        />\n\n        <TextField\n          sx={{ flexGrow: 1 }}\n          variant=\"standard\"\n          label=\"Age\"\n          value={bio.age}\n          onChange={event => onChange({ ...bio, age: event.target.value })}\n        />\n\n        <TextField\n          sx={{ flexGrow: 1 }}\n          variant=\"standard\"\n          label=\"Gender\"\n          value={bio.gender}\n          onChange={event => onChange({ ...bio, gender: event.target.value })}\n        />\n\n        <TextField\n          sx={{ flexGrow: 1 }}\n          variant=\"standard\"\n          label=\"Height\"\n          value={bio.height}\n          onChange={event => onChange({ ...bio, height: event.target.value })}\n        />\n\n        <TextField\n          sx={{ flexGrow: 1 }}\n          variant=\"standard\"\n          label=\"Weight\"\n          value={bio.weight}\n          onChange={event => onChange({ ...bio, weight: event.target.value })}\n        />\n      </Stack>\n    </Stack>\n  )\n}\n","import { Metatype } from '../../Metatypes'\n\nexport enum PriorityStat {\n  metatype = 'metatype',\n  attributes = 'attributes',\n  skills = 'skills',\n  nuyen = 'nuyen',\n  magic = 'magic',\n}\n\nexport interface PriorityValues {\n  metatypes: string[]\n  adjustmentPoints: number\n  attributePoints: number\n  skillPoints: number\n  nuyen: number\n  magic: number // 0 = mundane, aspected is +1\n}\n\nexport const priorityValues: Record<string, PriorityValues> = {\n  'A': {\n    metatypes: [\n      Metatype.Dwarf,\n      Metatype.Ork,\n      Metatype.Troll,\n    ],\n    adjustmentPoints: 13,\n    attributePoints: 24,\n    skillPoints: 32,\n    magic: 4,\n    nuyen: 450_000,\n  },\n  'B': {\n    metatypes: [\n      Metatype.Dwarf,\n      Metatype.Elf,\n      Metatype.Ork,\n      Metatype.Troll,\n    ],\n    adjustmentPoints: 11,\n    attributePoints: 16,\n    skillPoints: 24,\n    magic: 3,\n    nuyen: 275_000,\n  },\n  'C': {\n    metatypes: [\n      Metatype.Dwarf,\n      Metatype.Elf,\n      Metatype.Human,\n      Metatype.Ork,\n      Metatype.Troll,\n    ],\n    adjustmentPoints: 9,\n    attributePoints: 12,\n    skillPoints: 20,\n    magic: 2,\n    nuyen: 150_000,\n  },\n  'D': {\n    metatypes: [\n      Metatype.Dwarf,\n      Metatype.Elf,\n      Metatype.Human,\n      Metatype.Ork,\n      Metatype.Troll,\n    ],\n    adjustmentPoints: 4,\n    attributePoints: 8,\n    skillPoints: 16,\n    magic: 1,\n    nuyen: 50_000,\n  },\n  'E': {\n    metatypes: [\n      Metatype.Dwarf,\n      Metatype.Elf,\n      Metatype.Human,\n      Metatype.Ork,\n      Metatype.Troll,\n    ],\n    adjustmentPoints: 1,\n    attributePoints: 2,\n    skillPoints: 10,\n    magic: 0,\n    nuyen: 8_000,\n  },\n}\n","import { parseISO } from 'date-fns'\n\nimport { useCharacterData } from '../Character/CharacterProvider'\n\nconst nuyenFormatter = new Intl.NumberFormat('en')\nexport const formatNuyen = (cost: number): string => {\n  return nuyenFormatter.format(cost) + ' '\n}\n\nexport const useNuyenBalance = (): number => {\n  const character = useCharacterData()\n  if (!character) return 0\n\n  return character.nuyen\n    .sort((a, b) => parseISO(a.date).getTime() - parseISO(b.date).getTime())\n    .reduce((sum, entry) => sum + entry.value, 0)\n}\n","import { TableCell, TableRow } from '@mui/material'\nimport { FC } from 'react'\n\nimport { formatNuyen } from '../../../System/Nuyen'\nimport { AwakenedType } from '../../AwakenedType'\nimport { Metatype } from '../../Metatypes'\nimport { PriorityStat, PriorityValues } from './Priorities'\n\ninterface PriorityRowProps {\n  level: string\n  values: PriorityValues\n  selectedType?: PriorityStat\n  metatype: Metatype\n  awakened: AwakenedType\n\n  onSelect (level: string, type: PriorityStat): void\n}\n\nexport const PriorityRow: FC<PriorityRowProps> = ({\n  level,\n  values,\n  selectedType,\n  metatype,\n  awakened,\n  onSelect,\n}) => {\n  return (\n    <TableRow\n      sx={{\n        '& .priority-cell:hover, & .priority-cell.selected': {\n          backgroundColor: 'primary.dark',\n        },\n      }}\n    >\n      <TableCell align=\"center\">{level}</TableCell>\n      <PriorityCell\n        onClick={() => onSelect(level, PriorityStat.metatype)}\n        selected={selectedType === PriorityStat.metatype}\n      >\n        {values.metatypes.includes(metatype) ? (\n          <>{metatype} ({values.adjustmentPoints})</>\n        ) : (\n          '-'\n        )}\n      </PriorityCell>\n      <PriorityCell\n        onClick={() => onSelect(level, PriorityStat.attributes)}\n        selected={selectedType === PriorityStat.attributes}\n      >\n        {values.attributePoints}\n      </PriorityCell>\n      <PriorityCell\n        onClick={() => onSelect(level, PriorityStat.skills)}\n        selected={selectedType === PriorityStat.skills}\n      >\n        {values.skillPoints}\n      </PriorityCell>\n      <PriorityCell\n        onClick={() => onSelect(level, PriorityStat.magic)}\n        selected={selectedType === PriorityStat.magic}\n      >\n        {values.magic === 0 ? (\n          <>\n            {awakened === AwakenedType.Mundane ? 'Mundane' : '-'}\n          </>\n        ) : (\n          <>\n            {awakened === AwakenedType.Mundane && '-'}\n            {awakened === AwakenedType.Full && values.magic + ' Magic'}\n            {awakened === AwakenedType.Aspected && (values.magic + 1) + ' Magic'}\n            {awakened === AwakenedType.Mystic && values.magic + ' Magic'}\n            {awakened === AwakenedType.Adept && values.magic + ' Magic'}\n            {awakened === AwakenedType.Technomancer && values.magic + ' Resonance'}\n          </>\n        )}\n      </PriorityCell>\n      <PriorityCell\n        onClick={() => onSelect(level, PriorityStat.nuyen)}\n        selected={selectedType === PriorityStat.nuyen}\n      >\n        {formatNuyen(values.nuyen)}\n      </PriorityCell>\n    </TableRow>\n  )\n}\n\ninterface PriorityCellProps {\n  selected?: boolean\n\n  onClick (): void\n}\n\nexport const PriorityCell: FC<PriorityCellProps> = ({\n  selected,\n  onClick,\n  children,\n}) => {\n  return (\n    <TableCell onClick={onClick} className={selected ? 'priority-cell selected' : 'priority-cell'}>{children}\n    </TableCell>\n  )\n}\n","import { Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow } from '@mui/material'\nimport { FC, useState } from 'react'\n\nimport { AwakenedType } from '../../AwakenedType'\nimport { Metatype } from '../../Metatypes'\nimport { PriorityStat, PriorityValues, priorityValues } from './Priorities'\nimport { PriorityRow } from './PriorityRow'\n\nexport type SelectedPriorities = Record<string, PriorityStat>\n\ninterface PrioritiesTableProps {\n  metatype: Metatype\n  awakened: AwakenedType\n\n  onChange (priorities: PriorityValues): void\n}\n\nexport const PrioritiesTable: FC<PrioritiesTableProps> = ({\n  metatype,\n  awakened,\n  onChange,\n}) => {\n  const [selectedPriorities, setSelectedPriorities] = useState<SelectedPriorities>({})\n\n  const onPriorityChange = (level: string, stat: PriorityStat) => {\n    const priorities = { ...selectedPriorities }\n\n    Object.entries(priorities)\n      .filter(priority => priority[1] === stat)\n      .map(priority => priority[0])\n      .forEach(oldLevel => priorities[oldLevel] = priorities[level])\n\n    priorities[level] = stat\n\n    setSelectedPriorities(priorities)\n    onChange(toPriorityValues(priorities))\n  }\n\n  return (\n    <TableContainer component={Paper}>\n      <Table sx={{ '& th, & td': { textAlign: 'center' } }}>\n        <TableHead>\n          <TableRow>\n            <TableCell variant=\"head\" align=\"center\">Priority</TableCell>\n            <TableCell variant=\"head\" align=\"center\">Metatype</TableCell>\n            <TableCell variant=\"head\" align=\"center\">Attributes</TableCell>\n            <TableCell variant=\"head\" align=\"center\">Skills</TableCell>\n            <TableCell variant=\"head\" align=\"center\">\n              {awakened === AwakenedType.Technomancer ? 'Resonance' : 'Magic'}\n            </TableCell>\n            <TableCell variant=\"head\" align=\"center\">Resources</TableCell>\n          </TableRow>\n        </TableHead>\n\n        <TableBody>\n          {Object.entries(priorityValues).map(([level, values]) => (\n            <PriorityRow\n              key={level}\n              level={level}\n              values={values}\n              selectedType={selectedPriorities[level]}\n              onSelect={onPriorityChange}\n              metatype={metatype}\n              awakened={awakened}\n            />\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n\nexport function toPriorityValues (selectedPriorities: SelectedPriorities): PriorityValues {\n  const values: PriorityValues = {\n    metatypes: [],\n    adjustmentPoints: 0,\n    attributePoints: 0,\n    skillPoints: 0,\n    magic: 0,\n    nuyen: 0,\n  }\n\n  for (const [level, stat] of Object.entries(selectedPriorities)) {\n    const levelValues = priorityValues[level]\n\n    switch (stat) {\n      case PriorityStat.metatype:\n        values.metatypes = levelValues.metatypes\n        values.adjustmentPoints = levelValues.adjustmentPoints\n        break\n      case PriorityStat.attributes:\n        values.attributePoints = levelValues.attributePoints\n        break\n      case PriorityStat.skills:\n        values.skillPoints = levelValues.skillPoints\n        break\n      case PriorityStat.magic:\n        values.magic = levelValues.magic\n        break\n      case PriorityStat.nuyen:\n        values.nuyen = levelValues.nuyen\n        break\n    }\n  }\n\n  return values\n}\n","import { Add, RemoveCircle } from '@mui/icons-material'\nimport {\n  IconButton,\n  MenuItem,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TextField,\n} from '@mui/material'\nimport { FC, useState } from 'react'\n\nimport { ActiveSkill, ActiveSkillName, activeSkills, CharacterActiveSkill, SkillType } from '../../../Skills'\nimport { Incrementor } from '../../../UI/Incrementor'\n\nexport const SkillsSection: FC = () => {\n  const [charSkills, setCharSkills] = useState<Record<string, CharacterActiveSkill>>({})\n\n  const availableSkills: ActiveSkill[] = Object.values(activeSkills)\n    .filter(skill => !Object.keys(charSkills).includes(skill.name))\n\n  const onAddSkill = (skill: ActiveSkillName) => {\n    setCharSkills({\n      ...charSkills,\n      [skill]: {\n        type: SkillType.active,\n        name: skill,\n        rank: 0,\n      },\n    })\n  }\n\n  const onRemoveSkill = (skill: ActiveSkillName) => {\n    const skills = { ...charSkills }\n    delete skills[skill]\n    setCharSkills(skills)\n  }\n\n  const onChangeSkill = (skill: CharacterActiveSkill) => {\n    setCharSkills({\n      ...charSkills,\n      [skill.name]: skill,\n    })\n  }\n\n  return (\n    <TableContainer component={Paper}>\n      <Table sx={{ '& th, & td': { textAlign: 'center' } }}>\n        <TableHead>\n          <TableRow>\n            <TableCell variant=\"head\" align=\"center\" />\n            <TableCell variant=\"head\" align=\"center\" width={'33%'}>Skill</TableCell>\n            <TableCell variant=\"head\" align=\"center\" width={'33%'}>Rank</TableCell>\n            <TableCell variant=\"head\" align=\"center\" width={'33%'}>Specialization</TableCell>\n          </TableRow>\n        </TableHead>\n\n        <TableBody>\n          {Object.values(charSkills).map(charSkill => (\n            <SkillsTableRow\n              key={charSkill.name}\n              charSkill={charSkill}\n              onRemove={(skill) => onRemoveSkill(skill.name)}\n              onChange={(skill) => onChangeSkill(skill)}\n            />\n          ))}\n\n          <TableRow>\n            <TableCell>\n              <Add />\n            </TableCell>\n\n            <TableCell>\n              <TextField\n                variant={'standard'}\n                select\n                fullWidth\n                value={''}\n                onChange={event => onAddSkill(event.target.value as ActiveSkillName)}\n              >\n                {availableSkills.map(skill => (\n                  <MenuItem key={skill.name} value={skill.name}>{skill.name}</MenuItem>\n                ))}\n              </TextField>\n            </TableCell>\n\n            <TableCell colSpan={2} />\n          </TableRow>\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n\ninterface SkillsTableRowProps {\n  charSkill: CharacterActiveSkill\n\n  onChange (charSkill: CharacterActiveSkill): void\n\n  onRemove (charSkill: CharacterActiveSkill): void\n}\n\nconst SkillsTableRow: FC<SkillsTableRowProps> = ({\n  charSkill,\n  onChange,\n  onRemove,\n}) => {\n  const activeSkill = activeSkills[charSkill.name]\n\n  return (\n    <TableRow>\n      <TableCell>\n        <IconButton onClick={() => onRemove(charSkill)}>\n          <RemoveCircle />\n        </IconButton>\n      </TableCell>\n      <TableCell>\n        {activeSkill.name}\n      </TableCell>\n      <TableCell>\n        <Incrementor\n          value={charSkill.rank}\n          onChange={(rank) => onChange({ ...charSkill, rank })}\n        />\n      </TableCell>\n      <TableCell>\n        <TextField\n          variant={'standard'}\n          value={charSkill.specialization}\n          onChange={(event) =>\n            onChange({ ...charSkill, specialization: event.target.value })\n          }\n        />\n      </TableCell>\n    </TableRow>\n  )\n}\n","import { Paper, Stack, Typography } from '@mui/material'\nimport { FC, useState } from 'react'\n\nimport { RootLayout } from '../../Pages/RootLayout'\nimport { CharacterNavDrawer } from '../../UI/NavDrawer/CharacterNavDrawer'\nimport { AwakenedType } from '../AwakenedType'\nimport { CharacterAttr } from '../CharacterAttr'\nimport { CharacterData } from '../CharacterData'\nimport { Metatype } from '../Metatypes'\nimport { AttributesTable } from './Attributes/AttributesTable'\nimport { BioSection } from './BioSection'\nimport { PriorityValues } from './Priorities/Priorities'\nimport { PrioritiesTable } from './Priorities/PrioritiesTable'\nimport { SkillsSection } from './Skills/SkillsSection'\n\nconst defaultCharacter: CharacterData = {\n  dataVersion: 3,\n\n  bio: {\n    name: '',\n    metatype: Metatype.Human,\n    awakened: AwakenedType.Mundane,\n    role: '',\n    alias: '',\n    ethnicity: '',\n    age: '',\n    gender: '',\n    height: '',\n    weight: '',\n  },\n\n  karma: [],\n  nuyen: [],\n\n  attributes: {\n    [CharacterAttr.body]: 0,\n    [CharacterAttr.agility]: 0,\n    [CharacterAttr.reaction]: 0,\n    [CharacterAttr.strength]: 0,\n    [CharacterAttr.willpower]: 0,\n    [CharacterAttr.logic]: 0,\n    [CharacterAttr.intuition]: 0,\n    [CharacterAttr.charisma]: 0,\n    [CharacterAttr.edge]: 0,\n    [CharacterAttr.magic]: 0,\n    [CharacterAttr.resonance]: 0,\n    [CharacterAttr.essence]: 0,\n  },\n\n  heat: '',\n  reputation: '',\n  lifestyle: { grade: '', prepaid: 0, upkeep: 0 },\n\n  qualities: [],\n  skills: [],\n  contacts: [],\n\n  gear: [],\n}\n\nexport const BuilderPage: FC = () => {\n  const [priorities, setPriorities] = useState<PriorityValues>({\n    adjustmentPoints: 0,\n    attributePoints: 0,\n    magic: 0,\n    metatypes: [],\n    nuyen: 0,\n    skillPoints: 0,\n  })\n  const [characterData, setCharacterData] = useState<CharacterData>(defaultCharacter)\n\n  return (\n    <RootLayout NavDrawer={CharacterNavDrawer}>\n      <Stack gap={1}>\n        <Paper variant=\"outlined\" sx={{ padding: 1 }}>\n          <Typography variant=\"h3\">Bio</Typography>\n          <BioSection\n            bio={characterData.bio}\n            onChange={bio => setCharacterData({ ...characterData, bio })}\n            metatypes={priorities.metatypes}\n            magicPriority={priorities.magic}\n          />\n        </Paper>\n\n        <Paper variant=\"outlined\" sx={{ padding: 1 }}>\n          <Typography variant=\"h3\">Priorities</Typography>\n          <PrioritiesTable\n            metatype={characterData.bio.metatype}\n            awakened={characterData.bio.awakened}\n            onChange={setPriorities}\n          />\n        </Paper>\n\n        <Paper variant=\"outlined\" sx={{ padding: 1 }}>\n          <Typography variant=\"h3\">Attributes</Typography>\n          <AttributesTable\n            metatype={characterData.bio.metatype}\n            awakened={characterData.bio.awakened}\n            attributePoints={priorities.attributePoints}\n            adjustmentPoints={priorities.adjustmentPoints}\n            magic={priorities.magic}\n            onChange={attributes => setCharacterData({ ...characterData, attributes })}\n          />\n        </Paper>\n\n        <Paper variant=\"outlined\" sx={{ padding: 1 }}>\n          <Typography variant=\"h3\">Skills</Typography>\n          <SkillsSection />\n        </Paper>\n      </Stack>\n    </RootLayout>\n  )\n}\n","import { Migration } from './index'\n\nexport const InitialMigration: Migration = {\n  version: 1,\n  run: (character) => character,\n}\n","import { registerAttrNames } from '../../System/Attribute'\n\nexport enum LicenseAttr {\n  rating = 'license.rating',\n}\n\nregisterAttrNames({\n  [LicenseAttr.rating]: 'Rating',\n})\n","import { registerAttrNames } from '../../System/Attribute'\n\nexport enum SinAttr {\n  rating = 'sin.rating',\n}\n\nregisterAttrNames({\n  [SinAttr.rating]: 'Rating',\n})\n","import { AttrValue, registerAttrNames } from '../System/Attribute'\nimport { BaseGearData, GearType } from './GearData'\n\nexport interface OtherGearData extends BaseGearData {\n  gearType: GearType.other\n\n  attributes?: {\n    [type: string]: AttrValue\n  }\n}\n\nexport enum OtherGearAttr {\n  capacity = 'other.capacity',\n  capacityCost = 'other.capacityCost',\n  rating = 'other.rating',\n}\n\nregisterAttrNames({\n  [OtherGearAttr.capacity]: 'Capacity',\n  [OtherGearAttr.capacityCost]: 'Capacity Cost',\n  [OtherGearAttr.rating]: 'Rating',\n})\n","import { registerAttrNames } from '../../System/Attribute'\n\nexport enum RccAttr {\n  deviceRating = 'rcc.deviceRating',\n  dataProcessing = 'rcc.dataProcessing',\n  firewall = 'rcc.firewall'\n}\n\nregisterAttrNames({\n  [RccAttr.deviceRating]: 'Device Rating',\n  [RccAttr.dataProcessing]: 'Data Processing',\n  [RccAttr.firewall]: 'Firewall',\n})\n","import { registerAttrNames } from '../../../System/Attribute'\n\nexport enum AutosoftAttr {\n  rating = 'autosoft.rating',\n  attr = 'autosoft.attr',\n  skill = 'autosoft.skill',\n  weapon = 'autosoft.weapon',\n}\n\nregisterAttrNames({\n  [AutosoftAttr.rating]: 'Rating',\n  [AutosoftAttr.attr]: 'Attr',\n  [AutosoftAttr.skill]: 'Skill',\n  [AutosoftAttr.weapon]: 'Weapon',\n})\n","import { registerAttrNames } from '../../System/Attribute'\n\nexport enum VehicleAttr {\n  handling = 'vehicle.handling',\n  accel = 'vehicle.accel',\n  speedInterval = 'vehicle.speedInterval',\n  topSpeed = 'vehicle.topSpeed',\n  body = 'vehicle.body',\n  armor = 'vehicle.armor',\n  pilot = 'vehicle.pilot',\n  sensor = 'vehicle.sensor',\n  seat = 'vehicle.seat',\n}\n\nregisterAttrNames({\n  [VehicleAttr.handling]: 'Handling',\n  [VehicleAttr.accel]: 'Accel',\n  [VehicleAttr.speedInterval]: 'Speed Interval',\n  [VehicleAttr.topSpeed]: 'Top Speed',\n  [VehicleAttr.body]: 'Body',\n  [VehicleAttr.armor]: 'Armor',\n  [VehicleAttr.pilot]: 'Pilot',\n  [VehicleAttr.sensor]: 'Sensor',\n  [VehicleAttr.seat]: 'Seat',\n})\n","import { BaseGearData, GearType } from '../GearData'\n\nexport enum ModType {\n  other = 'vehicleMod.other',\n  riggerInterface = 'vehicleMod.riggerInterface',\n  stdWeaponMount = 'vehicleMod.stdWeaponMount',\n  heavyWeaponMount = 'vehicleMod.heavyWeaponMount',\n  manualControl = 'vehicleMod.manualControl',\n}\n\nexport interface VehicleModData extends BaseGearData {\n  gearType: GearType.vehicleMod\n  modType?: ModType\n}\n","import { RecordId } from '../../Api/Model'\nimport { Character } from '../Character'\nimport { InitialMigration } from './1-Inital'\n\nexport interface Migration {\n  version: number\n\n  run (data: SavedCharacter): SavedCharacter\n}\n\nexport interface SavedCharacter {\n  name: string\n  id: RecordId\n\n  data: {\n    dataVersion: number\n    [key: string]: unknown\n  }\n}\n\nexport const migrateCharacter = (character: Character | SavedCharacter): Character => {\n  for (const migration of migrations) {\n    if (character.data.dataVersion >= migration.version) continue\n    character = migration.run(character as SavedCharacter)\n    character.data.dataVersion = migration.version\n  }\n\n  return character as Character\n}\n\nconst migrations: Migration[] = [\n  InitialMigration,\n].sort((a, b) => a.version - b.version)\n","import { createContext, FC, useContext } from 'react'\n\nimport { AutosoftAttr } from './AutosoftAttr'\nimport { AutosoftData } from './AutosoftData'\n\nconst AutosoftContext = createContext<AutosoftData[]>([])\n\ninterface AutosoftProviderProps {\n  autosofts: AutosoftData[]\n}\n\nexport const AutosoftProvider: FC<AutosoftProviderProps> = ({\n  autosofts,\n  children,\n}) => {\n  return (\n    <AutosoftContext.Provider value={autosofts}>{children}</AutosoftContext.Provider>\n  )\n}\n\nexport const useAutosoft = (name: string): AutosoftData | undefined => {\n  const autosofts = useContext(AutosoftContext)\n  return autosofts.find(autosoft => autosoft.name === name)\n}\n\nexport const useTargetingAutosoft = (weaponName: string): number | undefined => {\n  return useContext(AutosoftContext)\n    .find(autosoft => autosoft.attributes[AutosoftAttr.weapon] === weaponName)\n    ?.attributes[AutosoftAttr.rating]\n}\n","import { FC } from 'react'\n\nimport { CharacterAttr } from '../../Character/CharacterAttr'\nimport { useActiveSkill } from '../../Character/CharacterProvider'\nimport { ActiveSkillName } from '../../Skills'\nimport { DamageType } from '../../System/Damage/DamageType'\nimport { collectEffectBonuses, DiceGroup, DicePool, skillSpecialtyBonus } from '../../UI/DicePool'\nimport { AugmentAttr } from '../Augments/AugmentAttr'\nimport { AugmentData, AugmentType } from '../Augments/AugmentData'\nimport { useAllNestedGear, useFindGear } from '../GearContext'\nimport { useTargetingAutosoft } from '../Software/Autosoft/AutosoftProvider'\nimport { VehicleAttr } from '../Vehicles/VehicleAttr'\nimport { WeaponData } from './WeaponData'\n\nexport enum WeaponPoolKeys {\n  basicAttack = 'weapon.basicAttack',\n  droneAttack = 'weapon.droneAttack',\n  mountedAttack = 'weapon.mountedAttack',\n  riggedAttack = 'weapon.riggedAttack',\n}\n\ninterface FirearmPoolProps {\n  weapon: WeaponData\n}\n\nexport const BasicAttackPool: FC<FirearmPoolProps> = ({\n  weapon,\n}) => {\n  const skill = useActiveSkill(weapon.skill)\n  const nestedGear = useAllNestedGear(weapon.id)\n\n  let bonuses: DiceGroup[] = []\n\n  const gearBonuses = collectEffectBonuses(nestedGear, WeaponPoolKeys.basicAttack)\n  if (gearBonuses) bonuses = [...bonuses, ...gearBonuses]\n\n  const specialtyBonus = skillSpecialtyBonus(skill, weapon.specialtyName)\n  if (specialtyBonus) bonuses = [...bonuses, specialtyBonus]\n\n  return <DicePool\n    poolKey={WeaponPoolKeys.basicAttack}\n    name={'Basic Attack'}\n    attrs={[CharacterAttr.agility]}\n    skills={[weapon.skill]}\n    bonuses={bonuses}\n    dmgPenaltyTypes={[DamageType.charPhysical, DamageType.charStun]}\n  />\n}\n\nexport const DroneAttackPool: FC<FirearmPoolProps> = ({\n  weapon,\n}) => {\n  const targetingAutosoft = useTargetingAutosoft(weapon.name) || -1\n  const targetingGroup: DiceGroup = { name: 'Targeting', size: targetingAutosoft }\n  const nestedGear = useAllNestedGear(weapon.id)\n\n  return <DicePool\n    poolKey={WeaponPoolKeys.droneAttack}\n    name={'Drone Attack'}\n    attrs={[VehicleAttr.sensor]}\n    groups={[targetingGroup]}\n    bonuses={collectEffectBonuses(nestedGear, WeaponPoolKeys.droneAttack)}\n    dmgPenaltyTypes={[DamageType.vehiclePhysical]}\n  />\n}\n\nexport const VehicleAttackPool: FC<FirearmPoolProps> = ({\n  weapon,\n}) => {\n  const nestedGear = useAllNestedGear(weapon.id)\n\n  return <DicePool\n    poolKey={WeaponPoolKeys.mountedAttack}\n    name={'Mounted Attack'}\n    attrs={[CharacterAttr.logic]}\n    skills={[ActiveSkillName.engineering]}\n    bonuses={collectEffectBonuses(nestedGear, WeaponPoolKeys.mountedAttack)}\n    dmgPenaltyTypes={[DamageType.charPhysical, DamageType.charStun]}\n  />\n}\n\nexport const RiggedAttackPool: FC<FirearmPoolProps> = ({\n  weapon,\n}) => {\n  const nestedGear = useAllNestedGear(weapon.id)\n\n  const controlRig = useFindGear<AugmentData>(gear => gear.augmentType === AugmentType.controlRig)\n  if (!controlRig) return null\n\n  return <DicePool\n    poolKey={WeaponPoolKeys.riggedAttack}\n    name={'Rigged Attack'}\n    attrs={[CharacterAttr.logic]}\n    skills={[ActiveSkillName.engineering]}\n    bonuses={[\n      { name: 'Control Rig', size: controlRig.attributes[AugmentAttr.rating] },\n      ...collectEffectBonuses(nestedGear, WeaponPoolKeys.riggedAttack),\n    ]}\n    dmgPenaltyTypes={[DamageType.charPhysical, DamageType.charStun, DamageType.vehiclePhysical]}\n  />\n}\n","import { registerAttrNames } from '../../System/Attribute'\n\nexport enum WeaponAttr {\n  type = 'weapon.type',\n  dv = 'weapon.dv',\n  attackRatings = 'weapon.attackRatings',\n  modes = 'weapon.modes',\n  ammo = 'weapon.ammo',\n  maxRange = 'weapon.maxRange',\n}\n\nregisterAttrNames({\n  [WeaponAttr.type]: 'Type',\n  [WeaponAttr.dv]: 'DV',\n  [WeaponAttr.attackRatings]: 'Atk. Ratings',\n  [WeaponAttr.modes]: 'Modes',\n  [WeaponAttr.ammo]: 'Ammo',\n  [WeaponAttr.maxRange]: 'Max Range',\n})\n","import { BaseGearData, GearType } from '../GearData'\n\nexport enum WeaponModAttr {\n\n}\n\nexport interface WeaponModData extends BaseGearData {\n  gearType: GearType.weaponMod\n  slot: WeaponModSlot | null\n  removable?: boolean\n}\n\nexport enum WeaponModSlot {\n  top = 'Top',\n  barrel = 'Barrel',\n  under = 'Under',\n  topOrUnder = 'Top or Under'\n}\n","import { CharacterData } from '../Character/CharacterData'\nimport { GearData } from '../Gear/GearData'\nimport { OtherGearData } from '../Gear/OtherGearData'\n\nexport function addGear<T extends GearData = OtherGearData> (\n  character: CharacterData,\n  gear: T,\n  attachedGear: GearData[] = [],\n): T {\n  if (gear.id === null) { throw new Error(`Null gear id for ${gear.name}`)}\n  character.gear.push(gear)\n  attachedGear.map(item => item.attachedTo = gear.id)\n  return gear\n}\n","import { AwakenedType } from '../Character/AwakenedType'\nimport { CharacterAttr } from '../Character/CharacterAttr'\nimport { CharacterData } from '../Character/CharacterData'\nimport { Metatype } from '../Character/Metatypes'\nimport { AugmentAttr } from '../Gear/Augments/AugmentAttr'\nimport { AugmentData, AugmentGrade, AugmentSlot, AugmentType } from '../Gear/Augments/AugmentData'\nimport { GearType } from '../Gear/GearData'\nimport { LicenseAttr } from '../Gear/License/LicenseAttr'\nimport { LicenseData } from '../Gear/License/LicenseData'\nimport { SinAttr } from '../Gear/License/SinAttr'\nimport { SinData } from '../Gear/License/SinData'\nimport { OtherGearAttr } from '../Gear/OtherGearData'\nimport { RccAttr } from '../Gear/Rcc/RccAttr'\nimport { RccData } from '../Gear/Rcc/RccData'\nimport { AutosoftAttr } from '../Gear/Software/Autosoft/AutosoftAttr'\nimport { AutosoftData } from '../Gear/Software/Autosoft/AutosoftData'\nimport { VehicleAttr } from '../Gear/Vehicles/VehicleAttr'\nimport { VehicleData } from '../Gear/Vehicles/VehicleData'\nimport { ModType, VehicleModData } from '../Gear/Vehicles/VehicleModData'\nimport { WeaponPoolKeys } from '../Gear/Weapons/DicePools'\nimport { WeaponAttr } from '../Gear/Weapons/WeaponAttr'\nimport { WeaponData } from '../Gear/Weapons/WeaponData'\nimport { WeaponModData, WeaponModSlot } from '../Gear/Weapons/WeaponModData'\nimport { ActiveSkillName, Specializations , SkillType } from '../Skills'\nimport { EffectType } from '../System/Effect'\n\nimport { addGear } from '.'\n\nexport const Artemis: CharacterData = {\n  dataVersion: 3,\n\n  bio: {\n    name: 'Jessica Nelson',\n    alias: 'Artemis',\n    role: 'rigger',\n    gender: 'female',\n    metatype: Metatype.Elf,\n    awakened: AwakenedType.Mundane,\n  },\n\n  karma: [\n    {\n      date: '2021-11-27T16:00',\n      value: 4,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-11-21T15:05',\n      value: 3,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-11-07T16:00',\n      value: 3,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-10-17T16:00',\n      value: 5,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-10-03T16:00',\n      value: 3,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-09-26T16:00',\n      value: 4,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-09-19T22:00',\n      value: -10,\n      note: 'Body 1 => 2',\n    },\n    {\n      date: '2021-09-19T16:00',\n      value: 5,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-09-11',\n      value: 2,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-08-28',\n      value: 14,\n      note: 'Balance import',\n    },\n  ],\n\n  nuyen: [\n    {\n      date: '2021-10-24T16:03',\n      value: -9_200 * 2,\n      note: 'Ingram Black Knight x2',\n    },\n    {\n      date: '2021-10-24T16:02',\n      value: 500,\n      note: 'Loan from Slicus',\n    },\n    {\n      date: '2021-10-24T16:01',\n      value: -4_000,\n      note: 'Ingram Black Knight Targeting Autosoft',\n    },\n    {\n      date: '2021-10-24T16:00',\n      value: -5_000 * 2,\n      note: 'Heavy Weapon Mount x2',\n    },\n    {\n      date: '2021-10-17T16:00',\n      value: 11_400,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-09-26T16:00',\n      value: 10_166,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-09-26T15:02',\n      value: 300,\n      note: 'Buy forklift rental',\n    },\n    {\n      date: '2021-09-26T15:01',\n      value: 500,\n      note: 'Buy Semi-truck rental',\n    },\n    {\n      date: '2021-09-26T15:00',\n      value: 1_000,\n      note: 'Buy Semi-truck driver license',\n    },\n    {\n      date: '2021-09-19T22:01',\n      value: -16_000,\n      note: 'Buy r4 sensor arrays for crawlers',\n    },\n    {\n      date: '2021-09-19T22:00',\n      value: -22_500,\n      note: 'Buy Reaction Enhancers',\n    },\n    {\n      date: '2021-09-19T16:00',\n      value: 25_000,\n      note: 'Session Reward',\n    },\n    {\n      date: '2021-08-28T00:04',\n      value: 18_070,\n      note: 'Session Reward',\n    },\n    {\n      date: '2021-08-28T00:02',\n      value: -445_665,\n      note: 'Starting Gear',\n    },\n    {\n      date: '2021-08-28T00:01',\n      value: 450_000,\n      note: 'Character Creation',\n    },\n  ],\n\n  lifestyle: {\n    grade: 'middle',\n    upkeep: 5_000,\n    prepaid: 3,\n  },\n\n  attributes: {\n    [CharacterAttr.body]: 2,\n    [CharacterAttr.agility]: 3,\n    [CharacterAttr.reaction]: 3,\n    [CharacterAttr.strength]: 1,\n    [CharacterAttr.willpower]: 2,\n    [CharacterAttr.logic]: 7,\n    [CharacterAttr.intuition]: 5,\n    [CharacterAttr.charisma]: 4,\n    [CharacterAttr.edge]: 4,\n    [CharacterAttr.magic]: 0,\n    [CharacterAttr.resonance]: 0,\n    [CharacterAttr.essence]: 6,\n  },\n\n  contacts: [\n    {\n      name: 'James Serif',\n      connection: 2,\n      loyalty: 2,\n      description: 'Drone Parts Dealer',\n    },\n    {\n      name: 'Frank',\n      connection: 2,\n      loyalty: 2,\n      description: 'Matrix Developer',\n    },\n    {\n      name: 'George Crabtree',\n      connection: 2,\n      loyalty: 2,\n      description: 'Lone Star officer',\n    },\n  ],\n\n  skills: [\n    {\n      type: SkillType.active,\n      name: ActiveSkillName.electronics,\n      rank: 3,\n    },\n    {\n      type: SkillType.active,\n      name: ActiveSkillName.firearms,\n      rank: 3,\n    },\n    {\n      type: SkillType.active,\n      name: ActiveSkillName.piloting,\n      rank: 6,\n      specialization: 'Ground Craft',\n    },\n    {\n      type: SkillType.active,\n      name: ActiveSkillName.engineering,\n      rank: 7,\n    },\n    {\n      type: SkillType.language,\n      name: 'English',\n      rank: 'native',\n    },\n    {\n      type: SkillType.language,\n      name: 'Elven',\n      rank: 'speciality',\n    },\n    {\n      type: SkillType.knowledge,\n      name: 'Drone Models',\n    },\n    {\n      type: SkillType.knowledge,\n      name: '80/90s Pop Culture',\n    },\n    {\n      type: SkillType.knowledge,\n      name: 'Trideo Series',\n    },\n    {\n      type: SkillType.knowledge,\n      name: 'Security Systems',\n    },\n    {\n      type: SkillType.knowledge,\n      name: 'Virtual Nightclubs',\n    },\n    {\n      type: SkillType.knowledge,\n      name: 'Tech Companies',\n    },\n  ],\n\n  gear: [],\n\n  qualities: [\n    {\n      name: 'Exceptional (Logic)',\n      source: { book: 'CRB', page: 2 },\n      cost: 12,\n    },\n    {\n      name: 'Social Stress (Large Groups)',\n      source: { book: 'CRB', page: 2 },\n      bonus: 8,\n    },\n    {\n      name: 'Juryrigger',\n      source: { book: 'CRB', page: 2 },\n      cost: 12,\n    },\n    {\n      name: 'Photographic Memory',\n      source: { book: 'CRB', page: 2 },\n      cost: 12,\n    },\n    {\n      name: 'Analytical Mind',\n      source: { book: 'CRB', page: 2 },\n      gameEffect: 'Bonus edge when making Logic tests',\n      cost: 3,\n    },\n    {\n      name: 'Ambidextrous',\n      source: { book: 'CRB', page: 2 },\n      cost: 4,\n    },\n  ],\n}\n\nconst smartGunIntMod: WeaponModData = {\n  id: null,\n  source: { book: 'CRB', page: 260 },\n  gearType: GearType.weaponMod,\n  name: 'Smart Gun Int.',\n  type: 'Weapon Mod',\n  cost: 500,\n\n  slot: null,\n  removable: false,\n  wirelessBonus: {\n    enabled: true,\n    description:\n      'You gain a +1 dice pool bonus. Gain a bonus Minor Action on a turn when ' +\n      'you use the Reload Smartgun or Change Device Mode actions to eject a ' +\n      'clip or change fire mode.',\n  },\n  effects: [\n    {\n      wireless: true,\n      name: 'Smart Gun',\n      type: EffectType.dicePoolBonus,\n      poolType: WeaponPoolKeys.basicAttack,\n      bonus: 1,\n    },\n  ],\n}\n\naddGear<AugmentData>(Artemis, {\n  id: '37f9da35-c67f-46fd-9e79-3929db823816',\n  gearType: GearType.augment,\n  name: 'Control Rig',\n  type: 'Headwear Augment',\n  avail: { rarity: 3, license: true },\n  cost: 72_000,\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.used,\n    [AugmentAttr.essenceCost]: 1.6,\n    [AugmentAttr.slot]: AugmentSlot.headware,\n    [AugmentAttr.rating]: 2,\n  },\n\n  augmentType: AugmentType.controlRig,\n})\n\naddGear<AugmentData>(Artemis, {\n  id: 'd89aafe6-111f-4e60-9fe2-fe5c1c3f94b8',\n  gearType: GearType.augment,\n  name: 'Cerebral Booster',\n  type: 'Cultured Bioware Augment',\n  avail: { rarity: 4 },\n  cost: 47_250,\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.used,\n    [AugmentAttr.essenceCost]: 0.66,\n    [AugmentAttr.slot]: AugmentSlot.bioware,\n    [AugmentAttr.rating]: 3,\n  },\n\n  effects: [\n    { type: EffectType.attrBonus, attr: CharacterAttr.logic, bonus: 3 },\n  ],\n})\n\naddGear<AugmentData>(Artemis, {\n  id: 'de13c340-89b3-4bc9-b6f4-29288cff00bc',\n  gearType: GearType.augment,\n  name: 'Sleep Regulator',\n  type: 'Cultured Bioware Augment',\n  avail: { rarity: 4 },\n  source: { book: 'CRB', page: 293 },\n  cost: 6_000,\n\n  description: (`\n    You need less sleep per day, and the sleep you get is deep and restful (and harder\n    to wake up from). The sleep regulator lets you get by with three hours of sleep\n    each night, and you can stay awake for twice as long as normal without acquiring \n    the Fatigued status. Resting hours for healing purposes are not affected.\n  `),\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.used,\n    [AugmentAttr.essenceCost]: 0.11,\n    [AugmentAttr.slot]: AugmentSlot.bioware,\n  },\n})\n\naddGear<WeaponData>(Artemis, {\n  id: 'e7f70f35-8d96-43be-8b19-fc9d8718ed95',\n  source: { book: 'CRB', page: 254 },\n  gearType: GearType.weapon,\n  name: 'FN P93 Predator',\n  type: 'Submachine Gun',\n  avail: { rarity: 4, license: true },\n  cost: 925,\n\n  attributes: {\n    [WeaponAttr.dv]: '4P',\n    [WeaponAttr.modes]: 'SA/BF/FA',\n    [WeaponAttr.attackRatings]: '9/12/7/-/-',\n    [WeaponAttr.ammo]: '50(c)',\n  },\n\n  skill: ActiveSkillName.firearms,\n  specialtyName: Specializations.Firearms.SubmachineGuns,\n}, [\n  addGear(Artemis, {\n    id: 'f8d19b04-8767-4693-9774-195ff92ed8df',\n    source: { book: 'CRB', page: 254 },\n    gearType: GearType.weaponMod,\n    name: 'Rigid Stock',\n    type: 'Weapon Mod',\n\n    slot: null,\n    removable: false,\n  }),\n  addGear(Artemis, {\n    id: '02fbb521-e039-4c06-9aaf-cead333e3885',\n    source: { book: 'CRB', page: 254 },\n    gearType: GearType.weaponMod,\n    name: 'Laser sight',\n    type: 'Weapon Mod',\n\n    slot: WeaponModSlot.topOrUnder,\n  }),\n  addGear(Artemis, {\n    id: '21d66c66-4615-49d6-b330-e4c25eea631a',\n    source: { book: 'CRB', page: 254 },\n    gearType: GearType.weaponMod,\n    name: 'Flashlight',\n    type: 'Weapon Mod',\n\n    slot: WeaponModSlot.topOrUnder,\n  }),\n  addGear(Artemis, { ...smartGunIntMod, id: '429f440e-ffc3-459d-b08f-b013af1648dc' }),\n])\n\naddGear<WeaponData>(Artemis, {\n  id: 'ae2baf27-bd6f-43e2-8198-a19e37231b7d',\n  source: { book: 'CRB', page: 252 },\n  gearType: GearType.weapon,\n  name: 'Colt America L36',\n  type: 'Light Pistol',\n  avail: { rarity: 2, license: true },\n  cost: 230,\n\n  attributes: {\n    [WeaponAttr.dv]: '2P',\n    [WeaponAttr.modes]: 'SA',\n    [WeaponAttr.attackRatings]: '8/8/6/-/-',\n    [WeaponAttr.ammo]: '11(c)',\n  },\n  wirelessBonus: {\n    enabled: true,\n    description:\n      'The user can alter ownership with a Minor Action',\n  },\n\n  skill: ActiveSkillName.firearms,\n  specialtyName: Specializations.Firearms.LightPistols,\n}, [\n  addGear(Artemis, { ...smartGunIntMod, id: '7c94f42b-e770-472f-85d8-992cde7e2606' }),\n])\n\nconst autosofts: AutosoftData[] = [\n  addGear<AutosoftData>(Artemis, {\n    id: 'de5e973c-134d-427e-9a3a-205422341b7b',\n    gearType: GearType.autosoft,\n    name: 'FN-HAR Targeting',\n    type: 'Targeting Autosoft',\n    avail: { rarity: 8 },\n    cost: 4_000,\n\n    attributes: {\n      [AutosoftAttr.rating]: 8,\n      [AutosoftAttr.weapon]: 'FN-HAR',\n      [AutosoftAttr.attr]: 'Sensor',\n    },\n  }),\n  addGear<AutosoftData>(Artemis, {\n    id: 'a0af5540-37c7-44ca-af2a-03cb21efd83a',\n    gearType: GearType.autosoft,\n    name: 'Clearsight',\n    type: 'Autosoft',\n    avail: { rarity: 8 },\n    cost: 4_000,\n\n    attributes: {\n      [AutosoftAttr.rating]: 8,\n      [AutosoftAttr.skill]: 'Perception',\n      [AutosoftAttr.attr]: 'Sensor',\n    },\n  }),\n  addGear<AutosoftData>(Artemis, {\n    id: '3a459c98-5354-4fa1-a230-dfe77b199ffa',\n    gearType: GearType.autosoft,\n    name: 'Evasion',\n    type: 'Autosoft',\n    avail: { rarity: 8 },\n    cost: 4_000,\n\n    attributes: {\n      [AutosoftAttr.rating]: 8,\n      [AutosoftAttr.skill]: 'Evasion',\n      [AutosoftAttr.attr]: 'Pilot',\n    },\n  }),\n  addGear<AutosoftData>(Artemis, {\n    id: '78a5f82e-636f-468a-85e3-5af73304b7c0',\n    gearType: GearType.autosoft,\n    name: 'Maneuvering',\n    type: 'Autosoft',\n    avail: { rarity: 8 },\n    cost: 4_000,\n\n    attributes: {\n      [AutosoftAttr.rating]: 8,\n      [AutosoftAttr.skill]: 'Piloting',\n      [AutosoftAttr.attr]: 'Pilot',\n    },\n  }),\n  addGear<AutosoftData>(Artemis, {\n    id: 'a5b8c866-38cb-40a2-a136-d3feb39ea68d',\n    gearType: GearType.autosoft,\n    name: 'Electronic Warfare',\n    type: 'Autosoft',\n    avail: { rarity: 8 },\n    cost: 4_000,\n\n    attributes: {\n      [AutosoftAttr.rating]: 8,\n      [AutosoftAttr.skill]: 'Cracking',\n      [AutosoftAttr.attr]: 'Sensor',\n    },\n  }),\n  addGear<AutosoftData>(Artemis, {\n    id: '0b3dae26-a9d1-4752-a298-db024d13476b',\n    gearType: GearType.autosoft,\n    name: 'Black Knight Targeting',\n    type: 'Targeting Autosoft',\n    avail: { rarity: 8 },\n    cost: 4_000,\n\n    attributes: {\n      [AutosoftAttr.rating]: 8,\n      [AutosoftAttr.weapon]: 'Ingram Black Knight',\n      [AutosoftAttr.attr]: 'Sensor',\n    },\n  }),\n]\n\nconst rccHeadwear = addGear<AugmentData>(Artemis, {\n  id: '1f8b016d-a36f-45b6-8099-7527e2986093',\n  gearType: GearType.augment,\n  name: 'RCC Headwear',\n  type: 'Headwear Augment',\n  avail: { rarity: 2, license: true },\n  source: { book: 'DC', page: 145 },\n  cost: 2_000,\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.used,\n    [AugmentAttr.essenceCost]: 0.33,\n    [AugmentAttr.slot]: AugmentSlot.headware,\n    [AugmentAttr.capacityCost]: 3,\n  },\n})\n\nconst rcc = addGear<RccData>(Artemis, {\n  id: 'bb6e3208-418d-41b8-85c3-447e6328aa5bs',\n  gearType: GearType.rcc,\n  name: 'Proteus Poseidon',\n  type: 'RCC',\n  avail: { rarity: 6, license: true },\n  cost: 68_000,\n\n  attributes: {\n    [RccAttr.deviceRating]: 5,\n    [RccAttr.dataProcessing]: 5,\n    [RccAttr.firewall]: 5,\n  },\n\n  slavedAutosofts: [\n    'de5e973c-134d-427e-9a3a-205422341b7b',\n    'a0af5540-37c7-44ca-af2a-03cb21efd83a',\n    '3a459c98-5354-4fa1-a230-dfe77b199ffa',\n    '78a5f82e-636f-468a-85e3-5af73304b7c0',\n    '0b3dae26-a9d1-4752-a298-db024d13476b',\n  ],\n\n  attachedTo: rccHeadwear.id,\n})\n\nautosofts.forEach(soft => soft.attachedTo = rcc.id)\n\nconst fnHar: WeaponData = {\n  id: null,\n  gearType: GearType.weapon,\n  name: 'FN-HAR',\n  type: 'Rifle',\n  avail: { rarity: 3, license: true },\n  cost: 2_100,\n  attributes: {\n    [WeaponAttr.dv]: '5P',\n    [WeaponAttr.modes]: 'SA/BF/FA',\n    [WeaponAttr.attackRatings]: '3/11/10/6/1',\n    [WeaponAttr.ammo]: '35(c)',\n  },\n\n  skill: ActiveSkillName.firearms,\n  specialtyName: Specializations.Firearms.Rifles,\n}\n\nconst blackKnight: WeaponData = {\n  id: null,\n  gearType: GearType.weapon,\n  name: 'Ingram Black Knight',\n  type: 'Rifle',\n  avail: { rarity: 3, license: true },\n  cost: 9_200,\n  attributes: {\n    [WeaponAttr.dv]: '6P',\n    [WeaponAttr.modes]: 'BF/FA',\n    [WeaponAttr.attackRatings]: '1/10/11/8/8',\n    [WeaponAttr.ammo]: '10(m)',\n  },\n\n  skill: ActiveSkillName.firearms,\n  specialtyName: Specializations.Firearms.MachineGuns,\n}\n\nconst stdWeaponMount: VehicleModData = {\n  id: null,\n  gearType: GearType.vehicleMod,\n  modType: ModType.stdWeaponMount,\n  name: 'Standard Weapon Mount',\n  type: 'vehicle mod',\n  avail: { rarity: 4, illegal: true },\n  cost: 4_500,\n}\n\nconst heavyWeaponMount: VehicleModData = {\n  id: null,\n  gearType: GearType.vehicleMod,\n  modType: ModType.heavyWeaponMount,\n  name: 'Heavy Weapon Mount',\n  type: 'vehicle mod',\n  avail: { rarity: 5, illegal: true },\n  cost: 5_000,\n}\n\nconst riggerInterface: VehicleModData = {\n  id: null,\n  gearType: GearType.vehicleMod,\n  modType: ModType.riggerInterface,\n  name: 'Rigger Interface',\n  type: 'vehicle mod',\n  avail: { rarity: 2, license: true },\n  cost: 1_000,\n}\n\nconst sensorArray: VehicleModData = {\n  id: null,\n  gearType: GearType.vehicleMod,\n  name: 'Sensor Array',\n  type: 'vehicle mod',\n  avail: { rarity: 3 },\n  cost: 4_000,\n\n  attributes: {\n    [OtherGearAttr.rating]: 4,\n  },\n\n  effects: [\n    { type: EffectType.attrOverride, attr: VehicleAttr.sensor, value: 4 },\n  ],\n}\n\naddGear<VehicleData>(Artemis, {\n  id: '4a5eb8d5-004b-4cdd-bce5-e0db64a33639',\n  gearType: GearType.vehicle,\n  name: 'Range Rover Model 2080',\n  type: 'Van',\n  cost: 73_000,\n  avail: { rarity: 2 },\n\n  attributes: {\n    [VehicleAttr.handling]: '4/5',\n    [VehicleAttr.accel]: 12,\n    [VehicleAttr.speedInterval]: 20,\n    [VehicleAttr.topSpeed]: 160,\n    [VehicleAttr.body]: 16,\n    [VehicleAttr.armor]: 10,\n    [VehicleAttr.pilot]: 4,\n    [VehicleAttr.sensor]: 4,\n    [VehicleAttr.seat]: 4,\n  },\n\n  slavedTo: rcc.id,\n  pilotingSpeciality: 'Ground Craft',\n}, [\n  addGear(Artemis, { ...riggerInterface, id: 'cebc1ac9-e097-44f6-9394-bc342a7f71a3' }),\n])\n\nconst rotoDrone: VehicleData = {\n  id: '55887cc1-89b1-4b6d-8fc5-88560d32d31d',\n  gearType: GearType.vehicle,\n  type: 'Medium Rotor Drone',\n  name: 'MCT-Nissan Roto-drone',\n  cost: 5_000,\n  avail: { rarity: 2 },\n\n  attributes: {\n    [VehicleAttr.handling]: 3,\n    [VehicleAttr.accel]: 20,\n    [VehicleAttr.speedInterval]: 30,\n    [VehicleAttr.topSpeed]: 160,\n    [VehicleAttr.body]: 5,\n    [VehicleAttr.armor]: 6,\n    [VehicleAttr.pilot]: 3,\n    [VehicleAttr.sensor]: 2,\n    [VehicleAttr.seat]: null,\n  },\n\n  slavedTo: rcc.id,\n  pilotingSpeciality: 'Aircraft',\n}\n\nconst oniDrone: VehicleData = {\n  id: null,\n  gearType: GearType.vehicle,\n  name: 'Nissan Oni',\n  type: 'Medium Antro Drone',\n  cost: 6_700,\n  avail: { rarity: 2 },\n\n  attributes: {\n    [VehicleAttr.handling]: 4,\n    [VehicleAttr.accel]: 10,\n    [VehicleAttr.speedInterval]: 8,\n    [VehicleAttr.topSpeed]: 30,\n    [VehicleAttr.body]: 9,\n    [VehicleAttr.armor]: 10,\n    [VehicleAttr.pilot]: 3,\n    [VehicleAttr.sensor]: 2,\n    [VehicleAttr.seat]: null,\n  },\n\n  pilotingSpeciality: 'Ground Craft',\n}\n\naddGear<VehicleData>(Artemis, {\n  ...rotoDrone,\n  id: '55887cc1-89b1-4b6d-8fc5-88560d32d31d',\n  name: 'MCT-Nissan Roto-drone 1',\n}, [\n  addGear(Artemis, { ...stdWeaponMount, id: 'f2b1186d-6832-4532-95e9-c627037fcf9d' }, [\n    addGear(Artemis, { ...fnHar, id: '853a03bb-18fd-42c3-9247-df59e1438904' }),\n  ]),\n  addGear(Artemis, { ...riggerInterface, id: 'ae26eaa6-0e99-41db-b548-383e989865a3' }),\n  // addGear(sensorArray),\n])\n\naddGear<VehicleData>(Artemis, {\n  ...rotoDrone,\n  id: '17fe3632-c927-4def-91eb-7376ea1cdd3f',\n  name: 'MCT-Nissan Roto-drone 2',\n}, [\n  addGear(Artemis, { ...stdWeaponMount, id: '7a1c1485-0f2f-4434-b216-3379c0b47e83' }, [\n    addGear(Artemis, { ...fnHar, id: 'c068d8c7-de94-41d6-91c1-45c55fa58a93' }),\n  ]),\n  addGear(Artemis, { ...riggerInterface, id: '0dfe8000-84db-430b-8cd6-7684b18ac5da' }),\n  // addGear(sensorArray),\n])\n\nconst crawlerDrone: VehicleData = {\n  id: null,\n  gearType: GearType.vehicle,\n  name: 'Aztech Crawler',\n  type: 'Small Anthro Drone',\n  cost: 4_500,\n  avail: { rarity: 2 },\n\n  attributes: {\n    [VehicleAttr.handling]: '3/4',\n    [VehicleAttr.accel]: 8,\n    [VehicleAttr.speedInterval]: 10,\n    [VehicleAttr.topSpeed]: 30,\n    [VehicleAttr.body]: 6,\n    [VehicleAttr.armor]: 2,\n    [VehicleAttr.pilot]: 2,\n    [VehicleAttr.sensor]: 2,\n    [VehicleAttr.seat]: null,\n  },\n\n  slavedTo: rcc.id,\n  pilotingSpeciality: 'Ground Craft',\n}\n\naddGear<VehicleData>(Artemis, {\n  ...crawlerDrone,\n  id: '2d42aac6-71a2-4154-a00b-ba9ba681a3af',\n  name: 'Aztech Crawler 1',\n  destroyed: true,\n}, [\n  addGear(Artemis, { ...heavyWeaponMount, id: '2a40e609-c2be-4eb4-b289-b3038d626392' }, [\n    addGear(Artemis, { ...blackKnight, id: '20bd77d8-0a82-4d02-885d-8c48046975c3' }),\n  ]),\n  addGear(Artemis, { ...riggerInterface, id: '428e551d-516e-4450-a9b1-e2b775ea4a20' }),\n  addGear(Artemis, { ...sensorArray, id: '1ac75091-6d53-43f8-86d5-63c13c233779' }),\n])\n\naddGear(Artemis, { ...stdWeaponMount, id: '35c6817f-afee-4f5a-b36d-f50bc4bfa3e9' }, [\n  addGear(Artemis, { ...fnHar, id: '4ab1cbc7-dfe6-483f-a13a-4e4826072d1c' }),\n])\n\naddGear(Artemis, { ...stdWeaponMount, id: '0fa50968-3166-41f8-823c-9aa750d61897' }, [\n  addGear(Artemis, { ...fnHar, id: 'ceb08542-ee69-4d0b-a532-64948ea79554' }),\n])\n\naddGear<VehicleData>(Artemis, {\n  ...crawlerDrone,\n  id: 'a969b8fa-2e3a-49d3-acb9-e6e2a877a1ae',\n  name: 'Aztech Crawler 2',\n  destroyed: true,\n}, [\n  addGear(Artemis, { ...heavyWeaponMount, id: '1a9454ea-f105-45c1-a9d4-3e874b457f83' }, [\n    addGear(Artemis, { ...blackKnight, id: '9513ac1e-3ae3-457f-aa59-da8b64e9947c' }),\n  ]),\n  addGear(Artemis, { ...riggerInterface, id: '7753605b-6ffb-4295-bc8b-93859021c8a9' }),\n  addGear(Artemis, { ...sensorArray, id: 'd952c534-d98c-4b24-a3d1-3f367835ec76' }),\n])\n\naddGear<VehicleData>(Artemis, {\n  ...crawlerDrone,\n  id: '573791c8-e686-4411-927a-052452d8dcba',\n  name: 'Aztech Crawler 3',\n  destroyed: true,\n}, [\n  addGear(Artemis, { ...stdWeaponMount, id: 'cec78dcc-7911-44d7-bd12-56af38b95193' }, [\n    addGear(Artemis, { ...fnHar, id: 'ab2727cd-d3bc-4461-b201-10d739c5e2f5' }),\n  ]),\n  addGear(Artemis, { ...riggerInterface, id: 'cee46222-8727-40f3-9788-c08dd29369ae' }),\n  addGear(Artemis, { ...sensorArray, id: '40ef5411-038c-4b97-abfd-a70d8dcd2b3b' }),\n])\n\naddGear<VehicleData>(Artemis, {\n  ...crawlerDrone,\n  id: 'b02313b9-c024-4c5b-a661-9e23fbc6e816',\n  name: 'Aztech Crawler 4',\n\n}, [\n  addGear(Artemis, { ...stdWeaponMount, id: '91afef0a-9401-46eb-9c3a-66ac3a55a2fb' }, [\n    addGear(Artemis, { ...fnHar, id: 'd70a4b40-c220-497b-b6ef-460e48477071' }),\n  ]),\n  addGear(Artemis, { ...riggerInterface, id: '2801f808-849f-4226-bbb6-6db12fe6ddb9' }),\n  addGear(Artemis, { ...sensorArray, id: '11805cad-896c-4cba-ba18-e81eeff71dae' }),\n])\n\naddGear<VehicleData>(Artemis, {\n  id: '9159eaaa-f444-4f54-ac01-db6b65464764',\n  gearType: GearType.vehicle,\n  type: 'Small Rotor Drone',\n  name: 'Cyberspace Designs Quadrotor',\n  cost: 5_000,\n  avail: { rarity: 2 },\n\n  attributes: {\n    [VehicleAttr.handling]: 2,\n    [VehicleAttr.accel]: 15,\n    [VehicleAttr.speedInterval]: 20,\n    [VehicleAttr.topSpeed]: 120,\n    [VehicleAttr.body]: 3,\n    [VehicleAttr.armor]: 1,\n    [VehicleAttr.pilot]: 3,\n    [VehicleAttr.sensor]: 2,\n    [VehicleAttr.seat]: null,\n  },\n\n  slavedTo: rcc.id,\n  pilotingSpeciality: 'Aircraft',\n}, [\n  addGear(Artemis, { ...riggerInterface, id: 'f1118f16-1105-428f-ba17-67d90e00377a' }),\n])\n\naddGear<VehicleData>(Artemis, {\n  id: 'fbbbd8b6-7e5a-46c4-ad0c-5b8c7cadb1f3',\n  gearType: GearType.vehicle,\n  type: 'Micro Rotor Drone',\n  name: 'MCT Gnat',\n  cost: 800,\n  quantity: 8,\n  avail: { rarity: 2 },\n\n  attributes: {\n    [VehicleAttr.handling]: 3,\n    [VehicleAttr.accel]: 4,\n    [VehicleAttr.speedInterval]: 10,\n    [VehicleAttr.topSpeed]: 30,\n    [VehicleAttr.body]: 0,\n    [VehicleAttr.armor]: 0,\n    [VehicleAttr.pilot]: 2,\n    [VehicleAttr.sensor]: 1,\n    [VehicleAttr.seat]: null,\n  },\n\n  slavedTo: rcc.id,\n  pilotingSpeciality: 'Aircraft',\n}, [\n  addGear(Artemis, { ...riggerInterface, id: 'b4ba0a55-150b-47b4-b391-cc1da213d48a' }),\n])\n\naddGear<VehicleData>(Artemis, {\n  ...crawlerDrone,\n  id: 'f086ff48-0a38-40d9-9d62-0cd0a9d2e148',\n  name: 'Aztech Crawler',\n  quantity: 5,\n  slavedTo: null,\n})\n\naddGear<VehicleData>(Artemis, {\n  ...rotoDrone,\n  id: '2be9530b-621f-4f50-9188-722d3843f1c4',\n  name: 'MCT-Nissan Roto-drone',\n  quantity: 1,\n  slavedTo: null,\n})\n\naddGear<VehicleData>(Artemis, {\n  ...oniDrone,\n  id: '449a5812-9a81-409a-ba25-4e400e2281b1',\n  name: 'Nissan Oni',\n  quantity: 4,\n  slavedTo: null,\n})\n\naddGear<AugmentData>(Artemis, {\n  id: '62c928a2-2a1e-4195-83ee-c760b6f93e1b',\n  gearType: GearType.augment,\n  name: 'Cybereyes',\n  type: 'Augment',\n  source: { book: 'CRB', page: 285 },\n  avail: { rarity: 4 },\n  cost: 12_000,\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.alpha,\n    [AugmentAttr.rating]: 3,\n    [AugmentAttr.capacity]: 12,\n    [AugmentAttr.essenceCost]: 0.32,\n    [AugmentAttr.slot]: AugmentSlot.eyeware,\n  },\n}, [\n  addGear<AugmentData>(Artemis, {\n    id: 'a19ea646-4212-49a2-908c-1da5f3ab498f',\n    gearType: GearType.augment,\n    name: 'Smartlink',\n    type: 'Cybereye Augment',\n    source: { book: 'CRB', page: 275 },\n    avail: { rarity: 4, license: true },\n    cost: 4_800,\n\n    attributes: {\n      [AugmentAttr.grade]: AugmentGrade.alpha,\n      [AugmentAttr.essenceCost]: 0.16,\n      [AugmentAttr.slot]: AugmentSlot.eyeware,\n      [AugmentAttr.capacityCost]: 3,\n    },\n  }),\n  addGear<AugmentData>(Artemis, {\n    id: '31e7ddd1-dca5-4f99-a67d-2fecadcf2853',\n    gearType: GearType.augment,\n    name: 'Imagelink',\n    type: 'Cybereye Augment',\n    source: { book: 'CRB', page: 275 },\n    avail: { rarity: 3 },\n    cost: 960,\n\n    attributes: {\n      [AugmentAttr.grade]: AugmentGrade.alpha,\n      [AugmentAttr.essenceCost]: 0.08,\n      [AugmentAttr.slot]: AugmentSlot.eyeware,\n      [AugmentAttr.capacityCost]: 0,\n    },\n  }),\n  addGear<AugmentData>(Artemis, {\n    id: '1660efc9-98d5-4ed1-b2da-651e7ea578c5',\n    gearType: GearType.augment,\n    name: 'Low-Light Vision',\n    type: 'Cybereye Augment',\n    source: { book: 'CRB', page: 275 },\n    avail: { rarity: 3 },\n    cost: 900,\n\n    attributes: {\n      [AugmentAttr.grade]: AugmentGrade.alpha,\n      [AugmentAttr.capacityCost]: 2,\n      [AugmentAttr.essenceCost]: 0.08,\n      [AugmentAttr.slot]: AugmentSlot.eyeware,\n    },\n  }),\n  addGear<AugmentData>(Artemis, {\n    id: '31189433-ba37-4186-a453-6e236d915caa',\n    gearType: GearType.augment,\n    name: 'Vision Enhancement',\n    type: 'Cybereye Augment',\n    source: { book: 'CRB', page: 275 },\n    avail: { rarity: 4 },\n    cost: 4_800,\n\n    attributes: {\n      [AugmentAttr.grade]: AugmentGrade.alpha,\n      [AugmentAttr.capacityCost]: 2,\n      [AugmentAttr.essenceCost]: 0.08,\n      [AugmentAttr.slot]: AugmentSlot.eyeware,\n    },\n  }),\n  addGear<AugmentData>(Artemis, {\n    id: '1b6cdf25-9374-4a09-b2a1-76ed1a9be01b',\n    gearType: GearType.augment,\n    name: 'Vision Magnification',\n    type: 'Cybereye Augment',\n    source: { book: 'CRB', page: 275 },\n    avail: { rarity: 4 },\n    cost: 2_400,\n\n    attributes: {\n      [AugmentAttr.grade]: AugmentGrade.alpha,\n      [AugmentAttr.capacityCost]: 2,\n      [AugmentAttr.essenceCost]: 0.08,\n      [AugmentAttr.slot]: AugmentSlot.eyeware,\n    },\n  }),\n])\n\naddGear<AugmentData>(Artemis, {\n  id: '89192a52-adf6-41d1-8978-0f0787185b5a',\n  gearType: GearType.augment,\n  name: 'Commlink',\n  type: 'Headware Augment',\n  source: { book: 'CRB', page: 283 },\n  avail: { rarity: 1 },\n  cost: 1_000,\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.used,\n    [AugmentAttr.essenceCost]: 0.11,\n    [AugmentAttr.slot]: AugmentSlot.headware,\n  },\n}, [\n  addGear(Artemis, {\n    id: '8c2e404d-5678-4dad-8cdd-dcda26e9d866',\n    gearType: GearType.other,\n    name: 'Hermes Ikon',\n    type: 'Commlink',\n    source: { book: 'CRB', page: 267 },\n    avail: { rarity: 3 },\n    cost: 5_000,\n\n    attributes: {\n      'commlink.deviceRating': 5,\n      'commlink.attributes': '3/0',\n      'commlink.programSlots': 2,\n    },\n  }),\n])\n\naddGear<AugmentData>(Artemis, {\n  id: '3803d92f-1869-41b0-975a-dbdd929af4d7',\n  gearType: GearType.augment,\n  name: 'Reaction Enhancers',\n  type: 'Bodyware Augment',\n  source: { book: 'CRB', page: 287 },\n  avail: { rarity: 3, license: true },\n  cost: 22_500,\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.used,\n    [AugmentAttr.rating]: 3,\n    [AugmentAttr.essenceCost]: 0.99,\n    [AugmentAttr.slot]: AugmentSlot.bodyware,\n  },\n\n  effects: [\n    { type: EffectType.attrBonus, attr: CharacterAttr.reaction, bonus: 3 },\n  ],\n})\n\naddGear<SinData>(Artemis, {\n  id: '110a3b00-ac94-4698-a60c-7cf34d829bcb',\n  gearType: GearType.sin,\n  name: 'Davina Hasselhoff',\n  type: 'Fake SIN',\n  source: { book: 'CRB', page: 273 },\n  avail: { rarity: 4, illegal: true },\n  cost: 15_000,\n\n  description: 'General use SIN',\n\n  attributes: {\n    [SinAttr.rating]: 6,\n  },\n})\n\naddGear<SinData>(Artemis, {\n  id: '25a3030a-4850-4f68-914f-95276c893352',\n  gearType: GearType.sin,\n  name: 'Sara McCabe',\n  type: 'Fake SIN',\n  source: { book: 'CRB', page: 273 },\n  avail: { rarity: 4, illegal: true },\n  cost: 10_000,\n\n  description: 'Runner SIN',\n\n  attributes: {\n    [SinAttr.rating]: 4,\n  },\n}, [\n  addGear<LicenseData>(Artemis, {\n    id: 'eae7b822-7dee-4734-8e7b-1c1ebd7aa46d',\n    gearType: GearType.license,\n    name: 'Driver License (Semi-Truck)',\n    type: 'Fake License',\n    source: { book: 'CRB', page: 273 },\n    avail: { rarity: 5, illegal: true },\n    cost: 1_000,\n\n    attributes: {\n      [LicenseAttr.rating]: 5,\n    },\n  }),\n])\n\naddGear<SinData>(Artemis, {\n  id: '50f91ebf-e206-4843-be29-ac1bcb3a45ba',\n  gearType: GearType.sin,\n  name: 'Jane Smith',\n  type: 'Fake SIN',\n  source: { book: 'CRB', page: 273 },\n  avail: { rarity: 4, illegal: true },\n  cost: 5_000,\n\n  description: 'Burner SIN',\n\n  attributes: {\n    [SinAttr.rating]: 2,\n  },\n})\n\naddGear(Artemis, {\n  id: 'f2b9526c-5db1-4076-81c0-c0bf52280e8a',\n  gearType: GearType.other,\n  name: 'Engineering Shop',\n  type: 'Shop',\n  source: { book: 'CRB', page: 273 },\n  avail: { rarity: 4 },\n  cost: 5_000,\n})\n","export enum CharacterPoolTypes {\n  dodge = 'character.dodge',\n  dmgResist = 'character.dmgResist',\n  composure = 'character.composure',\n  judgeIntent = 'character.judgeIntent',\n  memory = 'character.memory',\n  liftCarry = 'character.liftCarry',\n  firstAid = 'character.firstAid',\n}\n","import { registerAttrNames } from '../../System/Attribute'\n\nexport enum ArmorAttr {\n  defenseBonus = 'armor.defenseBonus',\n  capacity = 'armor.capacity',\n}\n\nregisterAttrNames({\n  [ArmorAttr.defenseBonus]: 'Def Rating',\n  [ArmorAttr.capacity]: 'Capacity',\n})\n","import { registerAttrNames } from '../../System/Attribute'\n\nexport enum CommlinkAttr {\n  deviceRating = 'commlink.deviceRating',\n  attributes = 'commlink.attributes',\n  programSlots = 'commlink.programSlots',\n}\n\nregisterAttrNames({\n  [CommlinkAttr.deviceRating]: 'Device Rating',\n  [CommlinkAttr.attributes]: 'Attributes',\n  [CommlinkAttr.programSlots]: 'Program Slots',\n})\n","import { registerAttrNames } from '../../System/Attribute'\n\nexport enum KitAttr {\n  medkitRating = 'medkit.rating',\n}\n\nregisterAttrNames({\n  [KitAttr.medkitRating]: 'Rating',\n})\n","export enum KitType {\n  firstAid = 'kit.firstAid',\n  medKit = 'kit.medKit',\n}\n","import { AwakenedType } from '../Character/AwakenedType'\nimport { CharacterAttr } from '../Character/CharacterAttr'\nimport { CharacterData } from '../Character/CharacterData'\nimport { CharacterPoolTypes } from '../Character/CharacterPoolTypes'\nimport { Metatype } from '../Character/Metatypes'\nimport { ArmorAttr } from '../Gear/Armor/ArmorAttr'\nimport { ArmorData } from '../Gear/Armor/ArmorData'\nimport { AugmentAttr } from '../Gear/Augments/AugmentAttr'\nimport { AugmentData, AugmentGrade, AugmentSlot } from '../Gear/Augments/AugmentData'\nimport { CommlinkAttr } from '../Gear/Commlink/CommlinkAttr'\nimport { GearType } from '../Gear/GearData'\nimport { KitAttr } from '../Gear/Kit/KitAttr'\nimport { KitType } from '../Gear/Kit/KitType'\nimport { LicenseAttr } from '../Gear/License/LicenseAttr'\nimport { SinAttr } from '../Gear/License/SinAttr'\nimport { SinData } from '../Gear/License/SinData'\nimport { OtherGearAttr } from '../Gear/OtherGearData'\nimport { VehicleAttr } from '../Gear/Vehicles/VehicleAttr'\nimport { VehicleData } from '../Gear/Vehicles/VehicleData'\nimport { ModType } from '../Gear/Vehicles/VehicleModData'\nimport { WeaponPoolKeys } from '../Gear/Weapons/DicePools'\nimport { WeaponAttr } from '../Gear/Weapons/WeaponAttr'\nimport { WeaponData } from '../Gear/Weapons/WeaponData'\nimport { WeaponModData, WeaponModSlot } from '../Gear/Weapons/WeaponModData'\nimport { ActiveSkillName , SkillType , Specializations } from '../Skills'\nimport { EffectType } from '../System/Effect'\n\nimport { addGear } from './index'\n\nexport const Silicus: CharacterData = {\n  dataVersion: 3,\n\n  bio: {\n    name: 'Silicus',\n    metatype: Metatype.Elf,\n    awakened: AwakenedType.Mundane,\n    gender: 'male',\n    role: 'Street Samurai',\n  },\n\n  karma: [\n    {\n      date: '2021-11-27T16:00',\n      value: 4,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-11-21T15:05',\n      value: 3,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-11-07T16:00',\n      value: 3,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-10-17T16:00',\n      value: 5,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-10-03T16:00',\n      value: 3,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-09-19T16:00',\n      value: 5,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-09-12',\n      value: 2,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-08-29T16:05',\n      value: -10,\n      note: 'Buy reaction 1 -> 2',\n    },\n    {\n      date: '2021-08-29T16:04',\n      value: -25,\n      note: 'Buy charisma 1 -> 3',\n    },\n    {\n      date: '2021-08-29T16:03',\n      value: -12,\n      note: 'Buy Exceptional (Agility)',\n    },\n    {\n      date: '2021-08-29T16:02',\n      value: -3,\n      note: 'Buy Analytical Mind',\n    },\n    {\n      date: '2021-08-29T16:01',\n      value: 10,\n      note: 'Gain Bad Luck',\n    },\n    {\n      date: '2021-08-29T16:00',\n      value: 50,\n      note: 'Character Creation',\n    },\n  ],\n\n  nuyen: [\n    {\n      date: '2021-10-24T16:01',\n      value: -500,\n      note: 'Loan to Artemis',\n    },\n    {\n      date: '2021-10-24T16:00',\n      value: 2_050 + 75 + 500,\n      note: 'Ranger Arms AA-16',\n    },\n    {\n      date: '2021-10-17T16:00',\n      value: 11_400,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-10-03T16:00',\n      value: -30_000,\n      note: 'Orthoskin',\n    },\n    {\n      date: '2021-09-26T16:00',\n      value: 10_166,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-09-25T13:45',\n      value: 2 * 100,\n      note: 'Medical Supplies',\n    },\n    {\n      date: '2021-09-25T13:44',\n      value: 8 * 500,\n      note: 'Trauma Patch',\n    },\n    {\n      date: '2021-09-19T16:00',\n      value: 25_000,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-08-28T00:03',\n      value: -9_000,\n      note: '3 months lifestyle (middle)',\n    },\n    {\n      date: '2021-08-28T00:02',\n      value: -439_575,\n      note: 'Char creation Gear',\n    },\n    {\n      date: '2021-08-28T00:01',\n      value: 450_000,\n      note: 'Char creation',\n    },\n  ],\n\n  lifestyle: {\n    grade: 'middle',\n    upkeep: 5_000,\n    prepaid: 3,\n  },\n\n  attributes: {\n    [CharacterAttr.body]: 4,\n    [CharacterAttr.agility]: 8,\n    [CharacterAttr.reaction]: 2,\n    [CharacterAttr.strength]: 1,\n    [CharacterAttr.willpower]: 1,\n    [CharacterAttr.logic]: 5,\n    [CharacterAttr.intuition]: 4,\n    [CharacterAttr.charisma]: 3,\n    [CharacterAttr.edge]: 4,\n    [CharacterAttr.magic]: 0,\n    [CharacterAttr.resonance]: 0,\n    [CharacterAttr.essence]: 6,\n  },\n\n  contacts: [\n    {\n      name: 'Hunter Morgan',\n      connection: 3,\n      loyalty: 3,\n      description: 'Researcher at Kamino Biotech',\n    },\n    {\n      name: 'Johennes',\n      connection: 3,\n      loyalty: 3,\n      description: 'Fence',\n    },\n    {\n      name: 'Dr. Weber',\n      connection: 3,\n      loyalty: 3,\n      description: 'Ripperdoc',\n    },\n  ],\n\n  skills: [\n    {\n      type: SkillType.active,\n      name: ActiveSkillName.biotech,\n      rank: 5,\n      expertise: Specializations.Biotech.FirstAid,\n    },\n    {\n      type: SkillType.active,\n      name: ActiveSkillName.firearms,\n      rank: 6,\n      specialization: Specializations.Firearms.SubmachineGuns,\n    },\n    {\n      type: SkillType.active,\n      name: ActiveSkillName.perception,\n      rank: 3,\n    },\n    {\n      type: SkillType.active,\n      name: ActiveSkillName.closeCombat,\n      rank: 5,\n    },\n    {\n      type: SkillType.language,\n      name: 'English',\n      rank: 'native',\n    },\n    {\n      type: SkillType.knowledge,\n      name: 'Law Enforcement Corps',\n    },\n    {\n      type: SkillType.knowledge,\n      name: 'Security Systems',\n    },\n    {\n      type: SkillType.knowledge,\n      name: 'Tech Companies',\n    },\n    {\n      type: SkillType.knowledge,\n      name: 'Weapon Manufacturers',\n    },\n    {\n      type: SkillType.knowledge,\n      name: 'Local Gangs',\n    },\n  ],\n\n  gear: [],\n\n  qualities: [\n    {\n      name: 'Analytical Mind',\n      source: { book: 'CRB', page: 70 },\n      gameEffect: 'Bonus edge when making Logic tests',\n      cost: 3,\n    },\n    {\n      name: 'Exceptional (Agility)',\n      source: { book: 'CRB', page: 71 },\n      gameEffect: 'Increase max of one Physical or Mental attribute by 1',\n      cost: 12,\n    },\n    {\n      name: 'Bad Luck',\n      source: { book: 'CRB', page: 70 },\n      gameEffect: 'Glitch on 2s',\n      bonus: 10,\n    },\n  ],\n}\n\nconst smartGunIntMod: WeaponModData = {\n  id: null,\n  source: { book: 'CRB', page: 260 },\n  gearType: GearType.weaponMod,\n  name: 'Smart Gun Int.',\n  type: 'Weapon Mod',\n  cost: 500,\n\n  slot: null,\n  removable: false,\n  wirelessBonus: {\n    enabled: true,\n    description:\n      'You gain a +1 dice pool bonus. Gain a bonus Minor Action on a turn when ' +\n      'you use the Reload Smartgun or Change Device Mode actions to eject a ' +\n      'clip or change fire mode.',\n  },\n  effects: [\n    {\n      wireless: true,\n      name: 'Smart Gun',\n      type: EffectType.dicePoolBonus,\n      poolType: WeaponPoolKeys.basicAttack,\n      bonus: 1,\n    },\n  ],\n}\n\naddGear<WeaponData>(Silicus, {\n  id: 'c77afa27-e7f2-4fa5-ab8f-53830ce79f1d',\n  source: { book: 'FSQ', page: 22 },\n  gearType: GearType.weapon,\n  name: 'Ranger Arms AA-16',\n  type: 'Shotgun',\n  avail: { rarity: 6, illegal: true },\n  cost: 2_050,\n\n  attributes: {\n    [WeaponAttr.dv]: '5P',\n    [WeaponAttr.modes]: 'SA/BF/FA',\n    [WeaponAttr.attackRatings]: '5/11/7/-/-',\n    [WeaponAttr.ammo]: '12(c)',\n  },\n\n  skill: ActiveSkillName.firearms,\n  specialtyName: Specializations.Firearms.Shotguns,\n}, [\n  addGear(Silicus, {\n    ...smartGunIntMod,\n    id: '7be1a881-fa5a-4a24-83db-0d8f3af8e738',\n    removable: false,\n  }),\n  addGear(Silicus, {\n    id: 'ac4025a9-3e0c-4702-971f-a52cc56100a0',\n    source: { book: 'FSQ', page: 22 },\n    gearType: GearType.weaponMod,\n    name: 'Foregrip',\n    type: 'Weapon Mod',\n\n    slot: null,\n    removable: false,\n  }),\n  addGear(Silicus, {\n    id: 'c2c50d7e-ec56-469f-903c-a5d84a109779',\n    source: { book: 'FSQ', page: 71 },\n    cost: 75,\n    gearType: GearType.weaponMod,\n    name: 'Detachable Drum Magazine',\n    type: 'Weapon Mod',\n\n    slot: WeaponModSlot.under,\n  }),\n  addGear(Silicus, {\n    id: 'c5abefe0-575b-4a5f-8e5f-a39723faffc8',\n    source: { book: 'CRB', page: 259 },\n    gearType: GearType.weaponMod,\n    name: 'Gas Vent',\n    type: 'Weapon Mod',\n    avail: { rarity: 3 },\n    cost: 500,\n\n    description: 'Removes the attack rating penalty for Semi-Automatic fire, and reduces it to 2 for Burst Fire',\n\n    slot: WeaponModSlot.barrel,\n    removable: false,\n  }),\n])\n\naddGear<WeaponData>(Silicus, {\n  id: 'd7aac7b6-6113-41e0-8087-53515753e9a3',\n  source: { book: 'CRB', page: 254 },\n  gearType: GearType.weapon,\n  name: 'FN P93 Predator',\n  type: 'Submachine Gun',\n  avail: { rarity: 4, license: true },\n  cost: 925,\n\n  attributes: {\n    [WeaponAttr.dv]: '4P',\n    [WeaponAttr.modes]: 'SA/BF/FA',\n    [WeaponAttr.attackRatings]: '9/12/7/-/-',\n    [WeaponAttr.ammo]: '50(c)',\n  },\n\n  skill: ActiveSkillName.firearms,\n  specialtyName: Specializations.Firearms.SubmachineGuns,\n}, [\n  addGear(Silicus, {\n    id: '81ef8a86-6cdf-49fc-a01e-b059c9757fed',\n    source: { book: 'CRB', page: 254 },\n    gearType: GearType.weaponMod,\n    name: 'Rigid Stock',\n    type: 'Weapon Mod',\n\n    slot: null,\n    removable: false,\n  }),\n  addGear(Silicus, {\n    id: '77fe6e86-2189-47a9-972d-61077b90c242',\n    source: { book: 'CRB', page: 254 },\n    gearType: GearType.weaponMod,\n    name: 'Laser sight',\n    type: 'Weapon Mod',\n\n    slot: WeaponModSlot.topOrUnder,\n  }),\n  addGear(Silicus, {\n    id: '86c75812-6258-40d7-8d9a-539e297cbb2a',\n    source: { book: 'CRB', page: 254 },\n    gearType: GearType.weaponMod,\n    name: 'Flashlight',\n    type: 'Weapon Mod',\n\n    slot: null,\n    removable: false,\n  }),\n  addGear(Silicus, {\n    ...smartGunIntMod,\n    id: '291a7eae-7369-4add-843f-73b68d3e1fe2',\n  }),\n  addGear(Silicus, {\n    id: 'ec2415cc-832b-4fda-bbd1-b19516cc389f',\n    source: { book: 'CRB', page: 259 },\n    gearType: GearType.weaponMod,\n    name: 'Gas Vent',\n    type: 'Weapon Mod',\n    avail: { rarity: 3 },\n    cost: 500,\n\n    description: 'Removes the attack rating penalty for Semi-Automatic fire, and reduces it to 2 for Burst Fire',\n\n    slot: WeaponModSlot.barrel,\n    removable: false,\n  }),\n])\n\naddGear<WeaponData>(Silicus, {\n  id: '2c28bae0-15fc-4564-826e-84397c260a1c',\n  source: { book: 'FS', page: 36 },\n  gearType: GearType.weapon,\n  name: 'Krime Thumper',\n  type: 'Launcher',\n  avail: { rarity: 3, license: true },\n  cost: 1_500,\n\n  attributes: {\n    [WeaponAttr.dv]: 'Grenade',\n    [WeaponAttr.modes]: 'SA',\n    [WeaponAttr.attackRatings]: '-/8/7/5/-',\n    [WeaponAttr.ammo]: '30(m)',\n  },\n\n  skill: ActiveSkillName.firearms,\n  specialtyName: Specializations.Firearms.Launchers,\n}, [\n  addGear(Silicus, {\n    id: '76d1fc48-02c9-41b6-ae81-87bee8ad9b9e',\n    gearType: GearType.weapon,\n    name: 'Shotgun configuration',\n    type: 'Weapon configuration',\n\n    attributes: {\n      [WeaponAttr.dv]: '4P',\n      [WeaponAttr.modes]: 'SS',\n      [WeaponAttr.attackRatings]: '12/6/3/-/-',\n    },\n\n    removable: false,\n    skill: ActiveSkillName.firearms,\n    specialtyName: Specializations.Firearms.Launchers,\n  }),\n])\n\naddGear<WeaponData>(Silicus, {\n  id: '7a055ec1-6048-4b36-a555-445f28fdfdbf',\n  source: { book: 'CRB', page: 255 },\n  gearType: GearType.weapon,\n  name: 'Ares Viper Silvergun',\n  type: 'Heavy Pistol',\n  avail: { rarity: 4, license: true },\n  cost: 610,\n\n  attributes: {\n    [WeaponAttr.dv]: '4P(f)',\n    [WeaponAttr.modes]: 'SA/BF',\n    [WeaponAttr.attackRatings]: '12/8/6/-/-',\n    [WeaponAttr.ammo]: '30(c)',\n  },\n\n  skill: ActiveSkillName.firearms,\n  specialtyName: Specializations.Firearms.HeavyPistols,\n}, [\n  addGear(Silicus, {\n    ...smartGunIntMod,\n    id: '322b3cb5-c37f-4600-a47e-c9c48d68cd87',\n  }),\n  addGear(Silicus, {\n    id: 'b987971b-814f-489d-b0f4-ffc5f8602069',\n    source: { book: 'CRB', page: 260 },\n    gearType: GearType.weaponMod,\n    name: 'Quick Draw Holster',\n    type: 'Weapon Mod',\n    avail: { rarity: 2 },\n    cost: 175,\n\n    description: 'Use of a Quick-Draw holster provides a bonus Minor action when the Quick-Draw Action is taken',\n    slot: null,\n  }),\n])\n\naddGear<WeaponData>(Silicus, {\n  id: '6d431911-4038-4c64-b543-13af0b9cab5f',\n  source: { book: 'CRB', page: 255 },\n  gearType: GearType.weapon,\n  name: 'Defiance SuperShocker',\n  type: 'Taser',\n  avail: { rarity: 1 },\n  cost: 340,\n\n  attributes: {\n    [WeaponAttr.dv]: '6S(e)',\n    [WeaponAttr.modes]: 'SS',\n    [WeaponAttr.attackRatings]: '10/6/-/-/-',\n    [WeaponAttr.ammo]: '4(m)',\n    [WeaponAttr.maxRange]: '20m',\n  },\n\n  skill: ActiveSkillName.firearms,\n  specialtyName: Specializations.Firearms.Tasers,\n}, [\n  addGear(Silicus, {\n    ...smartGunIntMod,\n    id: '08cd19d1-94c2-4e51-9a8b-89bc34c34212',\n  }),\n])\n\naddGear<WeaponData>(Silicus, {\n  id: 'c99f8aba-d4d6-4880-8d4d-866dace1eb75',\n  source: { book: 'CRB', page: 254 },\n  gearType: GearType.weapon,\n  name: 'Survival Knife',\n  type: 'Blade',\n  avail: { rarity: 2 },\n  cost: 250,\n\n  attributes: {\n    [WeaponAttr.dv]: '3P',\n    [WeaponAttr.modes]: 'SA/BF/FA',\n    [WeaponAttr.attackRatings]: '8/2/-/-/-',\n    [WeaponAttr.maxRange]: '20m',\n  },\n\n  skill: ActiveSkillName.closeCombat,\n  specialtyName: 'Blades',\n})\n\naddGear<WeaponData>(Silicus, {\n  id: '604ab904-d3e7-4f4e-9da0-182495de68a1',\n  source: { book: 'CRB', page: 254 },\n  gearType: GearType.weapon,\n  name: 'Shock Gloves',\n  type: 'Other Melee',\n  avail: { rarity: 4 },\n  cost: 790,\n\n  attributes: {\n    [WeaponAttr.type]: 'Unarmed',\n    [WeaponAttr.dv]: '4S(e)',\n    [WeaponAttr.attackRatings]: '5/-/-/-/-',\n  },\n\n  skill: ActiveSkillName.closeCombat,\n  specialtyName: 'Blades',\n})\n\naddGear<AugmentData>(Silicus, {\n  id: 'b8d896da-e201-4e6b-96e6-adefd3c8d1a3',\n  name: 'Synaptic Booster',\n  type: 'Cultured Bioware Augment',\n  gearType: GearType.augment,\n  source: { book: 'CRB', page: 293 },\n  avail: { rarity: 4, license: true },\n  cost: 142_500,\n\n  description: (`\n    The nerve cells making up the spinal cord are both broadened and replicated \n    with this bioware, allowing for neural bandwidth. The result is a much faster \n    reaction time. The booster confers a bonus of +1 Reaction (and the accompanying \n    adjustment to Initiative Score), 1 additional Initiative Die, and 1 additional\n    Minor Action per point of Rating. The synaptic booster cannot be combined with \n    any other form of Reaction or Initiative enhancement. Unlike other enhancements,\n    this cannot be turned off, leaving the user in a perpetual state of being in\n    surrounded by slow motion.  \n  `),\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.used,\n    [AugmentAttr.essenceCost]: 1.65,\n    [AugmentAttr.slot]: AugmentSlot.bioware,\n    [AugmentAttr.rating]: 3,\n  },\n\n  enabled: true,\n  effects: [\n    { type: EffectType.attrBonus, attr: CharacterAttr.reaction, bonus: 3 },\n    { type: EffectType.initBonus, bonus: 3 },\n  ],\n})\n\naddGear<AugmentData>(Silicus, {\n  id: '62c28948-dc2b-42cc-95ee-22732203fe04',\n  gearType: GearType.augment,\n  name: 'Platelet Factories',\n  type: 'Bioware Augment',\n  source: { book: 'CRB', page: 292 },\n  avail: { rarity: 3 },\n  cost: 8_500,\n\n  description: (`\n    Any time you would take 2 or more boxes of damage to your Physical Condition \n    Monitor, reduce the damage by 1 box.\n  `),\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.used,\n    [AugmentAttr.essenceCost]: 0.22,\n    [AugmentAttr.slot]: AugmentSlot.bioware,\n  },\n})\n\naddGear<AugmentData>(Silicus, {\n  id: '89a8b4ed-8e1b-4ab0-84c5-e0fb4bfdd437',\n  gearType: GearType.augment,\n  name: 'Muscle Toner',\n  type: 'Bioware Augment',\n  source: { book: 'CRB', page: 292 },\n  avail: { rarity: 3, license: true },\n  cost: 64_000,\n\n  description: (`\n    Muscle Toner adds it's rating to your Agility attribute. This bioware is incompatible\n    with augmentations that increase Agility, including the muscle replacement cyberware\n    and enhanced articulations bioware\n  `),\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.used,\n    [AugmentAttr.rating]: 4,\n    [AugmentAttr.essenceCost]: 0.88,\n    [AugmentAttr.slot]: AugmentSlot.bioware,\n  },\n\n  enabled: true,\n  effects: [\n    { type: EffectType.attrBonus, attr: CharacterAttr.agility, bonus: 4 },\n  ],\n})\n\naddGear<AugmentData>(Silicus, {\n  id: '3addb3cb-d1f2-42c0-b1ea-59aa267c34e2',\n  gearType: GearType.augment,\n  name: 'Bone Density',\n  type: 'Bioware Augment',\n  source: { book: 'CRB', page: 291 },\n  avail: { rarity: 3, license: true },\n  cost: 24_000,\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.alpha,\n    [AugmentAttr.rating]: 4,\n    [AugmentAttr.essenceCost]: 0.48,\n    [AugmentAttr.slot]: AugmentSlot.bioware,\n  },\n\n  description: (`\n      Increases Body during damage resistance test by rating. \n      Melee damage: 3P, Atk. Rating: +2\n  `),\n\n  effects: [\n    { type: EffectType.dicePoolBonus, name: 'Bone Density', poolType: CharacterPoolTypes.dmgResist, bonus: 4 },\n    // Melee damage: 3P\n    // Melee Atk. Rating: +2\n  ],\n})\n\naddGear<AugmentData>(Silicus, {\n  id: '8bbf6a1b-ccf2-4fc8-828a-ec2170e67c84',\n  name: 'Pain Editor',\n  type: 'Cultured Bioware Augment',\n  gearType: GearType.augment,\n  source: { book: 'CRB', page: 293 },\n  avail: { rarity: 5, illegal: true },\n  cost: 72_000,\n\n  description: (`\n    This cluster of specialized nervous tissue is designed to filter sensory stimuli.\n    If the pain editor is active, this allows you to ignore all injury modifiers, \n    and you can even stay conscious when your stun condition monitor is completely \n    full. You feel no painyou're blissfully, dangerously, recklessly unaware of\n    the extent of the damage you've taken without either performing a self-examination\n    (Observe in Detail action) or being informed by a biomonitor. While active, the\n    pain editor increases your willpower by 1 and decreases your intuition by 1;\n    additionally, all tactile Perception tests you make have their threshold increased\n    by 1. \n  `),\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.beta,\n    [AugmentAttr.essenceCost]: 0.21,\n    [AugmentAttr.slot]: AugmentSlot.bioware,\n  },\n\n  enabled: true,\n  effects: [\n    { type: EffectType.attrBonus, attr: CharacterAttr.willpower, bonus: 1 },\n    { type: EffectType.attrBonus, attr: CharacterAttr.intuition, bonus: -1 },\n  ],\n})\n\naddGear<AugmentData>(Silicus, {\n  id: '6b343cba-32e4-4177-899c-eab7deabdb6d',\n  name: 'Orthoskin',\n  type: 'Bioware Augment',\n  gearType: GearType.augment,\n  source: { book: 'CRB', page: 292 },\n  avail: { rarity: 7, license: true },\n  cost: 30_000,\n\n  description: (`\n    A web of biofibers in the skin provides the\n    equivalent of personal armor while being virtually\n    indistinguishable from natural skin. Orthoskin\n    provides a bonus equal to its rating to your Defense\n    Rating. Orthoskin cannot be combined with\n    skin augmentations, including dermal plating. \n  `),\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.delta,\n    [AugmentAttr.essenceCost]: 0.25,\n    [AugmentAttr.slot]: AugmentSlot.bioware,\n  },\n\n  effects: [\n    { type: EffectType.defRatingBonus, bonus: 2 },\n  ],\n})\n\naddGear<AugmentData>(Silicus, {\n  id: 'eb40f7f5-0037-43e1-bb3e-422513555003',\n  gearType: GearType.augment,\n  name: 'Reflex Recorder (Firearms)',\n  type: 'Cultured Bioware Augment',\n  source: { book: 'CRB', page: 293 },\n  avail: { rarity: 4 },\n  cost: 7_000,\n\n  description: (`\n    This system uses extra nervous tissue linked to\n    specific areas of the body to improve muscle memory.\n    The reflex recorder adds 1 to the rating of a\n    skill linked to a Physical attribute. Multiple recorders\n    may be taken for multiple skills, but you cant\n    implant two reflex recorders for the same skill.\n  `),\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.used,\n    [AugmentAttr.essenceCost]: 0.11,\n    [AugmentAttr.slot]: AugmentSlot.bioware,\n  },\n\n  enabled: true,\n  effects: [\n    { type: EffectType.skillBonus, skill: ActiveSkillName.firearms, bonus: 1 },\n  ],\n})\n\naddGear<AugmentData>(Silicus, {\n  id: '951f4aa6-76f4-4626-bd0c-ca33da7569d9',\n  gearType: GearType.augment,\n  name: 'Cerebral Booster',\n  type: 'Cultured Bioware Augment',\n  source: { book: 'CRB', page: 293 },\n  avail: { rarity: 5 },\n  cost: 47_250,\n\n  description: (`\n    The convolutions and gyri of your cerebrum\n    are augmented and amplified with additional\n    nervous tissue, improving overall brain function.\n    Your cerebral booster increases your Logic attribute\n    by its rating.\n  `),\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.used,\n    [AugmentAttr.rating]: 3,\n    [AugmentAttr.essenceCost]: 0.66,\n    [AugmentAttr.slot]: AugmentSlot.bioware,\n  },\n\n  enabled: true,\n  effects: [\n    { type: EffectType.attrBonus, attr: CharacterAttr.logic, bonus: 3 },\n  ],\n})\n\naddGear(Silicus, {\n  id: '1962503b-a324-4fe2-8dde-06bf534da060',\n  gearType: GearType.other,\n  name: 'Sony Emperor',\n  type: 'Commlink',\n  source: { book: 'CRB', page: 267 },\n  avail: { rarity: 2 },\n  cost: 700,\n\n  attributes: {\n    [CommlinkAttr.deviceRating]: 2,\n    [CommlinkAttr.attributes]: '1/1',\n    [CommlinkAttr.programSlots]: 1,\n  },\n})\n\naddGear(Silicus, {\n  id: '6b7d26a5-47de-48b7-a6b6-c8b5c1b483e9',\n  gearType: GearType.other,\n  name: 'Biomonitor',\n  type: 'Biotech',\n  source: { book: 'CRB', page: 281 },\n  avail: { rarity: 2 },\n  cost: 300,\n})\n\naddGear(Silicus, {\n  id: 'b9f302ee-7018-44d3-bf31-93438259ca3b',\n  gearType: GearType.other,\n  name: 'Glasses',\n  type: 'Clothing',\n  source: { book: 'CRB', page: 285 },\n  avail: { rarity: 2 },\n  cost: 400,\n\n  attributes: {\n    [OtherGearAttr.capacity]: 4,\n  },\n}, [\n  addGear(Silicus, {\n    id: 'cc67fef4-05a5-4be3-a671-20df801d04a6',\n    gearType: GearType.other,\n    name: 'Smartlink',\n    type: 'Visual Enhancement',\n    source: { book: 'CRB', page: 275 },\n    avail: { rarity: 2 },\n    cost: 2_000,\n\n    attributes: {\n      [OtherGearAttr.capacityCost]: 2,\n    },\n  }),\n  addGear(Silicus, {\n    id: '0f074916-55c1-4889-8fae-61228b5c71c2',\n    gearType: GearType.other,\n    name: 'Imagelink',\n    type: 'Visual Enhancement',\n    source: { book: 'CRB', page: 275 },\n    avail: { rarity: 1 },\n    cost: 25,\n\n    attributes: {\n      [OtherGearAttr.capacityCost]: 1,\n    },\n  }),\n  addGear(Silicus, {\n    id: 'e11702ae-1c89-451e-8d6e-04597abc157a',\n    gearType: GearType.other,\n    name: 'Thermographic Vision',\n    type: 'Visual Enhancement',\n    source: { book: 'CRB', page: 275 },\n    avail: { rarity: 2 },\n    cost: 500,\n\n    attributes: {\n      [OtherGearAttr.capacityCost]: 1,\n    },\n  }),\n])\n\naddGear<ArmorData>(Silicus, {\n  id: '9e95c3e8-216f-4576-95ee-0fc33ef2c3df',\n  gearType: GearType.armor,\n  name: 'Armor Jacket',\n  type: 'Armor',\n  source: { book: 'CRB', page: 265 },\n  avail: { rarity: 2 },\n  cost: 1_000,\n\n  attributes: {\n    [ArmorAttr.defenseBonus]: 4,\n    [ArmorAttr.capacity]: 8,\n  },\n})\n\naddGear(Silicus, {\n  id: '843f901e-49df-41ad-8f5d-494038a96b98',\n  gearType: GearType.armor,\n  name: 'Auctioneer Business Clothes',\n  type: 'Armor',\n  source: { book: 'CRB', page: 265 },\n  avail: { rarity: 2 },\n  cost: 1_500,\n\n  attributes: {\n    'armor.defenseBonus': 2,\n    'armor.capacity': 6,\n  },\n}, [\n  addGear(Silicus, {\n    id: 'cc7ed3c8-3b21-4406-a954-0cabf5232be2',\n    gearType: GearType.armorMod,\n    name: 'Concealed Hostler',\n    type: 'Armor Mod',\n    source: { book: 'CRB', page: 259 },\n\n    wirelessBonus: {\n      enabled: true,\n      description: 'Increases cancellability threshold by 1',\n    },\n  }),\n])\n\naddGear(Silicus, {\n  id: 'cb0f423e-44ab-48f5-bebd-41164def3b50',\n  gearType: GearType.other,\n  name: 'Medkit',\n  type: 'Biotech',\n  source: { book: 'CRB', page: 281 },\n  avail: { rarity: 3 },\n  cost: 1_500,\n\n  attributes: {\n    [KitAttr.medkitRating]: 6,\n  },\n\n  wirelessBonus: {\n    enabled: true,\n    description: (`\n      The medkit provides a +1 dice pool modifier to healing tests\n    `),\n  },\n\n  kit: KitType.medKit,\n}, [\n  addGear(Silicus, {\n    id: '8b766655-5394-4a88-b37e-b8ecfe481e06',\n    gearType: GearType.other,\n    name: 'Medkit Supplies',\n    type: 'Supplies',\n    source: { book: 'CRB', page: 273 },\n    avail: { rarity: 1 },\n    cost: 100,\n    quantity: 5,\n  }),\n])\n\naddGear(Silicus, {\n  id: '4160259c-a62e-402b-b94d-c7c92b0c2370',\n  gearType: GearType.other,\n  name: 'First Aid Kit',\n  type: 'Kit',\n  source: { book: 'CRB', page: 273 },\n  avail: { rarity: 1 },\n  cost: 500,\n\n  kit: KitType.firstAid,\n})\n\naddGear(Silicus, {\n  id: '8f7bd7b0-7521-4f30-abe5-a6c09826a610',\n  gearType: GearType.other,\n  name: 'Trauma Patch',\n  type: 'Slap Patch',\n  source: { book: 'CRB', page: 282 },\n  avail: { rarity: 3 },\n  cost: 500,\n  quantity: 10,\n  description: (`\n    If placed on a patient with Overflow Damage, the patient is automatically stabilized.\n    These patches are always wireless, and connect to the matrix the moment they are applied.\n  `),\n})\n\naddGear<VehicleData>(Silicus, {\n  id: 'eac7b24b-fa6d-4ab8-8f09-b1083e6054ae',\n  gearType: GearType.vehicle,\n  name: 'Suzuki Mirage',\n  type: 'Bike',\n  cost: 12_000,\n  avail: { rarity: 2 },\n  source: { book: 'CRB', page: 295 },\n\n  attributes: {\n    [VehicleAttr.handling]: '2/6',\n    [VehicleAttr.accel]: 29,\n    [VehicleAttr.speedInterval]: 30,\n    [VehicleAttr.topSpeed]: 260,\n    [VehicleAttr.body]: 4,\n    [VehicleAttr.armor]: 2,\n    [VehicleAttr.pilot]: 1,\n    [VehicleAttr.sensor]: 1,\n    [VehicleAttr.seat]: 1,\n  },\n\n  pilotingSpeciality: 'Ground Craft',\n})\n\naddGear<VehicleData>(Silicus, {\n  id: 'c55a0573-670d-4f31-993b-60f151f30e86',\n  gearType: GearType.vehicle,\n  name: 'Hyundai Shin-Hyung',\n  type: 'Car',\n  cost: 20_000,\n  avail: { rarity: 2 },\n  source: { book: 'CRB', page: 295 },\n\n  attributes: {\n    [VehicleAttr.handling]: '3/5',\n    [VehicleAttr.accel]: 12,\n    [VehicleAttr.speedInterval]: 25,\n    [VehicleAttr.topSpeed]: 200,\n    [VehicleAttr.body]: 7,\n    [VehicleAttr.armor]: 1,\n    [VehicleAttr.pilot]: 1,\n    [VehicleAttr.sensor]: 1,\n    [VehicleAttr.seat]: 3,\n  },\n\n  pilotingSpeciality: 'Ground Craft',\n}, [\n  addGear(Silicus, {\n    id: 'd8e171f9-c1b1-4b22-bf28-bebcee03e859',\n    gearType: GearType.vehicleMod,\n    modType: ModType.riggerInterface,\n    name: 'Rigger Interface',\n    type: 'vehicle mod',\n    avail: { rarity: 2, license: true },\n    cost: 1_000,\n  }),\n])\n\naddGear<SinData>(Silicus, {\n  id: '97ec7a5b-358e-4cfd-b2ab-040934ec1f88',\n  gearType: GearType.sin,\n  name: 'Jake Ozbourne',\n  type: 'Fake SIN',\n  source: { book: 'CRB', page: 273 },\n  avail: { rarity: 4, illegal: true },\n  cost: 15_000,\n\n  description: 'General use SIN',\n\n  attributes: {\n    [SinAttr.rating]: 6,\n  },\n}, [\n  addGear(Silicus, {\n    id: '5b529806-1ab6-4363-9218-00846f1c86d2',\n    gearType: GearType.license,\n    name: 'License: Concealed Carry',\n    type: 'Fake License',\n    source: { book: 'CRB', page: 273 },\n    avail: { rarity: 4, illegal: true },\n    cost: 1_000,\n\n    attributes: {\n      [LicenseAttr.rating]: 5,\n    },\n  }),\n  addGear(Silicus, {\n    id: '33cd2f9a-2c84-412e-9081-16c916f53eff',\n    gearType: GearType.license,\n    name: 'License: Firearm Carry',\n    type: 'Fake License',\n    source: { book: 'CRB', page: 273 },\n    avail: { rarity: 4, illegal: true },\n    cost: 1_000,\n\n    attributes: {\n      [LicenseAttr.rating]: 5,\n    },\n  }),\n  addGear(Silicus, {\n    id: '989639ae-1592-46b9-b7b8-cdd7dad6b958',\n    gearType: GearType.license,\n    name: 'License: Ares Viper Silvergun',\n    type: 'Fake License',\n    source: { book: 'CRB', page: 273 },\n    avail: { rarity: 4, illegal: true },\n    cost: 1_000,\n\n    attributes: {\n      [LicenseAttr.rating]: 5,\n    },\n  }),\n])\n\naddGear<SinData>(Silicus, {\n  id: '7cd3e825-ca8f-40b6-ad50-ae2af68fa91c',\n  gearType: GearType.sin,\n  name: 'Picard DeLance',\n  type: 'Fake SIN',\n  source: { book: 'CRB', page: 273 },\n  avail: { rarity: 4, illegal: true },\n  cost: 10_000,\n\n  description: 'Runner use SIN',\n\n  attributes: {\n    [SinAttr.rating]: 4,\n  },\n})\n","import { AwakenedType } from '../Character/AwakenedType'\nimport { CharacterAttr } from '../Character/CharacterAttr'\nimport { CharacterData } from '../Character/CharacterData'\nimport { Metatype } from '../Character/Metatypes'\nimport { ArmorAttr } from '../Gear/Armor/ArmorAttr'\nimport { AugmentAttr } from '../Gear/Augments/AugmentAttr'\nimport { AugmentData, AugmentGrade, AugmentSlot } from '../Gear/Augments/AugmentData'\nimport { CommlinkAttr } from '../Gear/Commlink/CommlinkAttr'\nimport { GearType } from '../Gear/GearData'\nimport { OtherGearAttr } from '../Gear/OtherGearData'\nimport { VehicleAttr } from '../Gear/Vehicles/VehicleAttr'\nimport { VehicleData } from '../Gear/Vehicles/VehicleData'\nimport { WeaponPoolKeys } from '../Gear/Weapons/DicePools'\nimport { WeaponAttr } from '../Gear/Weapons/WeaponAttr'\nimport { WeaponModData, WeaponModSlot } from '../Gear/Weapons/WeaponModData'\nimport { ActiveSkillName, SkillType, Specializations } from '../Skills'\nimport { EffectType } from '../System/Effect'\nimport { Silicus } from './Silicus'\n\nimport { addGear } from '.'\n\nexport const Spike: CharacterData = {\n  dataVersion: 3,\n\n  bio: {\n    name: 'Spike',\n    metatype: Metatype.Elf,\n    awakened: AwakenedType.Mundane,\n    gender: 'male',\n    role: 'Street Samurai',\n  },\n\n  karma: [\n    {\n      date: '2021-12-05',\n      value: 27,\n      note: 'Balance import',\n    },\n  ],\n\n  nuyen: [\n    {\n      date: '2021-12-05',\n      value: 13_066,\n      note: 'Balance import',\n    },\n  ],\n\n  lifestyle: {\n    grade: 'low',\n    upkeep: 2_000,\n    prepaid: 1,\n  },\n\n  attributes: {\n    [CharacterAttr.body]: 5,\n    [CharacterAttr.agility]: 8,\n    [CharacterAttr.reaction]: 5,\n    [CharacterAttr.strength]: 1,\n    [CharacterAttr.willpower]: 5,\n    [CharacterAttr.logic]: 1,\n    [CharacterAttr.intuition]: 5,\n    [CharacterAttr.charisma]: 4,\n    [CharacterAttr.edge]: 5,\n    [CharacterAttr.magic]: 0,\n    [CharacterAttr.resonance]: 0,\n    [CharacterAttr.essence]: 6,\n  },\n\n  contacts: [\n    {\n      name: 'Roy',\n      connection: 4,\n      loyalty: 4,\n      description: 'Weapons Dealer',\n    },\n    {\n      name: 'Jackie',\n      connection: 4,\n      loyalty: 4,\n      description: 'Mobster',\n    },\n    {\n      name: 'Michi',\n      connection: 4,\n      loyalty: 4,\n      description: 'Ripper Doc',\n    },\n  ],\n\n  skills: [\n    {\n      type: SkillType.active,\n      name: ActiveSkillName.firearms,\n      rank: 7,\n      specialization: Specializations.Firearms.SubmachineGuns,\n    },\n    {\n      type: SkillType.active,\n      name: ActiveSkillName.stealth,\n      rank: 3,\n    },\n    {\n      type: SkillType.active,\n      name: ActiveSkillName.athletics,\n      rank: 4,\n    },\n    {\n      type: SkillType.active,\n      name: ActiveSkillName.piloting,\n      rank: 1,\n    },\n    {\n      type: SkillType.active,\n      name: ActiveSkillName.perception,\n      rank: 4,\n    },\n    {\n      type: SkillType.active,\n      name: ActiveSkillName.con,\n      rank: 2,\n    },\n\n    {\n      type: SkillType.language,\n      name: 'English',\n      rank: 'native',\n    },\n  ],\n\n  qualities: [\n    {\n      name: 'Low Light Vision',\n      source: { book: 'CRB', page: 72 },\n      gameEffect: 'You can see clearly in any light level that is not total darkness.',\n    },\n    {\n      name: 'Exceptional (Agility)',\n      source: { book: 'CRB', page: 71 },\n      gameEffect: 'Your maximum for Agility is 8',\n      cost: 12,\n    },\n    {\n      name: 'Aptitude (Firearms)',\n      source: { book: 'CRB', page: 70 },\n      gameEffect: 'Your firearms skill maximum is for Firearms is 10',\n      cost: 12,\n    },\n    {\n      name: 'High Pain Tolerance',\n      source: { book: 'CRB', page: 72 },\n      gameEffect: 'When wounded, reduce your wound penalty by 1 (to a minimum of 0)',\n      effects: [{ type: EffectType.woundPenaltyReduction, value: 1 }],\n      cost: 7,\n    },\n    {\n      name: 'Catlike',\n      source: { book: 'CRB', page: 71 },\n      gameEffect: 'You gain a bonus edge on all tests for balance, falling, and landing safely.',\n      cost: 12,\n    },\n    {\n      name: 'Allergy (Sun, Moderate)',\n      source: { book: 'CRB', page: 74 },\n      gameEffect: `\n        You can not spend or earn edge while exposed to Sunlight. You \n        experience -4 dice pool modifier to any test involving a Physical\n        attribute while in Sunlight. \n      `,\n      bonus: 14,\n    },\n    {\n      name: 'Addiction (Deepweed, 1 Day)',\n      source: { book: 'CRB', page: 74 },\n      gameEffect: `\n        You can not earn or spend edge while under the effects of withdrawal\n        from Deepweed. When in withdrawal, take a penalty on all tests: -2 \n        after 1 day, -4 after 3 days, and -6 after a week \n      `,\n      bonus: 6,\n    },\n  ],\n\n  gear: [],\n}\n\naddGear(Spike, {\n  id: '2dd5ed6d-14aa-450b-b5f2-85e1d7ca5063',\n  source: { book: 'CRB', page: 265 },\n  gearType: GearType.armor,\n  name: 'Chameleon Suit',\n  type: 'Armor',\n  avail: { rarity: 4, illegal: true },\n  cost: 2_000,\n  attributes: {\n    [ArmorAttr.defenseBonus]: 2,\n    [ArmorAttr.capacity]: 4,\n  },\n  description: `\n    Available in all manner of styles, it offers good protection without \n    catching too much attention. But dont think of wearing one to a \n    social event or government building.\n  `,\n  wirelessBonus: {\n    enabled: true,\n    description: 'Raises defense rating by 2 thanks to improved hiding ability',\n    effects: [\n      { type: EffectType.defRatingBonus, bonus: 2 },\n    ],\n  },\n}, [\n  addGear(Silicus, {\n    attachedTo: '2dd5ed6d-14aa-450b-b5f2-85e1d7ca5063',\n    id: '91aa36e4-a048-41c9-9652-3b84b99468e9',\n    gearType: GearType.armorMod,\n    name: 'Electricity Resistance',\n    type: 'Armor Mod',\n    source: { book: 'CRB', page: 266 },\n    avail: { rarity: 3 },\n    cost: 1_000,\n    attributes: { 'Rating': 4, 'Uses': 4 },\n    description: 'Cancels the Zapped status up to 4 times, then is worn away',\n  }),\n])\n\nconst smartGunIntMod: WeaponModData = {\n  id: null,\n  source: { book: 'CRB', page: 260 },\n  gearType: GearType.weaponMod,\n  name: 'Smart Gun Int.',\n  type: 'Weapon Mod',\n  cost: 500,\n\n  slot: null,\n  removable: false,\n  wirelessBonus: {\n    enabled: true,\n    description:\n      'You gain a +1 dice pool bonus. Gain a bonus Minor Action on a turn when ' +\n      'you use the Reload Smartgun or Change Device Mode actions to eject a ' +\n      'clip or change fire mode.',\n  },\n  effects: [\n    {\n      wireless: true,\n      name: 'Smart Gun',\n      type: EffectType.dicePoolBonus,\n      poolType: WeaponPoolKeys.basicAttack,\n      bonus: 1,\n    },\n  ],\n}\n\naddGear(Spike, {\n  id: 'c64c19a8-ada0-4f4a-9bdd-df10da7ea1b2',\n  gearType: GearType.weapon,\n  name: 'Ruger 101',\n  type: 'Rifle',\n  source: { book: 'CRB', page: 258 },\n  avail: { rarity: 2, license: true },\n  cost: 11_100,\n  attributes: {\n    [WeaponAttr.dv]: '5P',\n    [WeaponAttr.attackRatings]: '2/6/10/12/11',\n    [WeaponAttr.modes]: 'SA',\n    [WeaponAttr.ammo]: '8(m)',\n  },\n  skill: ActiveSkillName.firearms,\n  specialtyName: Specializations.Firearms.Rifles,\n}, [\n  addGear(Silicus, {\n    ...smartGunIntMod,\n    id: '5c6a5325-1f21-435e-b39d-559b8d7367ba',\n  }),\n  addGear(Silicus, {\n    id: 'ff521abf-4f69-43bc-8842-42c70fa57677',\n    gearType: GearType.weaponMod,\n    name: 'Rigid Stock with shock pad',\n    type: 'Weapon Mod',\n    slot: WeaponModSlot.under,\n  }),\n  addGear(Silicus, {\n    id: '604f8e10-23ee-49c0-9e03-47129f56f984',\n    gearType: GearType.weaponMod,\n    name: 'Imaging Scope',\n    type: 'Weapon Mod',\n    slot: WeaponModSlot.top,\n    removable: true,\n  }),\n])\n\naddGear(Spike, {\n  id: 'fe479daa-c729-41d5-9b25-e8d60c375a86',\n  gearType: GearType.weapon,\n  name: 'Ares Desert Strike',\n  type: 'Rifle',\n  source: { book: 'CRB', page: 258 },\n  avail: { rarity: 4, illegal: true },\n  cost: 11_000,\n  attributes: {\n    [WeaponAttr.dv]: '5P',\n    [WeaponAttr.attackRatings]: '3/10/10/10/10',\n    [WeaponAttr.modes]: 'SA/BF/FA',\n    [WeaponAttr.ammo]: '14(c)',\n  },\n  skill: ActiveSkillName.firearms,\n  specialtyName: Specializations.Firearms.Rifles,\n}, [\n  addGear(Silicus, {\n    ...smartGunIntMod,\n    id: '34253074-4c73-4e12-9434-856d363a394c',\n  }),\n  addGear(Silicus, {\n    id: 'd3f6211d-9057-498b-8c52-9f137a63a248',\n    gearType: GearType.weaponMod,\n    name: 'Rigid Stock with shock pad',\n    type: 'Weapon Mod',\n    slot: WeaponModSlot.under,\n  }),\n  addGear(Silicus, {\n    id: '71e863dc-c0e8-4b71-b0a4-69ce58e5e4d1',\n    gearType: GearType.weaponMod,\n    name: 'Imaging Scope',\n    type: 'Weapon Mod',\n    slot: WeaponModSlot.top,\n    removable: true,\n  }),\n])\n\naddGear(Spike, {\n  id: 'fb5d82be-83eb-4cab-afaf-2cabbcd4dabd',\n  gearType: GearType.weapon,\n  name: 'Ingram Smartgun XI',\n  type: 'Submachine Gun',\n  source: { book: 'CRB', page: 255 },\n  avail: { rarity: 3, license: true },\n  cost: 750,\n  attributes: {\n    [WeaponAttr.dv]: '3P',\n    [WeaponAttr.attackRatings]: '11/9/6/-/-',\n    [WeaponAttr.modes]: 'SA/BF',\n    [WeaponAttr.ammo]: '32(c)',\n  },\n  skill: ActiveSkillName.firearms,\n  specialtyName: Specializations.Firearms.SubmachineGuns,\n}, [\n  addGear(Silicus, {\n    ...smartGunIntMod,\n    id: '3443bc88-c268-4b39-940e-d3c4adf1bfe9',\n  }),\n  addGear(Silicus, {\n    id: 'a746b9e4-8076-4ca9-9ee9-bb6f6bea0e15',\n    gearType: GearType.weaponMod,\n    name: 'Gas Vent System',\n    type: 'Weapon Mod',\n    slot: WeaponModSlot.barrel,\n    removable: false,\n  }),\n  addGear(Silicus, {\n    id: 'f47ecf4d-36bc-4a16-8abb-7006dcfc1461',\n    gearType: GearType.weaponMod,\n    name: 'Silencer',\n    type: 'Weapon Mod',\n    slot: WeaponModSlot.barrel,\n    removable: false,\n  }),\n])\n\naddGear(Spike, {\n  id: 'c0985b9f-2e82-4e7e-9038-4e4bae5bda14',\n  gearType: GearType.weapon,\n  name: 'Fichetti Security 600',\n  type: 'Light Pistol',\n  source: { book: 'CRB', page: 255 },\n  avail: { rarity: 3, license: true },\n  cost: 390,\n  attributes: {\n    [WeaponAttr.dv]: '2P',\n    [WeaponAttr.attackRatings]: '10/9/6/-/-',\n    [WeaponAttr.modes]: 'SA',\n    [WeaponAttr.ammo]: '30(c)',\n  },\n  skill: ActiveSkillName.firearms,\n  specialtyName: Specializations.Firearms.LightPistols,\n}, [\n  addGear(Silicus, {\n    ...smartGunIntMod,\n    id: '9d32fd3a-25ed-4954-9d69-e27f6f153830',\n  }),\n  addGear(Silicus, {\n    id: '1a8c4cb4-f56c-41df-9884-36373fbf698f',\n    gearType: GearType.weaponMod,\n    name: 'Folding Stock',\n    type: 'Weapon Mod',\n    slot: WeaponModSlot.under,\n  }),\n  addGear(Silicus, {\n    id: '5001b8fc-817f-41fc-afee-118e39a0bbea',\n    gearType: GearType.weaponMod,\n    name: 'Laser Sight',\n    type: 'Weapon Mod',\n    slot: WeaponModSlot.barrel,\n  }),\n])\n\naddGear<AugmentData>(Spike, {\n  id: '4e9b405a-34c3-4048-b2dc-292136759017',\n  gearType: GearType.augment,\n  name: 'Muscle Replacement',\n  type: 'Bodyware Augment',\n  source: { book: 'CRB', page: 287 },\n  avail: { rarity: 3, license: true },\n  cost: 60_000,\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.used,\n    [AugmentAttr.rating]: 3,\n    [AugmentAttr.essenceCost]: 2.31,\n    [AugmentAttr.slot]: AugmentSlot.bioware,\n  },\n  description: `\n    Vat-grown synthetic muscles replace or augment your own, and calcium \n    treatments and skeletal reinforcement contribute to your overall strength. \n    It increases both your Strength and Agility attributes by its rating. It\n    cannot be combined with other augmentations to the muscles, including muscle\n    augmentation or muscle toner bioware\n  `,\n  effects: [\n    { type: EffectType.attrBonus, attr: CharacterAttr.strength, bonus: 3 },\n    { type: EffectType.attrBonus, attr: CharacterAttr.agility, bonus: 3 },\n  ],\n})\n\naddGear<AugmentData>(Spike, {\n  id: 'e3f46b05-c6a8-4bbc-9044-2dd98695d332',\n  gearType: GearType.augment,\n  name: 'Wired Reflexes',\n  type: 'Bodyware Augment',\n  source: { book: 'CRB', page: 287 },\n  avail: { rarity: 3, license: true },\n  cost: 60_000,\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.standard,\n    [AugmentAttr.rating]: 2,\n    [AugmentAttr.essenceCost]: 2.0,\n    [AugmentAttr.slot]: AugmentSlot.bodyware,\n  },\n  enabled: true,\n  description: `\n    This highly invasive, painful, life-changing operation adds a multitude of \n    neural boosters and adrenaline stimulators in strategic locations throughout \n    your body to catapult you into a whole new world where everything around you \n    seems to move in slow motion. The system includes both manual and wireless \n    triggers to turn the wired reflexes on and off; activating or deactivating \n    the trigger manually requires a Major Action, while doing so wirelessly is a\n    Minor Action. When activated, each rating point of wired reflexes gives you\n    +1 Reaction (with accompanying bonus to your Initiative Score) and 1 \n    additional Initiative Die (with accompanying Minor Action). Wired reflexes \n    are incompatible with augmentations that affect Reaction or Initiative\n  `,\n  effects: [\n    { type: EffectType.attrBonus, attr: CharacterAttr.reaction, bonus: 2 },\n    { type: EffectType.initBonus, bonus: 2 },\n  ],\n  wirelessBonus: {\n    enabled: true,\n    description: `\n      The system is compatible with wireless reaction enhancers, and activation\n      or deactivation requires a minor action\n    `,\n  },\n})\n\naddGear<AugmentData>(Spike, {\n  id: 'eb203072-4a18-4866-b6ec-04c3769396f8',\n  gearType: GearType.augment,\n  name: 'Orthoskin',\n  type: 'Bioware Augment',\n  source: { book: 'CRB', page: 292 },\n  avail: { rarity: 7, license: true },\n  cost: 15_000,\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.delta,\n    [AugmentAttr.rating]: 1,\n    [AugmentAttr.essenceCost]: 0.125,\n    [AugmentAttr.slot]: AugmentSlot.bioware,\n  },\n  description: `\n    A web of biofibers in the skin provides the equivalent of personal armor \n    while being virtually indistinguishable from natural skin. Orthoskin \n    provides a bonus equal to its rating to your Defense Rating. Orthoskin \n    cannot be combined with skin augmentations, including dermal plating.\n  `,\n  effects: [\n    { type: EffectType.defRatingBonus, bonus: 1 },\n  ],\n})\n\naddGear<AugmentData>(Spike, {\n  id: 'deeb37c3-beee-4cf7-ab69-7dd75aad52ad',\n  gearType: GearType.augment,\n  name: 'Symbiotes',\n  type: 'Bioware Augment',\n  source: { book: 'CRB', page: 292 },\n  avail: { rarity: 4 },\n  cost: 17_500,\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.delta,\n    [AugmentAttr.rating]: 2,\n    [AugmentAttr.essenceCost]: 0.2,\n    [AugmentAttr.slot]: AugmentSlot.bioware,\n  },\n  description: `\n    Tailored micro-organisms in your bloodstream greatly enhance your healing. \n    Add the rating of the symbiotes as a dice pool modifier on healing tests \n    (Physical and Stun). However, the symbiotes have unusual dietary \n    requirements that must be met to keep them alive. You need to pay (Rating x \n    200) nuyen per month for special symbiote food, although if you have a High \n    Lifestyle or better, its covered. If they are not fed, they die in a month.\n  `,\n})\n\naddGear<VehicleData>(Spike, {\n  id: 'c455159b-cc52-4cf6-af44-3b25f7ad349b',\n  gearType: GearType.vehicle,\n  name: 'Suzuki Mirage',\n  type: 'Bike',\n  cost: 12_000,\n  avail: { rarity: 2 },\n  source: { book: 'CRB', page: 295 },\n\n  attributes: {\n    [VehicleAttr.handling]: '2/6',\n    [VehicleAttr.accel]: 29,\n    [VehicleAttr.speedInterval]: 30,\n    [VehicleAttr.topSpeed]: 260,\n    [VehicleAttr.body]: 4,\n    [VehicleAttr.armor]: 2,\n    [VehicleAttr.pilot]: 1,\n    [VehicleAttr.sensor]: 1,\n    [VehicleAttr.seat]: 1,\n  },\n\n  pilotingSpeciality: 'Ground Craft',\n})\n\naddGear(Spike, {\n  id: '35828ade-2256-401b-b99a-cf6c4d4b0712',\n  source: { book: 'CRB', page: 267 },\n  gearType: GearType.other,\n  name: 'Renraku Sensei',\n  type: 'Commlink',\n  avail: { rarity: 2 },\n  cost: 1_000,\n  attributes: {\n    [CommlinkAttr.deviceRating]: 3,\n    [CommlinkAttr.attributes]: '2/0',\n    [CommlinkAttr.programSlots]: 1,\n  },\n})\n\naddGear(Spike, {\n  id: 'b08ecea5-1373-4f6e-9ad0-4e37a2625505',\n  gearType: GearType.other,\n  name: 'Glasses',\n  type: 'Clothing',\n  source: { book: 'CRB', page: 285 },\n  avail: { rarity: 2 },\n  cost: 300,\n\n  attributes: {\n    [OtherGearAttr.capacity]: 3,\n  },\n}, [\n  addGear(Spike, {\n    id: 'b7163b5c-a354-49f2-b776-82f66871d1a4',\n    gearType: GearType.other,\n    name: 'Smartlink',\n    type: 'Visual Enhancement',\n    source: { book: 'CRB', page: 275 },\n    avail: { rarity: 2 },\n    cost: 2_000,\n\n    attributes: {\n      [OtherGearAttr.capacityCost]: 2,\n    },\n  }),\n  addGear(Spike, {\n    id: 'ec45ddcb-fd6a-4752-a9f0-57aacd8bb8cd',\n    gearType: GearType.other,\n    name: 'Imagelink',\n    type: 'Visual Enhancement',\n    source: { book: 'CRB', page: 275 },\n    avail: { rarity: 1 },\n    cost: 25,\n\n    attributes: {\n      [OtherGearAttr.capacityCost]: 1,\n    },\n  }),\n])\n","export enum SpellCategory {\n  Combat = 'Combat',\n  Detection = 'Detection',\n  Health = 'Health',\n  Illusion = 'Illusion',\n  Manipulation = 'Manipulation'\n}\n","export enum SpellType {\n  Physical = 'Physical',\n  Mana = 'Mana',\n}\n","import { AwakenedType } from '../Character/AwakenedType'\nimport { CharacterAttr } from '../Character/CharacterAttr'\nimport { CharacterData } from '../Character/CharacterData'\nimport { Metatype } from '../Character/Metatypes'\nimport { ArmorAttr } from '../Gear/Armor/ArmorAttr'\nimport { CommlinkAttr } from '../Gear/Commlink/CommlinkAttr'\nimport { GearType } from '../Gear/GearData'\nimport { WeaponAttr } from '../Gear/Weapons/WeaponAttr'\nimport { ActiveSkillName, SkillType, Specializations } from '../Skills'\nimport { SpellCategory } from '../Spells/SpellCategory'\nimport { SpellType } from '../Spells/SpellType'\nimport { EffectType } from '../System/Effect'\n\nexport const Xendris: CharacterData = {\n  dataVersion: 3,\n\n  bio: {\n    name: 'Xendris',\n    metatype: Metatype.Human,\n    awakened: AwakenedType.Full,\n    gender: 'male',\n    role: 'Hermetic Mage',\n  },\n\n  karma: [\n    {\n      date: '2021-11-21T15:05',\n      value: 3,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-11-07T16:00',\n      value: 3,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-11-21T12:17',\n      value: 2,\n      note: 'Character Creation',\n    },\n  ],\n  nuyen: [\n    {\n      date: '2021-11-27T16:00',\n      value: 4,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-11-21T16:00',\n      value: 2_000,\n      note: 'Stream income',\n    },\n    {\n      date: '2021-11-21T12:21',\n      value: -5_000,\n      note: 'Lifestyle (1 month)',\n    },\n    {\n      date: '2021-11-21T12:20',\n      value: -2_450,\n      note: 'Char creation Gear',\n    },\n    {\n      date: '2021-11-21T12:19',\n      value: 8_000,\n      note: 'Char creation',\n    },\n  ],\n\n  lifestyle: {\n    grade: 'middle',\n    upkeep: 5_000,\n    prepaid: 1,\n  },\n\n  attributes: {\n    [CharacterAttr.body]: 6,\n    [CharacterAttr.agility]: 4,\n    [CharacterAttr.reaction]: 2,\n    [CharacterAttr.strength]: 2,\n    [CharacterAttr.willpower]: 3,\n    [CharacterAttr.logic]: 5,\n    [CharacterAttr.intuition]: 1,\n    [CharacterAttr.charisma]: 2,\n    [CharacterAttr.edge]: 4,\n    [CharacterAttr.magic]: 5,\n    [CharacterAttr.resonance]: 0,\n    [CharacterAttr.essence]: 6,\n  },\n\n  contacts: [\n    {\n      name: 'Tracy Caldwell',\n      connection: 2,\n      loyalty: 2,\n      description: 'Arcane Professor',\n    },\n    {\n      name: 'Wish',\n      connection: 2,\n      loyalty: 2,\n      description: 'Black Market Dealer',\n    },\n    {\n      name: 'Sparky',\n      connection: 2,\n      loyalty: 2,\n      description: 'Smuggler',\n    },\n  ],\n\n  skills: [\n    {\n      type: SkillType.active,\n      name: ActiveSkillName.closeCombat,\n      rank: 7,\n      specialization: Specializations.CloseCombat.Blades,\n    },\n    {\n      type: SkillType.active,\n      name: ActiveSkillName.sorcery,\n      rank: 6,\n    },\n    {\n      type: SkillType.active,\n      name: ActiveSkillName.firearms,\n      rank: 6,\n    },\n    {\n      type: SkillType.language,\n      name: 'English',\n      rank: 'native',\n    },\n  ],\n\n  qualities: [\n    {\n      name: 'High Pain Tolerance',\n      source: { book: 'CRB', page: 72 },\n      gameEffect: 'When wounded, reduce your wound penalty by 1 (to a minimum of 0).',\n      cost: 7,\n    },\n    {\n      name: 'Analytical Mind',\n      source: { book: 'CRB', page: 70 },\n      gameEffect: 'Bonus edge when making Logic tests',\n      cost: 3,\n    },\n    {\n      name: 'Built Tough (4)',\n      source: { book: 'CRB', page: 70 },\n      gameEffect: `\n        You have a number of additional boxes on your physical Condition\n        Monitor equal to the rank of this quality\n      `,\n      effects: [\n        {\n          type: EffectType.conditionTrackBonus,\n          track: 'physical',\n          bonus: 4,\n        },\n      ],\n      cost: 12,\n    },\n    {\n      name: 'Long Reach',\n      source: { book: 'CRB', page: 72 },\n      gameEffect: `\n        When you are using a melee weapon, Close range is extended to 5 meters\n        instead of 3.\n      `,\n      cost: 3,\n    },\n  ],\n\n  gear: [\n    {\n      id: '501f13ec-01c5-4369-8e2b-c61381ca3555',\n      source: { book: 'CRB', page: 265 },\n      gearType: GearType.armor,\n      name: 'Armored Jacket',\n      type: 'Armor',\n      avail: { rarity: 2 },\n      cost: 1_000,\n      attributes: {\n        [ArmorAttr.defenseBonus]: 4,\n        [ArmorAttr.capacity]: 8,\n      },\n      description: `\n        Available in all manner of styles, it offers good protection without \n        catching too much attention. But dont think of wearing one to a \n        social event or government building.\n      `,\n    },\n    {\n      id: '0795383b-4050-4979-9623-0ad057d14422',\n      source: { book: 'CRB', page: 267 },\n      gearType: GearType.other,\n      name: 'Sony Emperor',\n      type: 'Commlink',\n      avail: { rarity: 2 },\n      cost: 700,\n      attributes: {\n        [CommlinkAttr.deviceRating]: 2,\n        [CommlinkAttr.attributes]: '1/1',\n        [CommlinkAttr.programSlots]: 1,\n      },\n    },\n    {\n      id: '0e6bd0a9-822b-4e5e-931b-82fdab1f4ec8',\n      source: { book: 'CRB', page: 267 },\n      gearType: GearType.weapon,\n      name: 'Ares Predator VI',\n      type: 'Heavy Pistol',\n      avail: { rarity: 2, license: true },\n      cost: 750,\n      attributes: {\n        [WeaponAttr.dv]: '3P',\n        [WeaponAttr.modes]: 'SA/BF',\n        [WeaponAttr.attackRatings]: '10/10/8/-/-',\n        [WeaponAttr.ammo]: '15(c)',\n      },\n      skill: ActiveSkillName.firearms,\n      specialtyName: Specializations.Firearms.HeavyPistols,\n    },\n    {\n      id: 'c6b2b887-c31c-4ba4-8fa2-fe6e3b5b1f19',\n      source: { book: 'CRB', page: 247 },\n      gearType: GearType.weapon,\n      name: 'Katana',\n      type: 'Blade Weapon',\n      avail: { rarity: 3 },\n      cost: 350,\n      attributes: {\n        [WeaponAttr.dv]: '4P',\n        [WeaponAttr.attackRatings]: '10/-/-/-/-',\n      },\n      skill: ActiveSkillName.closeCombat,\n      specialtyName: Specializations.CloseCombat.Blades,\n    },\n  ],\n\n  spellDrainAttr: CharacterAttr.logic,\n  spells: [\n    {\n      id: '56e45b2d-d181-4d48-94f4-c343bd324815',\n      name: 'Manabolt',\n      source: { book: 'CRB', page: 133 },\n      category: SpellCategory.Combat,\n      range: 'LOS',\n      type: SpellType.Mana,\n      duration: 'Instant',\n      drainValue: 4,\n      damage: 'P',\n      damageType: 'Direct',\n      area: false,\n      effect: `\n        Essential spellcasting, shaping mana to crack skulls. Who can argue\n        with the purity? Manabolt targets individuals, while Manaball is area\n        effect.\n      `,\n    },\n    {\n      id: 'e8c1b202-0af1-41c5-a1e0-a97a8737a1bf',\n      name: 'Fireball',\n      source: { book: 'CRB', page: 133 },\n      category: SpellCategory.Combat,\n      range: 'LOS (A)',\n      type: SpellType.Physical,\n      duration: 'Instant',\n      drainValue: 6,\n      damage: 'P, Special',\n      damageType: 'Indirect',\n      area: true,\n      effect: `\n        A classic. When you think of hurting people with magic, the first\n        thing that comes to mind is making fire explode in their faces.\n        These are the spells that'll get that done. Flamestrike hits\n        individuals, Fireball is area effect. Both spells do Fire elemental\n        damage, and impose the Burning status with a rating equal to net hits\n        on the Spellcasting test.\n      `,\n    },\n    {\n      id: '94ed6946-dd22-43a7-9110-6349169092a8',\n      name: 'Firestrike',\n      source: { book: 'CRB', page: 133 },\n      category: SpellCategory.Combat,\n      range: 'LOS',\n      type: SpellType.Physical,\n      duration: 'Instant',\n      drainValue: 5,\n      damage: 'P, Special',\n      damageType: 'Indirect',\n      area: false,\n      effect: `\n        A classic. When you think of hurting people with magic, the first\n        thing that comes to mind is making fire explode in their faces.\n        These are the spells that'll get that done. Flamestrike hits\n        individuals, Fireball is area effect. Both spells do Fire elemental\n        damage, and impose the Burning status with a rating equal to net hits\n        on the Spellcasting test.\n      `,\n    },\n    {\n      id: 'c06c0782-4c65-4dc8-9685-122563f6d600',\n      name: 'Resist Pain',\n      source: { book: 'CRB', page: 137 },\n      category: SpellCategory.Health,\n      range: 'Touch',\n      type: SpellType.Mana,\n      duration: 'Sustained',\n      drainValue: 5,\n      effect: `\n        While not providing healing, this spell allows the target to ignore\n        the effects of damage, moving forward as if they did not have that\n        pain. Roll Sorcery + Magic (5 - Essence); for each net hit, the target\n        can reduce dice-pool modifiers from damage by 1.\n      `,\n    },\n    {\n      id: 'fe3a1eea-140c-4b09-a324-9832bbe70b83',\n      name: 'Increase Attribute',\n      source: { book: 'CRB', page: 137 },\n      category: SpellCategory.Health,\n      range: 'Touch',\n      type: SpellType.Physical,\n      duration: 'Sustained',\n      drainValue: 3,\n      effect: `\n        The touch of the mage strengthens, speeds, or enlightens the target,\n        temporarily raising one of their attributes. The caster decides which\n        attribute to target before casting the spell. The caster rolls a\n        Sorcery + Magic (5 - essence) test. They can select how many net hits\n        they actually apply to the target to increase the selected attribute, \n        at a rate of 1 point of increase per net hit (maximum bonus +4); for\n        each net hit applied beyond the first, the Drain Value of the spell\n        increases by 1. The spell cannot affect Edge, Essence, Magic, or\n        Resonance.\n      `,\n    },\n    {\n      id: 'e1bc877c-539a-4df3-8653-bac9219f5b55',\n      name: 'Decrease Attribute',\n      source: { book: 'CRB', page: 136 },\n      category: SpellCategory.Health,\n      range: 'Touch',\n      type: SpellType.Physical,\n      duration: 'Sustained',\n      drainValue: 3,\n      effect: `\n        The touch of the mage weakens, slows, or stupefies the target,\n        temporarily lowering one of their attributes. The caster decides which\n        attribute to target before casting the spell. The caster rolls a\n        Sorcery + Magic vs Willpower + targeted attribute. They can select how \n        many net hits they actually apply to the target at a rate of 1 point \n        of decrease per net hit; for each net hit applied beyond the first, \n        the Drain Value of the spell increases by 1. The spell cannot affect \n        Edge, Essence, Magic, or Resonance.\n      `,\n    },\n    {\n      id: '5b2c4a6e-5898-4abb-a795-7c8fffbf02ba',\n      name: 'Increase Reflexes',\n      source: { book: 'CRB', page: 137 },\n      category: SpellCategory.Health,\n      range: 'Touch',\n      type: SpellType.Physical,\n      duration: 'Sustained',\n      drainValue: 5,\n      effect: `\n        The reaction time and speed of the target increase, making them better\n        able to anticipate and respond to others. The caster rolls a Sorcery +\n        Magic (5 - Essence) test. They can select how many net hits they\n        actually apply to the target to increase both their Reaction score and\n        the number of Initiative Die, at a rate of 1 point of increase and 1\n        Initiative die per net hit; for each net hit applied beyond the first,\n        the Drain Value of the spell increases by 1.\n      `,\n    },\n    {\n      id: '0f906a30-d84d-40af-8adb-76e23892e323',\n      name: 'Heal',\n      source: { book: 'CRB', page: 136 },\n      category: SpellCategory.Health,\n      range: 'Touch',\n      type: SpellType.Physical,\n      duration: 'Permanent',\n      drainValue: 3,\n      effect: `\n        Shadowrunning comes with bumps, bruises, and bullet wounds, and\n        magic is perhaps the quickest and most effective way to repair it.\n        When casting this spell, roll Sorcery + Magic with a threshold of (5 -\n        Essence). Heal 1 box of Stun, Physical, or Overflow damage per net hit.\n        Injuries can only be affected once by any Heal spell (including\n        Cleansing Heal, Colling Heal, and Warming Heal).\n      `,\n    },\n  ],\n}\n","import { nextRecordId } from './Api/Model'\nimport { Character } from './Character/Character'\nimport { migrateCharacter, SavedCharacter } from './Character/Migrations'\nimport { Artemis } from './data/Artemis'\nimport { Silicus } from './data/Silicus'\nimport { Spike } from './data/Spike'\nimport { Xendris } from './data/Xendris'\n\nconst characterStorageKey = (characterId: string) => `character.${characterId}`\nconst charactersStorageKey = 'characters'\nconst DEBUG_LOAD = true\n\nexport type SavedCharacters = Record<string, string>\n\nexport function loadCharacters (): SavedCharacters {\n  if (DEBUG_LOAD || !localStorage.getItem(charactersStorageKey)) {\n    const savedCharacters: SavedCharacters = {}\n\n    const characters: Character[] = [Artemis, Silicus, Xendris, Spike]\n      .map(data => ({\n        name: data.bio.alias || data.bio.name,\n        id: data.bio.alias || data.bio.name,\n        userId: 'affbd8b8-8c41-4e82-86b6-85d184a71318',\n        updatedAt: new Date().toISOString(),\n        createdAt: new Date().toISOString(),\n        data,\n      }) as Character)\n      .map(character => migrateCharacter(character))\n\n    characters.forEach(character => {\n      if (character.id === null) character.id = nextRecordId()\n      saveCharacter(character)\n      savedCharacters[character.id] = character.name\n    })\n\n    localStorage.setItem(charactersStorageKey, JSON.stringify(savedCharacters))\n  }\n\n  return JSON.parse(localStorage.getItem(charactersStorageKey) || '{}')\n}\n\nexport function saveCharacter (character: Character): void {\n  if (character.id == null) throw new Error('Character has no id')\n  localStorage.setItem(characterStorageKey(character.id), JSON.stringify(character))\n}\n\nexport function loadCharacter (characterId: string): Character | null {\n  const character: SavedCharacter = JSON.parse(localStorage.getItem(characterStorageKey(characterId)) || 'null')\n  if (character) return migrateCharacter(character)\n  return null\n}\n","import * as uuid from 'uuid'\n\nexport type RecordId = string | null;\nexport type IsoDateString = string;\n\nexport function nextRecordId (): string {\n  return uuid.v4()\n}\n\nexport interface Model {\n  id: RecordId\n  createdAt: IsoDateString\n  updatedAt: IsoDateString\n}\n","import { Button, Stack } from '@mui/material'\nimport React, { FC, useEffect, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\n\nimport { loadCharacters, SavedCharacters } from '../StorageService'\nimport { RootLayout } from './RootLayout'\n\nexport const CharacterListPage: FC = () => {\n  const history = useHistory()\n  const [characters, setCharacters] = useState<SavedCharacters>({})\n\n  useEffect(() => setCharacters(loadCharacters()), [])\n\n  return (\n    <RootLayout>\n      <Stack>\n        {Object.entries(characters).map(([id, name]) => (\n          <Button\n            key={id}\n            onClick={() => history.push(`/${id}`)}\n            sx={{ padding: 1, fontSize: 30, justifyContent: 'flex-start' }}\n          >\n            {name}\n          </Button>\n        ))}\n      </Stack>\n    </RootLayout>\n  )\n}\n","export type Source = { book: string; page: number } | 'Homebrew'\n\nexport const formatSource = (source: Source): string => {\n  if (typeof source === 'string') return source\n  return `${source.book} p.${source.page}`\n}\n","import { Box, Chip, Paper, Stack, Typography } from '@mui/material'\nimport React, { FC, ReactElement } from 'react'\n\nimport { displayFontFamily } from '../../AppThemeProvider'\n\ninterface SimpleInfoBlockProps {\n  name: ReactElement | string\n  quantity?: number\n  attributes?: ReactElement\n  body?: ReactElement\n  footer?: ReactElement\n}\n\nexport const SimpleInfoBlock: FC<SimpleInfoBlockProps> = ({\n  name,\n  quantity = 0,\n  attributes,\n  body,\n  footer,\n  children,\n}) => {\n  return (\n    <Paper variant=\"outlined\" sx={{ padding: 1, display: 'flex' }}>\n      <Stack gap={1} sx={{ width: '100%' }}>\n        <Stack gap={1} direction={'row'}>\n          <Box sx={{ flexGrow: 1 }}>\n            <Box>\n              <Typography\n                sx={{\n                  display: 'inline-block',\n                  fontFamily: displayFontFamily,\n                  color: 'primary.main',\n                }}\n              >\n                {name}\n              </Typography>\n\n              {quantity >= 1 && (\n                <Chip\n                  sx={{ marginLeft: 1, verticalAlign: 'top' }}\n                  label={`x${quantity}`}\n                  variant=\"outlined\"\n                  size=\"small\"\n                />\n              )}\n            </Box>\n\n            <Box>\n              {body || children}\n            </Box>\n          </Box>\n\n          {attributes && <Box>{attributes}</Box>}\n        </Stack>\n\n        {footer && (\n          <Box>{footer}</Box>\n        )}\n      </Stack>\n    </Paper>\n  )\n}\n","import { Paper } from '@mui/material'\nimport Box from '@mui/material/Box'\nimport { FC } from 'react'\n\ninterface StatBlockProps {\n  vertical?: boolean\n}\n\nexport const StatBlock: FC<StatBlockProps> = ({\n  vertical,\n  children,\n}) => {\n  return (\n    <Paper\n      variant=\"outlined\"\n      sx={{\n        display: 'flex',\n        padding: 1,\n        gap: 1,\n        flexWrap: 'wrap',\n        flexDirection: vertical ? 'column' : 'row',\n        justifyContent: 'space-around',\n      }}\n    >\n      {children}\n    </Paper>\n  )\n}\n\ninterface StatProps {\n  name: string\n  value: string | number | null | undefined\n}\n\nexport const Stat: FC<StatProps> = ({\n  name,\n  value,\n}) => {\n  if (name === 'Essence') {\n    value = (value as number).toFixed(2).toString()\n  }\n\n  return (\n    <Box sx={{ display: 'flex', gap: 1, whiteSpace: 'nowrap' }}>\n      <Box sx={{ fontSize: 14, display: 'inline-block', color: 'primary.main', textAlign: 'left', flexGrow: 1 }}>\n        {name}\n      </Box>\n      <Box sx={{ fontSize: 14, display: 'inline-block', textAlign: 'right', flexGrow: 1 }}>\n        {value || '-'}\n      </Box>\n    </Box>\n  )\n}\n","export type Availability = {\n  rarity: number\n  illegal?: boolean\n  license?: boolean\n}\nexport const formatAvail = (avail: Availability): string => {\n  return `${avail.rarity}${avail.illegal ? '(i)' : ''}${avail.license ? '(L)' : ''}`\n}\n","import { FC } from 'react'\n\nimport { AttrList, formatAttr } from '../System/Attribute'\nimport { Stat, StatBlock } from './StatBlock'\n\ninterface AttributeBlockProps {\n  attributes: AttrList\n  vertical?: boolean\n}\n\nexport const AttributeBlock: FC<AttributeBlockProps> = ({\n  attributes,\n  vertical,\n}) => {\n  if (!attributes) return null\n  if (Object.keys(attributes).length === 0) return null\n\n  return (\n    <StatBlock vertical={vertical}>\n      {Object.entries(attributes).map(([type, value]) => (\n        <Stat key={type} name={formatAttr(type)} value={value} />\n      ))}\n    </StatBlock>\n  )\n}\n","import { library } from '@fortawesome/fontawesome-svg-core'\nimport { faCaretSquareRight } from '@fortawesome/free-regular-svg-icons'\nimport { faCaretSquareDown } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { Box, Chip, IconButton, Paper, Typography } from '@mui/material'\nimport { FC, ReactElement, useEffect, useState } from 'react'\n\nimport { displayFontFamily } from '../../AppThemeProvider'\n\nlibrary.add(faCaretSquareDown, faCaretSquareRight)\n\nfunction useExpanded (expandId: string | null): [boolean, (set: boolean) => void] {\n  const [expanded, _setExpanded] = useState<boolean>(true)\n\n  useEffect(() => {\n    if (expandId === null) return\n    const saved = sessionStorage.getItem(`expanded.${expandId}`) || 'true'\n    _setExpanded(saved === 'true')\n  }, [expandId])\n\n  function setExpanded (value: boolean): void {\n    if (expandId === null) return\n    sessionStorage.setItem(`expanded.${expandId}`, value.toString())\n    _setExpanded(value)\n  }\n\n  return [expanded, setExpanded]\n\n}\n\ninterface InfoBlockProps {\n  title: string | ReactElement\n  titleFontSize?: number\n  subtitle?: string\n  titleRight?: ReactElement\n  expandId?: string | null\n  expandable?: boolean\n  quantity?: number\n}\n\nexport const InfoBlock: FC<InfoBlockProps> = ({\n  title,\n  titleFontSize = 20,\n  quantity = 0,\n  subtitle,\n  titleRight,\n  children,\n  expandId = null,\n  expandable,\n}) => {\n  const [expanded, setExpanded] = useExpanded(expandId)\n\n  return (\n    <Paper elevation={1}>\n      <Box sx={{ display: 'flex', gap: 1, padding: 1 }}>\n        {expandable && (\n          <Box>\n            <IconButton size=\"small\" onClick={() => setExpanded(!expanded)}>\n              <FontAwesomeIcon icon={expanded ? 'caret-square-down' : ['far', 'caret-square-right']} />\n            </IconButton>\n          </Box>\n        )}\n\n        <Box sx={{ flexGrow: 1 }}>\n          <Box>\n            <Typography\n              sx={{\n                display: 'inline-block',\n                fontFamily: displayFontFamily,\n                fontSize: titleFontSize,\n                color: 'primary.main',\n              }}\n            >{title}</Typography>\n            {quantity >= 1 && (\n              <Chip\n                sx={{ marginLeft: 1, verticalAlign: 'top' }}\n                label={`x${quantity}`}\n                variant=\"outlined\"\n                size=\"small\"\n              />\n            )}\n          </Box>\n\n          {subtitle}\n        </Box>\n\n        {titleRight}\n      </Box>\n\n      {expanded && children}\n    </Paper>\n  )\n}\n","import { BaseGearData, GearType } from '../../GearData'\nimport { AutosoftAttr } from './AutosoftAttr'\n\nexport interface AutosoftData extends BaseGearData {\n  gearType: GearType.autosoft\n  type: string\n  attributes: {\n    [AutosoftAttr.rating]: number\n    [AutosoftAttr.attr]: string\n    [AutosoftAttr.skill]?: string\n    [AutosoftAttr.weapon]?: string\n  }\n}\n\nexport enum AutosoftType {\n  targeting = 'Weapon Targeting',\n  clearsight = 'clearsight',\n  perception = 'Perception',\n  evasion = 'Evasion',\n  maneuvering = 'Maneuvering',\n  electronicWarfare = 'Electronic Warfare',\n}\n","import { FC } from 'react'\n\nimport { CharacterAttr } from '../../Character/CharacterAttr'\nimport { useActiveSkill } from '../../Character/CharacterProvider'\nimport { ActiveSkillName, hasExpertise, hasSpecialty } from '../../Skills'\nimport { useAttribute } from '../../System/AttributeProvider'\nimport { DamageType } from '../../System/Damage/DamageType'\nimport { DiceGroup, DicePool } from '../../UI/DicePool'\nimport { AugmentAttr } from '../Augments/AugmentAttr'\nimport { AugmentData, AugmentType } from '../Augments/AugmentData'\nimport { useFindGear, useGearOfType } from '../GearContext'\nimport { GearType } from '../GearData'\nimport { AutosoftAttr } from '../Software/Autosoft/AutosoftAttr'\nimport { AutosoftType } from '../Software/Autosoft/AutosoftData'\nimport { useAutosoft } from '../Software/Autosoft/AutosoftProvider'\nimport { VehicleAttr } from './VehicleAttr'\nimport { VehicleData } from './VehicleData'\nimport { ModType, VehicleModData } from './VehicleModData'\n\nexport enum VehiclePoolKeys {\n  resistDmg = 'vehicle.resistDmg',\n  pilotEvade = 'vehicle.pilotEvade',\n  riggedEvade = 'vehicle.riggedEvade',\n}\n\ninterface VehiclePoolProps {\n  vehicle: VehicleData\n}\n\nexport const VehicleResistDmg: FC<VehiclePoolProps> = () => {\n  return <DicePool\n    name=\"Resist Dmg.\"\n    poolKey={VehiclePoolKeys.resistDmg}\n    attrs={[VehicleAttr.body]}\n  />\n}\n\nexport const AutosoftPiloting: FC<VehiclePoolProps> = () => {\n  const evasionAutosoft = useAutosoft(AutosoftType.evasion)\n  const maneuveringAutosoft = useAutosoft(AutosoftType.maneuvering)\n  const pilotAttr = useAttribute<number>(VehicleAttr.pilot) || 0\n\n  const piloting: number = maneuveringAutosoft ? maneuveringAutosoft.attributes[AutosoftAttr.rating] : pilotAttr\n  const evasion: number = evasionAutosoft ? evasionAutosoft.attributes[AutosoftAttr.rating] : -1\n\n  const diceGroups: DiceGroup[] = [\n    { name: 'Piloting', size: piloting },\n    { name: 'Evasion', size: evasion },\n  ]\n\n  return <DicePool\n    poolKey={VehiclePoolKeys.pilotEvade}\n    name={'Autosoft Piloting'}\n    groups={diceGroups}\n    dmgPenaltyTypes={[DamageType.vehiclePhysical]}\n  />\n}\n\nexport const DriverPiloting: FC<VehiclePoolProps> = ({\n  vehicle,\n}) => {\n  const pilotingSkill = useActiveSkill(ActiveSkillName.piloting)\n  const reaction = useAttribute<number>(CharacterAttr.reaction) || 0\n\n  const groups: DiceGroup[] = [\n    { name: 'Piloting', size: pilotingSkill?.rank || -1 },\n    { name: 'Reaction', size: reaction },\n  ]\n\n  if (hasSpecialty(pilotingSkill, vehicle.pilotingSpeciality)) groups.push(\n    { name: vehicle.pilotingSpeciality, size: 2 })\n  if (hasExpertise(pilotingSkill, vehicle.pilotingSpeciality)) groups.push(\n    { name: vehicle.pilotingSpeciality, size: 3 })\n\n  const dmgPenaltyTypes = [DamageType.charPhysical, DamageType.charStun, DamageType.vehiclePhysical]\n  return <DicePool\n    poolKey={VehiclePoolKeys.riggedEvade}\n    name={'Piloting'}\n    groups={groups}\n    dmgPenaltyTypes={dmgPenaltyTypes}\n  />\n}\n\nexport const RiggedPiloting: FC<VehiclePoolProps> = ({\n  vehicle,\n}) => {\n  const pilotingSkill = useActiveSkill(ActiveSkillName.piloting)\n  const intuition = useAttribute<number>(CharacterAttr.intuition) || 0\n\n  const riggerInterface = useGearOfType<VehicleModData>(GearType.vehicleMod)\n    .filter(gear => gear.attachedTo === vehicle.id)\n    .find(gear => gear.modType === ModType.riggerInterface)\n\n  const controlRig = useFindGear<AugmentData>(gear => gear.augmentType === AugmentType.controlRig)\n  if (!controlRig || !riggerInterface) return null\n\n  const groups: DiceGroup[] = [\n    { name: 'Piloting', size: pilotingSkill?.rank || -1 },\n    { name: 'Intuition', size: intuition },\n    { name: 'Control Rig', size: controlRig.attributes[AugmentAttr.rating] },\n  ]\n\n  if (hasSpecialty(pilotingSkill, vehicle.pilotingSpeciality)) groups.push(\n    { name: vehicle.pilotingSpeciality, size: 2 })\n  if (hasExpertise(pilotingSkill, vehicle.pilotingSpeciality)) groups.push(\n    { name: vehicle.pilotingSpeciality, size: 3 })\n\n  const dmgPenaltyTypes = [DamageType.charPhysical, DamageType.charStun, DamageType.vehiclePhysical]\n  return <DicePool\n    poolKey={VehiclePoolKeys.riggedEvade}\n    name={'Rigged Piloting'}\n    groups={groups}\n    dmgPenaltyTypes={dmgPenaltyTypes}\n  />\n}\n","import { Box } from '@mui/material'\nimport { FC } from 'react'\n\nexport const InfoSection: FC = ({\n  children,\n}) => {\n  return (\n    <Box sx={{ padding: 1 }}>{children}</Box>\n  )\n}\n\nexport const CombatSection: FC = ({\n  children,\n}) => {\n  return (\n    <Box sx={{ display: 'flex', gap: 1, padding: 1, flexWrap: 'wrap' }}>\n      {children}\n    </Box>\n  )\n}\n","import { Paper, Typography } from '@mui/material'\nimport Box from '@mui/material/Box'\nimport React, { FC } from 'react'\n\nimport { calculateAttributes } from '../System/Attribute'\nimport { AttributeProvider } from '../System/AttributeProvider'\nimport { formatNuyen } from '../System/Nuyen'\nimport { formatSource } from '../System/Source'\nimport { AttributeBlock } from '../UI/AttributeBlock'\nimport { InfoBlock } from '../UI/InfoBlock/InfoBlock'\nimport { InfoSection } from '../UI/InfoBlock/InfoSection'\nimport { Stat } from '../UI/StatBlock'\nimport { formatAvail } from './Availability'\nimport { useAttachedGear } from './GearContext'\nimport { GearInfoProps } from './GearInfo'\nimport { GearList } from './GearList'\n\nexport const GearInfoBlock: FC<GearInfoProps> = ({\n  item,\n  children,\n}) => {\n  const blockTitleRight = <Box sx={{ fontSize: 10, textAlign: 'right' }}>\n    {item.avail && <Stat name=\"Avail\" value={formatAvail(item.avail)} />}\n    {item.cost && <Stat name=\"Cost\" value={formatNuyen(item.cost)} />}\n    {item.source && <Stat name=\"Source\" value={formatSource(item.source)} />}\n  </Box>\n\n  const attachedGear = useAttachedGear(item.id)\n\n  const expandable = Boolean(\n    item.description\n    || item.wirelessBonus\n    || item.attributes\n    || children\n    || attachedGear.length > 0,\n  )\n\n  const attributes = calculateAttributes(item.attributes || {}, attachedGear)\n\n  return (\n    <AttributeProvider attributes={attributes}>\n      <InfoBlock\n        title={item.name}\n        quantity={item.quantity || 0}\n        subtitle={item.type}\n        titleRight={blockTitleRight}\n        expandable={expandable}\n        expandId={item.id || null}\n      >\n        {item.description && (\n          <InfoSection>\n            <Typography sx={{ fontStyle: 'italic' }}>{item.description}</Typography>\n          </InfoSection>\n        )}\n\n        {item.wirelessBonus && (\n          <InfoSection>\n            <Box sx={{ fontStyle: 'italic' }}>\n              <Typography variant=\"body2\" sx={{ color: 'primary.main', display: 'inline' }}>Wireless\n                Bonus:</Typography>\n              <Typography\n                variant=\"body2\"\n                sx={{ display: 'inline', marginLeft: 0.5 }}\n              >{item.wirelessBonus.description}</Typography>\n            </Box>\n          </InfoSection>\n        )}\n\n        <InfoSection>\n          <AttributeBlock attributes={attributes} />\n        </InfoSection>\n\n        {children}\n\n        {attachedGear.length >= 1 && (\n          <Paper variant=\"outlined\" sx={{ padding: 1 }}>\n            <GearList gear={attachedGear} />\n          </Paper>\n        )}\n      </InfoBlock>\n    </AttributeProvider>\n  )\n}\n","import { Typography } from '@mui/material'\nimport React, { FC } from 'react'\n\nimport { formatNuyen } from '../../System/Nuyen'\nimport { formatSource } from '../../System/Source'\nimport { SimpleInfoBlock } from '../../UI/InfoBlock/SimpleInfoBlock'\nimport { Stat } from '../../UI/StatBlock'\nimport { GearInfoProps } from '../GearInfo'\nimport { LicenseAttr } from './LicenseAttr'\nimport { LicenseData } from './LicenseData'\n\nexport const LicenseInfo: FC<GearInfoProps<LicenseData>> = ({\n  item: license,\n}) => {\n  return (\n    <SimpleInfoBlock\n      name={license.name}\n      attributes={\n        <>\n          {license.cost && <Stat name=\"Cost\" value={formatNuyen(license.cost)} />}\n          {license.source && <Stat name=\"Source\" value={formatSource(license.source)} />}\n          <Stat name=\"Rating\" value={license.attributes[LicenseAttr.rating]} />\n        </>\n      }\n    >\n      <Typography variant=\"caption\">{license.type}</Typography>\n    </SimpleInfoBlock>\n  )\n}\n","import { Stack, Typography } from '@mui/material'\nimport { FC, ReactElement } from 'react'\n\nimport { formatNuyen } from '../../System/Nuyen'\nimport { formatSource } from '../../System/Source'\nimport { SimpleInfoBlock } from '../../UI/InfoBlock/SimpleInfoBlock'\nimport { Stat } from '../../UI/StatBlock'\nimport { useGearOfType } from '../GearContext'\nimport { GearType } from '../GearData'\nimport { GearInfoProps } from '../GearInfo'\nimport { LicenseData } from './LicenseData'\nimport { LicenseInfo } from './LicenseInfo'\nimport { SinAttr } from './SinAttr'\nimport { SinData } from './SinData'\n\nexport const SinInfo: FC<GearInfoProps<SinData>> = ({\n  item: sin,\n}) => {\n  const licenses = useGearOfType<LicenseData>(GearType.license)\n    .filter(license => license.attachedTo === sin.id)\n\n  let footer: ReactElement | undefined = undefined\n  if (licenses.length >= 1) {\n    footer = <>\n      {licenses.length >= 1 && (\n        <Stack gap={1}>\n          {licenses.map(license => <LicenseInfo key={license.id} item={license} />)}\n        </Stack>\n      )}\n    </>\n  }\n\n  return (\n    <SimpleInfoBlock\n      name={sin.name}\n      attributes={\n        <>\n          {sin.cost && <Stat name=\"Cost\" value={formatNuyen(sin.cost)} />}\n          {sin.source && <Stat name=\"Source\" value={formatSource(sin.source)} />}\n          <Stat name=\"Rating\" value={sin.attributes[SinAttr.rating]} />\n        </>\n      }\n      body={\n        <Typography variant=\"caption\">{sin.type}</Typography>\n      }\n      footer={footer}\n    />\n  )\n}\n","import { Chip, Typography } from '@mui/material'\nimport Box from '@mui/material/Box'\nimport { FC } from 'react'\n\nimport { InfoSection } from '../../UI/InfoBlock/InfoSection'\nimport { useAttachedGear, useFilterGear } from '../GearContext'\nimport { GearType } from '../GearData'\nimport { GearInfoProps } from '../GearInfo'\nimport { GearInfoBlock } from '../GearInfoBlock'\nimport { AutosoftData } from '../Software/Autosoft/AutosoftData'\nimport { VehicleData } from '../Vehicles/VehicleData'\nimport { RccAttr } from './RccAttr'\nimport { RccData } from './RccData'\n\nexport const RccInfo: FC<GearInfoProps<RccData>> = ({ item: rcc }) => {\n  const dataProcessing = rcc.attributes[RccAttr.dataProcessing]\n  const autosofts = useAttachedGear(rcc.id)\n    .filter(gear => gear.gearType === GearType.autosoft)\n    .map(gear => gear as AutosoftData)\n  const slavedAutosofts = autosofts\n    .filter(autosoft => rcc.slavedAutosofts.includes(autosoft.id))\n\n  const slavedVehicles: VehicleData[] = useFilterGear(gear => gear.slavedTo === rcc.id)\n  const maxSlaved = rcc.attributes[RccAttr.deviceRating] * 3\n\n  return (\n    <GearInfoBlock item={rcc}>\n      <InfoSection>\n        <Typography variant={'h6'}>Autosofts ({rcc.slavedAutosofts.length}/{dataProcessing} shared)</Typography>\n        <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\n          {slavedAutosofts.map(autosoft => (\n            <Chip key={autosoft.id} label={autosoft.name} />\n          ))}\n        </Box>\n      </InfoSection>\n\n      <InfoSection>\n        <Typography variant={'h6'}>Slaved ({slavedVehicles.length} / {maxSlaved})</Typography>\n        <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\n          {slavedVehicles.map(vehicle => (\n            <Chip key={vehicle.id} label={vehicle.name} />\n          ))}\n        </Box>\n      </InfoSection>\n    </GearInfoBlock>\n  )\n}\n","import Paper from '@mui/material/Paper'\nimport { FC, useState } from 'react'\n\nimport { noOp } from '../Helpers'\n\ninterface TrackCellProps {\n  onClick? (): void\n\n  filled?: boolean\n  isOverflow?: boolean\n}\n\nexport const TrackCell: FC<TrackCellProps> = ({\n  children,\n  onClick = noOp,\n  filled = false,\n  isOverflow = false,\n}) => {\n  const [hovered, setHovered] = useState<boolean>(false)\n\n  let backgroundColor = 'default'\n  if (filled) backgroundColor = 'primary.dark'\n  if (hovered) backgroundColor = 'primary.light'\n\n  let borderColor = undefined\n  if (isOverflow) borderColor = 'red'\n\n  return (\n    <Paper\n      sx={{ padding: 1, userSelect: 'none', backgroundColor, borderColor }}\n      onMouseEnter={() => setHovered(true)}\n      onMouseLeave={() => setHovered(false)}\n      onClick={() => {\n        setHovered(false)\n        onClick()\n      }}\n      variant={'outlined'}\n    >{children}</Paper>\n  )\n}\n","import { Typography } from '@mui/material'\nimport Box from '@mui/material/Box'\nimport { FC } from 'react'\n\nimport { noOp } from '../../Helpers'\nimport { TrackCell } from '../../UI/TrackCell'\nimport { useDamage, useSetDamage } from './DamageProvider'\nimport { DamageType } from './DamageType'\n\nimport styles from './DamageTrack.module.scss'\n\ninterface DamageTrackProps {\n  type: DamageType\n  max: number\n  label?: string\n}\n\nexport const DamageTrack: FC<DamageTrackProps> = ({\n  type,\n  max,\n  label = 'Physical',\n}) => {\n  const current = useDamage(type)\n  const onChange = useSetDamage(type)\n\n  const onToggleCell = (value: number) => {\n    if (value === current) {\n      onChange(value - 1)\n    } else {\n      onChange(value)\n    }\n  }\n\n  const numCells = Math.max(max, current + 1)\n\n  return (\n    <Box sx={{ minWidth: 150, maxWidth: 300 }}>\n      <Typography variant={'h6'}>{label}</Typography>\n      <Box sx={{ paddingBottom: 0.5, textAlign: 'right' }}>\n        <TrackCell onClick={() => onChange(0)}>0</TrackCell>\n      </Box>\n      <Box className={styles.DamageTrack}>\n        {new Array(numCells).fill(null).map((_, index) => (\n          <DamageCell\n            key={index}\n            value={index + 1}\n            filled={index < current}\n            toggleCell={onToggleCell}\n            isOverflow={index >= max}\n          />\n        ))}\n      </Box>\n    </Box>\n  )\n}\n\ninterface DamageCellProps {\n  value: number\n  filled?: boolean\n  isOverflow?: boolean\n\n  toggleCell? (newValue: number): void\n}\n\nconst DamageCell: FC<DamageCellProps> = ({\n  value,\n  filled = false,\n  isOverflow = false,\n  toggleCell = noOp,\n}) => {\n  const penalty = Math.floor((value + 1) / 3)\n\n  return (\n    <TrackCell onClick={() => toggleCell(value)} filled={filled} isOverflow={isOverflow}>\n      <Box sx={{ textAlign: 'right' }}>\n        {value % 3 === 0 ? penalty * -1 : '\\u00A0'}\n      </Box>\n    </TrackCell>\n  )\n}\n","import { FC } from 'react'\n\nimport { CharacterAttr } from '../Character/CharacterAttr'\nimport { useAllGear } from '../Gear/GearContext'\nimport { VehicleAttr } from '../Gear/Vehicles/VehicleAttr'\nimport { Stat } from '../UI/StatBlock'\nimport { useAttribute } from './AttributeProvider'\nimport { collectEffects, isDefRatingBonus } from './Effect'\n\nexport const CharacterDefRatingStat: FC = () => {\n  const body = useAttribute<number>(CharacterAttr.body) || 0\n  const bonus = collectEffects(useAllGear())\n    .filter(isDefRatingBonus)\n    .reduce((sum, effect) => sum + effect.bonus, 0)\n\n  return (\n    <Stat name=\"Def. Rating\" value={body + bonus} />\n  )\n}\n\nexport const VehicleDefRatingStat: FC = () => {\n  const body = useAttribute<number>(VehicleAttr.body) || 0\n  const armor = useAttribute<number>(VehicleAttr.armor) || 0\n\n  return (\n    <Stat name=\"Def. Rating\" value={body + armor} />\n  )\n}\n","import { FC } from 'react'\n\nimport { CharacterAttr } from '../Character/CharacterAttr'\nimport { useFindGear } from '../Gear/GearContext'\nimport { GearType } from '../Gear/GearData'\nimport { RccAttr } from '../Gear/Rcc/RccAttr'\nimport { RccData } from '../Gear/Rcc/RccData'\nimport { Stat } from '../UI/StatBlock'\nimport { useAttribute } from './AttributeProvider'\n\ninterface InitiativeStatProps {\n  name: string\n  base: number\n  dice?: number\n}\n\nexport const InitiativeStat: FC<InitiativeStatProps> = ({\n  name,\n  base,\n  dice = 1,\n}) => {\n  return (\n    <Stat name={name} value={`${base} + ${dice}D6`} />\n  )\n}\n\nexport const CharacterHotVrInit: FC = () => {\n  const intuition = useAttribute<number>(CharacterAttr.intuition) || 0\n  const rcc = useFindGear<RccData>(gear => gear.gearType === GearType.rcc)\n  if (!rcc) return null\n\n  const dataProcessing = rcc.attributes[RccAttr.dataProcessing]\n\n  return (\n    <InitiativeStat name=\"VR Cold Init\" base={intuition + dataProcessing} dice={2} />\n  )\n}\n\nexport const CharacterColdVrInit: FC = () => {\n  const intuition = useAttribute<number>(CharacterAttr.intuition) || 0\n  const rcc = useFindGear<RccData>(gear => gear.gearType === GearType.rcc)\n  if (!rcc) return null\n\n  const dataProcessing = rcc.attributes[RccAttr.dataProcessing]\n\n  return (\n    <InitiativeStat name=\"VR Hot Init\" base={intuition + dataProcessing} dice={3} />\n  )\n}\n","import {FC} from 'react'\n\nimport {DicePools} from '../UI/DicePool'\nimport {InfoSection} from '../UI/InfoBlock/InfoSection'\n\nexport const GearDicePools: FC = ({\n  children,\n}) => {\n  return (\n    <InfoSection>\n      <DicePools>{children}</DicePools>\n    </InfoSection>\n  )\n}\n","import { faSave, faWifi } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { Box } from '@mui/material'\nimport React, { FC } from 'react'\n\nimport { RecordId } from '../../../Api/Model'\nimport { AttributeBlock } from '../../../UI/AttributeBlock'\nimport { AutosoftData } from './AutosoftData'\n\ninterface AutosoftsListProps {\n  autosofts: AutosoftData[]\n  slavedIds?: RecordId[]\n  withAvail?: boolean\n  withCost?: boolean\n}\n\nexport const AutosoftsList: FC<AutosoftsListProps> = ({\n  autosofts,\n  slavedIds,\n}) => {\n  return (\n    <Box>\n      {autosofts.map(autosoft => (\n        <Box key={autosoft.id} sx={{ paddingTop: 1 }}>\n          <AutosoftListItem\n            key={autosoft.id}\n            autosoft={autosoft}\n            slavedIds={slavedIds}\n          />\n        </Box>\n      ))}\n    </Box>\n  )\n}\n\ninterface AutosoftListItemProps {\n  autosoft: AutosoftData\n  slavedIds?: RecordId[]\n  withAvail?: boolean\n  withCost?: boolean\n}\n\nconst AutosoftListItem: FC<AutosoftListItemProps> = ({\n  autosoft,\n  slavedIds,\n}) => {\n  return (\n    <Box>\n      <Box>\n        <Box sx={{ display: 'inline-block', marginRight: 1 }}>\n          {slavedIds?.includes(autosoft.id) ? (\n            <FontAwesomeIcon icon={faWifi} />\n          ) : (\n            <FontAwesomeIcon icon={faSave} />\n          )}\n        </Box>\n        {autosoft.name}\n      </Box>\n\n      <AttributeBlock attributes={autosoft.attributes} />\n    </Box>\n  )\n}\n","import { FC } from 'react'\n\nimport { InfoBlock } from '../../UI/InfoBlock/InfoBlock'\nimport { GearInfoProps } from '../GearInfo'\nimport { VehicleData } from './VehicleData'\n\nexport const DestroyedVehicleInfo: FC<GearInfoProps<VehicleData>> = ({\n  item: vehicle,\n}) => {\n  return (\n    <InfoBlock title={<span style={{ textDecoration: 'line-through' }}>{vehicle.name}</span>} />\n  )\n}\n","import { Box, Typography, useMediaQuery, useTheme } from '@mui/material'\nimport { FC } from 'react'\n\nimport { DamageProvider } from '../../System/Damage/DamageProvider'\nimport { DamageTrack } from '../../System/Damage/DamageTrack'\nimport { DamageType } from '../../System/Damage/DamageType'\nimport { VehicleDefRatingStat } from '../../System/DefenseRating'\nimport { CharacterColdVrInit, CharacterHotVrInit, InitiativeStat } from '../../System/Initiative'\nimport { AttributeBlock } from '../../UI/AttributeBlock'\nimport { InfoSection } from '../../UI/InfoBlock/InfoSection'\nimport { StatBlock } from '../../UI/StatBlock'\nimport { useGear, useGearOfType } from '../GearContext'\nimport { GearType } from '../GearData'\nimport { GearDicePools } from '../GearDicePools'\nimport { GearInfoProps } from '../GearInfo'\nimport { GearInfoBlock } from '../GearInfoBlock'\nimport { RccData } from '../Rcc/RccData'\nimport { AutosoftData } from '../Software/Autosoft/AutosoftData'\nimport { AutosoftProvider } from '../Software/Autosoft/AutosoftProvider'\nimport { AutosoftsList } from '../Software/Autosoft/AutosoftsList'\nimport { DestroyedVehicleInfo } from './DestroyedVehicleInfo'\nimport { AutosoftPiloting, DriverPiloting, RiggedPiloting, VehicleResistDmg } from './DicePools'\nimport { VehicleAttr } from './VehicleAttr'\nimport { VehicleData } from './VehicleData'\nimport { ModType, VehicleModData } from './VehicleModData'\n\nexport const VehicleInfo: FC<GearInfoProps<VehicleData>> = ({ item: vehicle }) => {\n  const theme = useTheme()\n  const mdScreenOrLarger = useMediaQuery(theme.breakpoints.up('md'))\n\n  const pilot = vehicle.attributes[VehicleAttr.pilot] || 0\n\n  const riggerInterface = useGearOfType<VehicleModData>(GearType.vehicleMod)\n    .filter(gear => gear.attachedTo === vehicle.id)\n    .find(gear => gear.modType === ModType.riggerInterface)\n\n  const rcc = useGear<RccData>(vehicle.slavedTo)\n  const physicalMax = Math.ceil(vehicle.attributes[VehicleAttr.body] / 2) + 8\n  const allAutosofts = useGearOfType<AutosoftData>(GearType.autosoft)\n\n  if (vehicle.destroyed) {\n    return <DestroyedVehicleInfo item={vehicle} />\n  }\n\n  let autosofts = allAutosofts\n    .filter(gear => gear.attachedTo === vehicle.id)\n\n  if (rcc) {\n    autosofts = [\n      ...autosofts,\n      ...allAutosofts\n        .filter(autosoft => autosoft.attachedTo === rcc.id)\n        .filter(autosoft => rcc.slavedAutosofts.includes(autosoft.id)),\n    ]\n  }\n\n  return (\n    <DamageProvider type={DamageType.vehiclePhysical} id={vehicle.id}>\n      <AutosoftProvider autosofts={autosofts}>\n        <GearInfoBlock item={vehicle}>\n          <Box sx={{ display: 'flex', flexDirection: mdScreenOrLarger ? 'row-reverse' : 'column', flexWrap: 'wrap' }}>\n            <Box sx={{ display: 'flex', flexDirection: mdScreenOrLarger ? 'column' : 'row', padding: 1, gap: 1 }}>\n              <Box>\n                <Typography variant={'h6'}>Combat</Typography>\n                <StatBlock vertical>\n                  <InitiativeStat name=\"Drone Init\" base={pilot * 2} dice={4} />\n                  {riggerInterface && (\n                    <>\n                      <CharacterHotVrInit />\n                      <CharacterColdVrInit />\n                    </>\n                  )}\n                  <VehicleDefRatingStat />\n                </StatBlock>\n              </Box>\n\n              <Box>\n                <DamageTrack type={DamageType.vehiclePhysical} max={physicalMax} label=\"Physical\" />\n              </Box>\n            </Box>\n\n            <Box sx={{ flexGrow: 1 }}>\n              <GearDicePools>\n                <VehicleResistDmg vehicle={vehicle} />\n                <DriverPiloting vehicle={vehicle} />\n                <AutosoftPiloting vehicle={vehicle} />\n                <RiggedPiloting vehicle={vehicle} />\n              </GearDicePools>\n\n              {rcc && (\n                <InfoSection>\n                  <Typography variant={'h6'}>Slaved To</Typography>\n                  <Typography>{rcc.name}</Typography>\n                  <AttributeBlock attributes={rcc.attributes} />\n                </InfoSection>\n              )}\n\n              <InfoSection>\n                <Typography variant={'h6'}>Autosofts</Typography>\n                <AutosoftsList autosofts={autosofts} slavedIds={rcc?.slavedAutosofts} />\n              </InfoSection>\n            </Box>\n          </Box>\n        </GearInfoBlock>\n      </AutosoftProvider>\n    </DamageProvider>\n  )\n}\n","import { FC } from 'react'\n\nimport { useGear } from '../GearContext'\nimport { GearType } from '../GearData'\nimport { GearDicePools } from '../GearDicePools'\nimport { GearInfoProps } from '../GearInfo'\nimport { GearInfoBlock } from '../GearInfoBlock'\nimport { BasicAttackPool, DroneAttackPool, RiggedAttackPool, VehicleAttackPool } from './DicePools'\nimport { WeaponData } from './WeaponData'\n\nexport const WeaponInfo: FC<GearInfoProps<WeaponData>> = ({ item: weapon }) => {\n  const mounted = useGear(weapon.attachedTo)?.gearType === GearType.vehicleMod\n\n  return (\n    <GearInfoBlock item={weapon}>\n      <GearDicePools>\n        {mounted ? (\n          <>\n            <VehicleAttackPool weapon={weapon} />\n            <DroneAttackPool weapon={weapon} />\n            <RiggedAttackPool weapon={weapon} />\n          </>\n        ) : (\n          <>\n            <BasicAttackPool weapon={weapon} />\n          </>\n        )}\n      </GearDicePools>\n    </GearInfoBlock>\n  )\n}\n","import { faWifi } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { Typography } from '@mui/material'\nimport React, { FC, ReactElement } from 'react'\n\nimport { formatAttr } from '../System/Attribute'\nimport { formatNuyen } from '../System/Nuyen'\nimport { formatSource } from '../System/Source'\nimport { SimpleInfoBlock } from '../UI/InfoBlock/SimpleInfoBlock'\nimport { Stat } from '../UI/StatBlock'\nimport { formatAvail } from './Availability'\nimport { useAttachedGear } from './GearContext'\nimport { GearData, GearType } from './GearData'\nimport { GearInfoBlock } from './GearInfoBlock'\nimport { GearList } from './GearList'\nimport { LicenseData } from './License/LicenseData'\nimport { LicenseInfo } from './License/LicenseInfo'\nimport { SinData } from './License/SinData'\nimport { SinInfo } from './License/SinInfo'\nimport { RccData } from './Rcc/RccData'\nimport { RccInfo } from './Rcc/RccInfo'\nimport { VehicleData } from './Vehicles/VehicleData'\nimport { VehicleInfo } from './Vehicles/VehicleInfo'\nimport { WeaponData } from './Weapons/WeaponData'\nimport { WeaponInfo } from './Weapons/WeaponInfo'\n\nexport interface GearInfoProps<Type extends GearData = GearData> {\n  item: Type\n  title?: ReactElement\n  subTitle?: ReactElement\n}\n\nexport const GearInfo: FC<GearInfoProps> = ({ item }) => {\n  switch (item.gearType) {\n    case GearType.weapon:\n      return <WeaponInfo item={item as WeaponData} />\n    case GearType.vehicle:\n      return <VehicleInfo item={item as VehicleData} />\n    case GearType.rcc:\n      return <RccInfo item={item as RccData} />\n    case GearType.sin:\n      return <SinInfo item={item as SinData} />\n    case GearType.license:\n      return <LicenseInfo item={item as LicenseData} />\n    case GearType.weaponMod:\n    case GearType.armorMod:\n    case GearType.vehicleMod:\n      return <SimpleGearInfo item={item} />\n    default:\n      return <GearInfoBlock item={item} />\n  }\n}\n\nexport const SimpleGearInfo: FC<GearInfoProps> = ({ item }) => {\n  const attachedGear = useAttachedGear(item.id)\n\n  return (\n    <SimpleInfoBlock\n      name={item.name}\n      attributes={\n        <>\n          {item.avail && <Stat name=\"Avail\" value={formatAvail(item.avail)} />}\n          {item.cost && <Stat name=\"Cost\" value={formatNuyen(item.cost)} />}\n          {item.source && <Stat name=\"Source\" value={formatSource(item.source)} />}\n          {item.attributes && Object.entries(item.attributes).map(([name, value]) => (\n            <Stat key={name} name={formatAttr(name)} value={value} />\n          ))}\n        </>\n      }\n      body={\n        <>\n          {item.type && (\n            <div><Typography variant=\"caption\">{item.type}</Typography></div>\n          )}\n          {item.description && (\n            <div><Typography variant=\"caption\">{item.description}</Typography></div>\n          )}\n          {item.wirelessBonus?.description && (\n            <div>\n              <Typography variant=\"caption\">\n                <FontAwesomeIcon icon={faWifi} /> {item.wirelessBonus.description}\n              </Typography>\n            </div>\n          )}\n        </>\n      }\n      footer={attachedGear.length >= 1 ? <GearList gear={attachedGear} /> : undefined}\n    >\n\n    </SimpleInfoBlock>\n  )\n}\n","import Box from '@mui/material/Box'\nimport { FC } from 'react'\n\nimport { GearData } from './GearData'\nimport { GearInfo } from './GearInfo'\n\ninterface GearListProps {\n  gear: GearData[]\n  expanded?: boolean\n}\n\nexport const GearList: FC<GearListProps> = ({\n  gear,\n  expanded = true,\n}) => {\n  return (\n    <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\n      {gear.map((gear) => <GearInfo key={gear.id} item={gear} />)}\n    </Box>\n  )\n}\n","import { Stack, Typography } from '@mui/material'\nimport React, { FC } from 'react'\n\nimport { AugmentData } from '../../Gear/Augments/AugmentData'\nimport { useGearOfType } from '../../Gear/GearContext'\nimport { GearType } from '../../Gear/GearData'\nimport { GearList } from '../../Gear/GearList'\n\nexport const AugmentsPage: FC = () => {\n  const augments = useGearOfType<AugmentData>(GearType.augment)\n    .filter(gear => !gear.attachedTo)\n\n  return (\n    <Stack gap={1}>\n      <Typography variant={'h4'}>Augments</Typography>\n      <GearList gear={augments} />\n    </Stack>\n  )\n}\n","import { Typography } from '@mui/material'\nimport Box from '@mui/material/Box'\nimport React, { FC } from 'react'\n\nimport { SimpleInfoBlock } from '../UI/InfoBlock/SimpleInfoBlock'\nimport { Stat } from '../UI/StatBlock'\nimport { ContactData } from './ContactData'\n\ninterface ContactInfoProps {\n  contact: ContactData\n}\n\nexport const ContactInfo: FC<ContactInfoProps> = ({\n  contact,\n}) => {\n  const blockTitleRight = (\n    <Box sx={{ fontSize: 10, textAlign: 'right' }}>\n      <Stat name=\"Loyalty\" value={contact.loyalty} />\n      <Stat name=\"Connection\" value={contact.connection} />\n    </Box>\n  )\n\n  return (\n    <SimpleInfoBlock name={contact.name} attributes={blockTitleRight}>\n      <Typography variant=\"caption\">{contact.description}</Typography>\n    </SimpleInfoBlock>\n  )\n}\n","import { Box } from '@mui/material'\nimport React, { FC } from 'react'\n\nimport { ContactData } from './ContactData'\nimport { ContactInfo } from './ContactInfo'\n\ninterface ContactListProps {\n  contacts: ContactData[]\n}\n\nexport const ContactList: FC<ContactListProps> = ({\n  contacts,\n}) => {\n  return (\n    <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\n      {contacts.map(contact => (\n        <ContactInfo key={contact.name} contact={contact} />\n      ))}\n    </Box>\n  )\n}\n","import { BaseGearData, GearData, GearType } from '../GearData'\nimport { SinAttr } from './SinAttr'\n\nexport interface SinData extends BaseGearData {\n  gearType: GearType.sin\n  attributes: {\n    [SinAttr.rating]: number\n  }\n}\n\nexport function isSin (gear: GearData): gear is SinData {\n  return gear.gearType === GearType.sin\n}\n","import { FC } from 'react'\n\nimport { useAttributes } from '../../System/AttributeProvider'\nimport { AttributeBlock } from '../../UI/AttributeBlock'\nimport { InfoSection } from '../../UI/InfoBlock/InfoSection'\nimport { CharacterAttr } from '../CharacterAttr'\n\nexport const AttributesSection: FC = () => {\n  const charAttributes = useAttributes([\n    CharacterAttr.body,\n    CharacterAttr.agility,\n    CharacterAttr.reaction,\n    CharacterAttr.strength,\n    CharacterAttr.willpower,\n    CharacterAttr.logic,\n    CharacterAttr.intuition,\n    CharacterAttr.charisma,\n    CharacterAttr.edge,\n    CharacterAttr.essence,\n    CharacterAttr.magic,\n    CharacterAttr.resonance,\n  ])\n\n  const magic = charAttributes[CharacterAttr.magic]\n  if (!magic) delete charAttributes[CharacterAttr.magic]\n\n  const resonance = charAttributes[CharacterAttr.resonance]\n  if (!resonance) delete charAttributes[CharacterAttr.resonance]\n\n  return <InfoSection>\n    <AttributeBlock attributes={charAttributes} />\n  </InfoSection>\n}\n","import { useCharacterData } from '../Character/CharacterProvider'\nimport { Effect } from '../System/Effect'\nimport { Source } from '../System/Source'\n\nexport interface QualityData {\n  name: string\n  source?: Source\n  description?: string\n  gameEffect?: string\n  effects?: Effect[]\n  cost?: number\n  bonus?: number\n  level?: number\n}\n\nexport const useQualities = (): QualityData[] => {\n  const character = useCharacterData()\n  if (!character) return []\n  return character.qualities\n}\n","import { Stack, Typography, useMediaQuery, useTheme } from '@mui/material'\nimport Box from '@mui/material/Box'\nimport { FC } from 'react'\n\nimport { useAllGear } from '../../Gear/GearContext'\nimport { useQualities } from '../../Qualities/QualityData'\nimport { useAttribute } from '../../System/AttributeProvider'\nimport { DamageTrack } from '../../System/Damage/DamageTrack'\nimport { DamageType } from '../../System/Damage/DamageType'\nimport { CharacterDefRatingStat } from '../../System/DefenseRating'\nimport { collectEffects, Effect, isConditionTrackBonus, isInitBonus } from '../../System/Effect'\nimport { CharacterColdVrInit, CharacterHotVrInit, InitiativeStat } from '../../System/Initiative'\nimport { StatBlock } from '../../UI/StatBlock'\nimport { CharacterAttr } from '../CharacterAttr'\n\nexport const CombatArea: FC = () => {\n  const theme = useTheme()\n  const mdScreenOrLarger = useMediaQuery(theme.breakpoints.up('md'))\n  const gear = useAllGear()\n\n  const body = useAttribute<number>(CharacterAttr.body) || 0\n  const reaction = useAttribute<number>(CharacterAttr.reaction) || 0\n  const intuition = useAttribute<number>(CharacterAttr.intuition) || 0\n  const willpower = useAttribute<number>(CharacterAttr.willpower) || 0\n\n  const physicalTrackBonus = useQualities()\n    .filter(quality => quality.effects)\n    .flatMap(quality => quality.effects as Effect[])\n    .filter(isConditionTrackBonus)\n    .filter(effect => effect.track === 'physical')\n    .reduce((sum, effect) => sum + effect.bonus, 0)\n  const physicalMax = Math.ceil(body / 2) + 8 + physicalTrackBonus\n\n  const stunTrackBonus = useQualities()\n    .filter(quality => quality.effects)\n    .flatMap(quality => quality.effects as Effect[])\n    .filter(isConditionTrackBonus)\n    .filter(effect => effect.track === 'stun')\n    .reduce((sum, effect) => sum + effect.bonus, 0)\n  const stunMax = Math.ceil(willpower / 2) + 8 + stunTrackBonus\n\n  const initDice = collectEffects(gear)\n    .filter(isInitBonus)\n    .reduce((sum, effect) => sum + effect.bonus, 1)\n\n  return (\n    <Stack\n      gap={1}\n      padding={1}\n      direction={mdScreenOrLarger ? 'column' : 'row'}\n      alignContent=\"flex-start\"\n      justifyContent={mdScreenOrLarger ? 'flex-start' : 'space-between'}\n      sx={{ flexWrap: 'wrap' }}\n    >\n      <Box>\n        <Typography variant={'h6'}>Combat</Typography>\n        <StatBlock vertical>\n          <InitiativeStat name=\"Init\" base={reaction + intuition} dice={initDice} />\n          <CharacterHotVrInit />\n          <CharacterColdVrInit />\n          <CharacterDefRatingStat />\n        </StatBlock>\n      </Box>\n\n      <Stack gap={1} direction={mdScreenOrLarger ? 'column' : 'row'}>\n        <DamageTrack type={DamageType.charPhysical} max={physicalMax} label=\"Physical\" />\n        <DamageTrack type={DamageType.charStun} max={stunMax} label=\"Stun\" />\n      </Stack>\n    </Stack>\n  )\n}\n","import { FC } from 'react'\n\nimport { useAllGear } from '../../Gear/GearContext'\nimport { KitAttr } from '../../Gear/Kit/KitAttr'\nimport { KitType } from '../../Gear/Kit/KitType'\nimport { OtherGearData } from '../../Gear/OtherGearData'\nimport { ActiveSkillName } from '../../Skills'\nimport { DamageType } from '../../System/Damage/DamageType'\nimport { DiceGroup, DicePool, DicePools, skillSpecialtyBonus } from '../../UI/DicePool'\nimport { InfoSection } from '../../UI/InfoBlock/InfoSection'\nimport { CharacterAttr } from '../CharacterAttr'\nimport { CharacterPoolTypes } from '../CharacterPoolTypes'\nimport { useActiveSkill } from '../CharacterProvider'\n\nexport const DicePoolsSection: FC = () => {\n  return <InfoSection>\n    <DicePools>\n      <DodgePool />\n      <ResistDamagePool />\n      <ComposurePool />\n      <JudgeIntentPool />\n      <MemoryPool />\n      <LiftPool />\n      <FirstAidPool />\n      <MedkitPool />\n    </DicePools>\n  </InfoSection>\n}\n\nconst DodgePool: FC = () => <DicePool\n  poolKey={CharacterPoolTypes.dodge}\n  name={'Dodge'}\n  attrs={[CharacterAttr.reaction, CharacterAttr.intuition]}\n  dmgPenaltyTypes={[DamageType.charPhysical, DamageType.charStun]}\n/>\n\nconst ResistDamagePool: FC = () => <DicePool\n  poolKey={CharacterPoolTypes.dmgResist}\n  name={'Resist Dmg.'}\n  attrs={[CharacterAttr.body]}\n  dmgPenaltyTypes={[]}\n/>\n\nconst ComposurePool: FC = () => <DicePool\n  poolKey={CharacterPoolTypes.composure}\n  name={'Composure'}\n  attrs={[CharacterAttr.willpower, CharacterAttr.charisma]}\n  dmgPenaltyTypes={[DamageType.charPhysical, DamageType.charStun]}\n/>\n\nconst JudgeIntentPool: FC = () => <DicePool\n  poolKey={CharacterPoolTypes.judgeIntent}\n  name={'Judge Intent'}\n  attrs={[CharacterAttr.willpower, CharacterAttr.intuition]}\n  dmgPenaltyTypes={[DamageType.charPhysical, DamageType.charStun]}\n/>\n\nconst MemoryPool: FC = () => <DicePool\n  poolKey={CharacterPoolTypes.memory}\n  name={'Memory'}\n  attrs={[CharacterAttr.logic, CharacterAttr.intuition]}\n  dmgPenaltyTypes={[DamageType.charPhysical, DamageType.charStun]}\n/>\n\nconst LiftPool: FC = () => <DicePool\n  poolKey={CharacterPoolTypes.liftCarry}\n  name={'Lift/Carry'}\n  attrs={[CharacterAttr.body, CharacterAttr.strength]}\n  dmgPenaltyTypes={[DamageType.charPhysical, DamageType.charStun]}\n/>\n\nconst FirstAidPool: FC = () => {\n  const firstAidKit = useAllGear()\n    .find(gear => gear.kit === KitType.firstAid)\n  const biotechSkill = useActiveSkill(ActiveSkillName.biotech)\n  if (!biotechSkill) return null\n\n  const bonuses: DiceGroup[] = []\n  const specialtyBonus = skillSpecialtyBonus(biotechSkill, 'First Aid')\n  if (specialtyBonus) bonuses.push(specialtyBonus)\n  if (!firstAidKit) bonuses.push({ name: 'Kit', size: -2 })\n\n  return (\n    <DicePool\n      poolKey={CharacterPoolTypes.firstAid}\n      name={'First Aid'}\n      skills={[ActiveSkillName.biotech]}\n      attrs={[CharacterAttr.logic]}\n      bonuses={bonuses}\n      dmgPenaltyTypes={[DamageType.charPhysical, DamageType.charStun]}\n    />\n  )\n}\n\nconst MedkitPool: FC = () => {\n  const biotechSkill = useActiveSkill(ActiveSkillName.biotech)\n  const medKit = useAllGear().find(gear => gear.kit === KitType.medKit) as OtherGearData | undefined\n\n  if (!biotechSkill) return null\n  if (!medKit) return null\n\n  const bonuses: DiceGroup[] = []\n  if (medKit.attributes && medKit.attributes[KitAttr.medkitRating])\n    bonuses.push({ name: 'Medkit', size: medKit.attributes[KitAttr.medkitRating] as number || 0 })\n\n  return (\n    <DicePool\n      poolKey={CharacterPoolTypes.firstAid}\n      name={'MedKit'}\n      skills={[ActiveSkillName.biotech]}\n      attrs={[CharacterAttr.logic]}\n      bonuses={bonuses}\n      dmgPenaltyTypes={[DamageType.charPhysical, DamageType.charStun]}\n    />\n  )\n}\n","import { Chip, Typography } from '@mui/material'\nimport Box from '@mui/material/Box'\nimport { FC, useState } from 'react'\n\nimport { useAttribute } from '../../System/AttributeProvider'\nimport { InfoSection } from '../../UI/InfoBlock/InfoSection'\nimport { TrackCell } from '../../UI/TrackCell'\nimport { CharacterAttr } from '../CharacterAttr'\n\nexport const EdgeTracker: FC = () => {\n  const edgeSessionKey = 'char.edge'\n  const charEdgeAttr = useAttribute<number>(CharacterAttr.edge) || 0\n  const defaultEdge = parseInt(localStorage.getItem(edgeSessionKey) || charEdgeAttr.toString())\n\n  const [curValue, setCurValue] = useState<number>(defaultEdge)\n  const setEdge = (value: number) => {\n    setCurValue(value)\n    localStorage.setItem(edgeSessionKey, value.toString())\n  }\n\n  const onToggleCell = (value: number) => {\n    if (value === curValue) {\n      setEdge(value - 1)\n    } else {\n      setEdge(value)\n    }\n  }\n\n  const onReset = () => {\n    setEdge(charEdgeAttr)\n  }\n\n  return (\n    <InfoSection>\n      <Box>\n        <Typography variant=\"h6\" sx={{ display: 'inline', marginRight: 1 }}>Edge</Typography>\n        <Chip onClick={onReset} label=\"Reset\" size=\"small\" variant=\"outlined\" sx={{ verticalAlign: 'text-bottom' }} />\n      </Box>\n      <Box sx={{ display: 'flex', textAlign: 'center', gap: 0.5 }}>\n        <Box sx={{ flexGrow: 0.5 }}>\n          <TrackCell onClick={() => setEdge(0)}>0</TrackCell>\n        </Box>\n        {new Array(7).fill(null).map((_, index) => (\n          <Box key={index} sx={{ flexGrow: 1 }}>\n            <TrackCell filled={index < curValue} onClick={() => onToggleCell(index + 1)}>\n              {index + 1}\n            </TrackCell>\n          </Box>\n        ))}\n      </Box>\n    </InfoSection>\n  )\n}\n","import { Stack, Typography } from '@mui/material'\nimport React, { FC } from 'react'\n\nimport { formatSource } from '../System/Source'\nimport { SimpleInfoBlock } from '../UI/InfoBlock/SimpleInfoBlock'\nimport { Stat } from '../UI/StatBlock'\nimport { QualityData } from './QualityData'\n\ninterface ContactListProps {\n  qualities: QualityData[]\n}\n\nexport const QualitiesList: FC<ContactListProps> = ({\n  qualities,\n}) => {\n  return (\n    <Stack gap={1}>\n      {qualities.map(quality => (\n        <SimpleInfoBlock\n          key={quality.name}\n          name={quality.name}\n          attributes={\n            <>\n              {quality.source && <Stat name=\"Source\" value={formatSource(quality.source)} />}\n              {quality.bonus && <Stat name=\"Bonus\" value={quality.bonus} />}\n              {quality.cost && <Stat name=\"Cost\" value={quality.cost} />}\n              {quality.level && <Stat name=\"Level\" value={quality.level} />}\n            </>\n          }\n        >\n          <Typography variant=\"caption\">{quality.description}</Typography>\n          <Typography variant=\"caption\">{quality.gameEffect}</Typography>\n        </SimpleInfoBlock>\n      ))}\n    </Stack>\n  )\n}\n","import { Typography } from '@mui/material'\nimport { FC } from 'react'\n\nimport { QualitiesList } from '../../Qualities/QualitiesList'\nimport { InfoSection } from '../../UI/InfoBlock/InfoSection'\nimport { useCharacterData } from '../CharacterProvider'\n\nexport const QualitiesSection: FC = () => {\n  const character = useCharacterData()\n  if (!character) return null\n\n  return <InfoSection>\n    <Typography variant={'h6'}>Qualities</Typography>\n    <QualitiesList qualities={character.qualities} />\n  </InfoSection>\n}\n","import { Typography } from '@mui/material'\nimport Box from '@mui/material/Box'\nimport { FC } from 'react'\n\nimport {\n  ActiveSkillList,\n  ActiveSkillName,\n  isKnowledgeSkill,\n  isLanguageSkill,\n  KnowledgeSkillList,\n  LanguageSkillList,\n} from '../../Skills'\nimport { InfoSection } from '../../UI/InfoBlock/InfoSection'\nimport { useActiveSkills, useCharacterData } from '../CharacterProvider'\n\nexport const SkillSection: FC = () => {\n  const character = useCharacterData()\n  const charActiveSkills = useActiveSkills(Object.values(ActiveSkillName))\n\n  if (!character) return null\n  const languageSkills = character.skills.filter(isLanguageSkill)\n  const knowledgeSkills = character.skills.filter(isKnowledgeSkill)\n\n  return <InfoSection>\n    <Box sx={{ display: 'flex', flexWrap: 'wrap' }}>\n      <Typography variant={'h6'}>Skills</Typography>\n      <ActiveSkillList charSkills={Object.values(charActiveSkills)} />\n    </Box>\n\n    <Box sx={{ display: 'flex', flexWrap: 'wrap' }}>\n      <Box sx={{ padding: 1, flexGrow: 1 }}>\n        <Typography variant={'h6'}>Languages</Typography>\n        <LanguageSkillList skills={languageSkills} />\n      </Box>\n\n      <Box sx={{ padding: 1, flexGrow: 1 }}>\n        <Typography variant={'h6'}>Knowledge</Typography>\n        <KnowledgeSkillList skills={knowledgeSkills} />\n      </Box>\n    </Box>\n  </InfoSection>\n}\n","import { Box, Typography, useMediaQuery, useTheme } from '@mui/material'\nimport React, { FC } from 'react'\n\nimport { ContactList } from '../../Contacts/ContactList'\nimport { useAllGear } from '../../Gear/GearContext'\nimport { GearList } from '../../Gear/GearList'\nimport { isSin } from '../../Gear/License/SinData'\nimport { formatNuyen, useNuyenBalance } from '../../System/Nuyen'\nimport { InfoBlock } from '../../UI/InfoBlock/InfoBlock'\nimport { InfoSection } from '../../UI/InfoBlock/InfoSection'\nimport { Stat } from '../../UI/StatBlock'\nimport { useCharacterData } from '../CharacterProvider'\nimport { AttributesSection } from './AttributesSection'\nimport { CombatArea } from './CombatArea'\nimport { DicePoolsSection } from './DicePoolsSection'\nimport { EdgeTracker } from './EdgeTracker'\nimport { QualitiesSection } from './QualitiesSection'\nimport { SkillSection } from './SkillSection'\n\nexport const CharacterInfo: FC = () => {\n  const character = useCharacterData()\n  const sins = useAllGear().filter(isSin)\n  const theme = useTheme()\n  const mdScreenOrLarger = useMediaQuery(theme.breakpoints.up('md'))\n  const nuyenBalance = useNuyenBalance()\n\n  if (!character) return null\n\n  const bio = character.bio\n  const karma: number = character.karma.reduce((sum, entry) => sum + entry.value, 0)\n\n  const blockTitleRight = <Box sx={{ fontSize: 10, textAlign: 'right' }}>\n    <Stat name=\"Nuyen\" value={formatNuyen(nuyenBalance)} />\n    <Stat name=\"Karma\" value={karma} />\n  </Box>\n\n  return (\n    <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\n      <InfoBlock\n        title={bio.alias || bio.name} subtitle={bio.metatype} titleFontSize={50}\n        titleRight={blockTitleRight}\n      >\n        <AttributesSection />\n\n\n        <Box sx={{ display: 'flex', flexDirection: mdScreenOrLarger ? 'row-reverse' : 'column' }}>\n          <CombatArea />\n\n          <Box sx={{ flexGrow: 1 }}>\n            <EdgeTracker />\n\n            <DicePoolsSection />\n            <SkillSection />\n            <QualitiesSection />\n\n            <InfoSection>\n              <Typography variant={'h4'}>Contacts</Typography>\n              <ContactList contacts={character.contacts} />\n            </InfoSection>\n\n            <InfoSection>\n              <Typography variant={'h4'}>SINs</Typography>\n              <GearList gear={sins} />\n            </InfoSection>\n          </Box>\n        </Box>\n      </InfoBlock>\n    </Box>\n  )\n}\n","import React, { FC } from 'react'\n\nimport { CharacterInfo } from '../../Character/CharacterInfo/CharacterInfo'\nimport { useCharacterData } from '../../Character/CharacterProvider'\n\nexport const CharacterInfoPage: FC = () => {\n  const character = useCharacterData()\n\n  if (!character) return null\n\n  return (\n    <CharacterInfo />\n  )\n}\n","import { Paper, Table, TableBody, TableCell, TableHead, TableRow } from '@mui/material'\nimport { parseISO } from 'date-fns'\nimport { FC } from 'react'\n\nimport { formatDate } from '../Helpers'\nimport { BalanceLog } from '../System/BalanceLog'\n\ninterface BalanceLogTableProps {\n  log: BalanceLog\n\n  formatValue? (value: number): string\n}\n\nexport const BalanceLogTable: FC<BalanceLogTableProps> = ({\n  log,\n  formatValue = (value) => value,\n}) => {\n  let runningTotal = 0\n\n  const logRows = log\n    .sort((a, b) => parseISO(a.date).getTime() - parseISO(b.date).getTime())\n    .map(entry => (\n      <TableRow key={entry.date}>\n        <TableCell>{formatDate(entry.date)}</TableCell>\n        <TableCell>{entry.note}</TableCell>\n        <TableCell align=\"right\">{formatValue(entry.value)}</TableCell>\n        <TableCell align=\"right\">{formatValue(runningTotal += entry.value)}</TableCell>\n      </TableRow>\n    ))\n\n  logRows.reverse()\n\n  return (\n    <Paper>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell>Date</TableCell>\n            <TableCell>Note</TableCell>\n            <TableCell align=\"right\">Amount</TableCell>\n            <TableCell align=\"right\">Balance</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {logRows}\n        </TableBody>\n      </Table>\n    </Paper>\n  )\n}\n","import { Paper } from '@mui/material'\nimport { FC } from 'react'\n\nimport { useCharacterData } from '../../Character/CharacterProvider'\nimport { BalanceLogTable } from '../../UI/BalanceLogTable'\n\nexport const KarmaPage: FC = () => {\n  const character = useCharacterData()\n  if (!character) return null\n\n  return (\n    <Paper>\n      <BalanceLogTable log={character.karma} />\n    </Paper>\n  )\n}\n","import { Stack, Typography } from '@mui/material'\nimport React, { FC } from 'react'\n\nimport { useAllGear } from '../../Gear/GearContext'\nimport { GearType } from '../../Gear/GearData'\nimport { GearList } from '../../Gear/GearList'\n\nexport const MiscGearPage: FC = () => {\n  const excludedGear: GearType[] = [\n    GearType.weapon,\n    GearType.vehicle,\n    GearType.augment,\n    GearType.sin,\n    GearType.license,\n  ]\n\n  const otherGear = useAllGear()\n    .filter(gear => !gear.attachedTo)\n    .filter(gear => !excludedGear.includes(gear.gearType))\n\n  return (\n    <Stack gap={1}>\n      <Typography variant={'h4'}>Other Gear</Typography>\n      <GearList gear={otherGear} />\n    </Stack>\n  )\n}\n","import { Paper } from '@mui/material'\nimport { FC } from 'react'\n\nimport { useCharacterData } from '../../Character/CharacterProvider'\nimport { useAllGear } from '../../Gear/GearContext'\nimport { formatNuyen, useNuyenBalance } from '../../System/Nuyen'\nimport { BalanceLogTable } from '../../UI/BalanceLogTable'\nimport { Stat, StatBlock } from '../../UI/StatBlock'\n\nexport const NuyenPage: FC = () => {\n  const character = useCharacterData()\n  const nuyenBalance = useNuyenBalance()\n  const gear = useAllGear()\n  if (!character) return null\n\n  const gearTotal = gear\n    .filter(gear => typeof gear.cost === 'number')\n    .map(gear => gear.cost as number)\n    .reduce((sum, cost) => sum + cost, 0)\n\n  return (\n    <Paper>\n      <StatBlock>\n        <Stat name={'Total Balance'} value={formatNuyen(nuyenBalance)} />\n        <Stat name={'Gear Total'} value={formatNuyen(gearTotal)} />\n        <Stat name={'Net Worth'} value={formatNuyen(gearTotal + nuyenBalance)} />\n      </StatBlock>\n      <BalanceLogTable log={character.nuyen} formatValue={formatNuyen} />\n    </Paper>\n  )\n}\n","import { Box, Typography } from '@mui/material'\nimport React, { FC } from 'react'\n\nimport { AttrList } from '../System/Attribute'\nimport { formatSource } from '../System/Source'\nimport { AttributeBlock } from '../UI/AttributeBlock'\nimport { InfoBlock } from '../UI/InfoBlock/InfoBlock'\nimport { Stat } from '../UI/StatBlock'\nimport { SpellCategory } from './SpellCategory'\nimport { SpellData } from './SpellData'\n\ninterface SpellBlockProps {\n  spell: SpellData\n}\n\nexport const SpellBlock: FC<SpellBlockProps> = ({\n  spell,\n}) => {\n  const attributes: SpellAttributes = {\n    'Range': spell.range,\n    'Type': spell.type,\n    'Duration': spell.duration,\n    'Drain Value': spell.drainValue,\n  }\n\n  if (spell.category === SpellCategory.Combat) {\n    attributes['Damage'] = spell.damage\n  }\n\n  const blockTitleRight = <Box sx={{ fontSize: 10, textAlign: 'right' }}>\n    {spell.source && <Stat name=\"Source\" value={formatSource(spell.source)} />}\n  </Box>\n\n  return (\n    <InfoBlock title={spell.name} subtitle={spell.category} expandable titleRight={blockTitleRight}>\n      <Box padding={1}>\n        <AttributeBlock attributes={attributes} />\n      </Box>\n      <Box padding={1}>\n        <Typography>{spell.effect}</Typography>\n      </Box>\n    </InfoBlock>\n  )\n}\n\ninterface SpellAttributes extends AttrList {\n  'Range': string\n  'Type': string\n  'Duration': string\n  'Drain Value': number\n  'Damage'?: string\n}\n","import { FC } from 'react'\n\nimport { CharacterAttr } from '../Character/CharacterAttr'\nimport { useCharacterData } from '../Character/CharacterProvider'\nimport { ActiveSkillName } from '../Skills'\nimport { DicePool } from '../UI/DicePool'\n\nexport const SorcerySpellcastingPool: FC = () => {\n  return (\n    <DicePool\n      name=\"Spellcasting\"\n      skills={[ActiveSkillName.sorcery]}\n      attrs={[CharacterAttr.magic]}\n    />\n  )\n}\n\nexport const ConjuringSpellcastingPool: FC = () => {\n  return (\n    <DicePool\n      name=\"Spellcasting\"\n      skills={[ActiveSkillName.conjuring]}\n      attrs={[CharacterAttr.magic]}\n    />\n  )\n}\n\nexport const EnchantingSpellcastingPool: FC = () => {\n  return (\n    <DicePool\n      name=\"Spellcasting\"\n      skills={[ActiveSkillName.enchanting]}\n      attrs={[CharacterAttr.magic]}\n    />\n  )\n}\n\nexport const ResistDrain: FC = () => {\n  const characterData = useCharacterData()\n  if (!characterData) return null\n\n  const spellDrainAttr = characterData.spellDrainAttr || CharacterAttr.charisma\n\n  return (\n    <DicePool\n      name=\"Drain\"\n      attrs={[CharacterAttr.willpower, spellDrainAttr]}\n    />\n  )\n}\n","import { Stack, Typography } from '@mui/material'\nimport React, { FC } from 'react'\n\nimport { useActiveSkill, useCharacterData } from '../../Character/CharacterProvider'\nimport { ActiveSkillName } from '../../Skills'\nimport { SpellBlock } from '../../Spells/SpellBlock'\nimport {\n  ConjuringSpellcastingPool,\n  EnchantingSpellcastingPool,\n  ResistDrain,\n  SorcerySpellcastingPool,\n} from '../../Spells/SpellDicePools'\nimport { DicePools } from '../../UI/DicePool'\n\nexport const SpellsPage: FC = () => {\n  const character = useCharacterData()\n\n  const sorcery = useActiveSkill(ActiveSkillName.sorcery)\n  const conjuring = useActiveSkill(ActiveSkillName.conjuring)\n  const enchanting = useActiveSkill(ActiveSkillName.enchanting)\n\n  if (!character) return null\n  const spells = character.spells || []\n\n  return (\n    <Stack gap={1}>\n      <Typography variant={'h4'}>Spells</Typography>\n\n      <DicePools>\n        {sorcery && <SorcerySpellcastingPool />}\n        {conjuring && <ConjuringSpellcastingPool />}\n        {enchanting && <EnchantingSpellcastingPool />}\n        <ResistDrain />\n      </DicePools>\n\n      {spells.map(spell => (\n        <SpellBlock key={spell.id} spell={spell} />\n      ))}\n    </Stack>\n  )\n}\n","import { Stack, Typography } from '@mui/material'\nimport React, { FC } from 'react'\n\nimport { useGearOfType } from '../../Gear/GearContext'\nimport { GearType } from '../../Gear/GearData'\nimport { GearList } from '../../Gear/GearList'\nimport { VehicleData } from '../../Gear/Vehicles/VehicleData'\n\nexport const VehiclesPage: FC = () => {\n  const vehicles = useGearOfType<VehicleData>(GearType.vehicle)\n\n  return (\n    <Stack gap={1}>\n      <Typography variant={'h4'}>Vehicles</Typography>\n      <GearList gear={vehicles} />\n    </Stack>\n  )\n}\n","import { Stack, Typography } from '@mui/material'\nimport React, { FC } from 'react'\n\nimport { useGearOfType } from '../../Gear/GearContext'\nimport { GearType } from '../../Gear/GearData'\nimport { GearList } from '../../Gear/GearList'\nimport { WeaponData } from '../../Gear/Weapons/WeaponData'\n\nexport const WeaponsPage: FC = () => {\n  const weapons = useGearOfType<WeaponData>(GearType.weapon)\n    .filter(gear => !gear.attachedTo)\n\n  return (\n    <Stack gap={1}>\n      <Typography variant={'h4'}>Weapons</Typography>\n      <GearList gear={weapons} />\n    </Stack>\n  )\n}\n","import { Paper } from '@mui/material'\nimport React, { FC, useEffect, useState } from 'react'\nimport { Redirect, Route, Switch, useHistory, useParams, useRouteMatch } from 'react-router-dom'\n\nimport { Character } from '../Character/Character'\nimport { CharacterProvider } from '../Character/CharacterProvider'\nimport { loadCharacter } from '../StorageService'\nimport { CharacterNavDrawer } from '../UI/NavDrawer/CharacterNavDrawer'\nimport { AugmentsPage } from './Character/AugmentsPage'\nimport { CharacterInfoPage } from './Character/CharacterInfoPage'\nimport { KarmaPage } from './Character/KarmaPage'\nimport { MiscGearPage } from './Character/MiscGearPage'\nimport { NuyenPage } from './Character/NuyenPage'\nimport { SpellsPage } from './Character/SpellsPage'\nimport { VehiclesPage } from './Character/VehiclesPage'\nimport { WeaponsPage } from './Character/WeaponsPage'\nimport { RootLayout } from './RootLayout'\n\nexport const CharacterPage: FC = () => {\n  const history = useHistory()\n  const { path } = useRouteMatch()\n  const { characterId } = useParams<{ characterId: string }>()\n  const [character, setCharacter] = useState<Character | null>(null)\n\n  useEffect(() => {\n    const character = loadCharacter(characterId)\n    if (character === null) history.push('/')\n    setCharacter(character)\n  }, [history, characterId])\n\n  if (!character) { return <Paper>Loading...</Paper>}\n\n  return (\n    <CharacterProvider character={character}>\n      <RootLayout NavDrawer={CharacterNavDrawer}>\n        <Switch>\n          <Route path={`${path}/weapons`} component={WeaponsPage} />\n          <Route path={`${path}/vehicles`} component={VehiclesPage} />\n          <Route path={`${path}/augments`} component={AugmentsPage} />\n          <Route path={`${path}/spells`} component={SpellsPage} />\n          <Route path={`${path}/misc`} component={MiscGearPage} />\n          <Route path={`${path}/karma`} component={KarmaPage} />\n          <Route path={`${path}/nuyen`} component={NuyenPage} />\n          <Route path={`${path}/`} component={CharacterInfoPage} />\n          <Route><Redirect to=\"/\" /></Route>\n        </Switch>\n      </RootLayout>\n    </CharacterProvider>\n  )\n}\n","import React, { FC } from 'react'\nimport { HashRouter, Redirect, Route, Switch } from 'react-router-dom'\n\nimport { AppThemeProvider } from './AppThemeProvider'\nimport { AuthProvider } from './Auth/AuthProvider'\nimport { BuilderPage } from './Character/CharacterBuilder/BuilderPage'\nimport { CharacterListPage } from './Pages/CharacterListPage'\nimport { CharacterPage } from './Pages/CharacterPage'\nimport { loadCharacters } from './StorageService'\n\nloadCharacters()\n\nconst App: FC = () => {\n  return (\n    <HashRouter>\n      <AppThemeProvider>\n        <AuthProvider>\n          <Switch>\n            <Route path=\"/characters\" component={CharacterListPage} />\n            <Route path=\"/build\" component={BuilderPage} />\n            <Route path=\"/:characterId\" component={CharacterPage} />\n            <Route><Redirect to=\"/characters\" /></Route>\n          </Switch>\n        </AuthProvider>\n      </AppThemeProvider>\n    </HashRouter>\n  )\n}\n\nexport default App\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}