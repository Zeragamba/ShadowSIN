{"version":3,"sources":["System/Damage/DamageTrack.module.scss","AppThemeProvider.tsx","Api/ServerApi.ts","Auth/AuthApi.ts","Auth/AuthProvider.tsx","Auth/Login/LoginForm.tsx","Auth/Login/SignupFormState.ts","Auth/Login/SignupForm.tsx","Auth/Login/LoginDialog.tsx","Helpers.ts","UI/AppBar.tsx","Character/CharacterAttr.tsx","Pages/RootLayout.tsx","Gear/Augments/AugmentAttr.ts","Gear/GearData.ts","Gear/Augments/AugmentData.ts","Gear/Armor/ArmorAttr.ts","Gear/GearContext.tsx","Gear/Commlink/CommlinkAttr.ts","Gear/Kit/KitAttr.ts","Gear/License/LicenseAttr.ts","Gear/License/SinAttr.ts","Gear/OtherGearData.ts","Gear/Rcc/RccAttr.tsx","Gear/Software/Autosoft/AutosoftAttr.ts","Gear/Vehicles/VehicleAttr.tsx","Gear/Vehicles/VehicleModData.ts","Gear/Weapons/WeaponAttr.ts","System/Effect.ts","Gear/GearAttributes.ts","System/Damage/DamageType.ts","data/Rulebooks/CRB/Qualities.ts","System/Attribute.ts","data/Rulebooks/CRB/ActiveSkills.ts","data/Rulebooks/CRB/Specializations.ts","Qualities/Quality.ts","data/Rulebooks/CRB/Metatypes.ts","Qualities/CharacterQuality.ts","Skills/ActiveSkills.ts","System/AttributeProvider.tsx","System/Damage/DamageProvider.tsx","Skills/CharacterSkill.ts","UI/DicePool.tsx","Skills/ActiveSkillList.tsx","Skills/KnowledgeSkillList.tsx","Skills/LanguageSkillList.tsx","Skills/Specialization.ts","Character/CharacterProvider.tsx","Gear/Weapons/PistolSvg.tsx","Character/AwakenedType.ts","UI/NavDrawer/index.tsx","UI/NavDrawer/DefaultNavDrawer.tsx","UI/NavDrawer/CharacterNavDrawer.tsx","Character/Metatype.ts","UI/Incrementor.tsx","Character/CharacterBuilder/Attributes/AttrTableRow.tsx","Character/CharacterBuilder/Attributes/AttributesTable.tsx","Character/CharacterBuilder/BioSection.tsx","Character/CharacterBuilder/Priorities/Priorities.ts","System/Nuyen.ts","Character/CharacterBuilder/Priorities/PriorityRow.tsx","Character/CharacterBuilder/Priorities/PrioritiesTable.tsx","Character/CharacterBuilder/Skills/SkillsSection.tsx","Character/CharacterBuilder/BuilderPage.tsx","Character/Migrations/1-Inital.ts","Gear/Weapons/DicePools.tsx","Character/Migrations/index.ts","Gear/Software/Autosoft/AutosoftProvider.tsx","Gear/Weapons/WeaponModData.ts","data/Characters/index.ts","data/Characters/Artemis/drones.ts","data/Characters/Artemis/karma.ts","data/Characters/Artemis/index.ts","data/Characters/Artemis/nuyen.ts","data/Characters/Dusk/contacts.ts","Spells/SpellCategory.ts","Spells/SpellType.ts","data/Characters/Dusk/weapons.ts","data/Characters/Dusk/gear.ts","data/Characters/Dusk/spells.ts","Character/CharacterPoolTypes.tsx","Gear/Kit/KitType.ts","data/Characters/Dusk/index.ts","data/Characters/Dusk/karma.ts","data/Characters/Dusk/nuyen.ts","data/Characters/Silicus.ts","data/Characters/Spike.ts","data/Characters/Xendris.ts","StorageService.ts","Api/Model.ts","Pages/CharacterListPage.tsx","System/Source.ts","UI/StatBlock.tsx","UI/AttributeBlock.tsx","UI/InfoBlock/InfoBlock.tsx","Gear/Software/Autosoft/AutosoftData.ts","Gear/Vehicles/DicePools.tsx","Gear/GearInfoBlock.tsx","Gear/Availability.ts","UI/InfoBlock/SimpleInfoBlock.tsx","Gear/License/LicenseInfo.tsx","Gear/License/SinInfo.tsx","Gear/Rcc/RccInfo.tsx","UI/TrackCell.tsx","System/Damage/DamageTrack.tsx","System/DefenseRating.tsx","System/Initiative.tsx","Gear/Software/Autosoft/AutosoftsList.tsx","Gear/Vehicles/DestroyedVehicleInfo.tsx","Gear/Vehicles/VehicleModsList.tsx","Gear/Vehicles/VehicleInfo.tsx","Gear/Weapons/WeaponInfo.tsx","Gear/GearInfo.tsx","Gear/GearList.tsx","Pages/Character/AugmentsPage.tsx","Contacts/ContactInfo.tsx","Contacts/ContactList.tsx","Gear/License/SinData.ts","Character/CharacterInfo/AttributesSection.tsx","Character/CharacterInfo/BioSection.tsx","Character/CharacterInfo/CombatArea.tsx","Character/CharacterInfo/DicePoolsSection.tsx","Character/CharacterInfo/EdgeTracker.tsx","Qualities/QualitiesList.tsx","Character/CharacterInfo/QualitiesSection.tsx","Character/CharacterInfo/SkillSection.tsx","Character/CharacterInfo/CharacterInfo.tsx","Pages/Character/CharacterInfoPage.tsx","UI/BalanceLogTable.tsx","Pages/Character/KarmaPage.tsx","Pages/Character/MiscGearPage.tsx","Pages/Character/NuyenPage.tsx","Spells/SpellBlock.tsx","Spells/SpellDicePools.tsx","Pages/Character/SpellsPage.tsx","Pages/Character/VehiclesPage.tsx","Pages/Character/WeaponsPage.tsx","Pages/CharacterPage.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","displayFontFamily","theme","createTheme","palette","mode","primary","main","secondary","text","background","default","typography","h1","fontFamily","h2","h3","h4","h5","h6","AppThemeProvider","children","StyledEngineProvider","injectFirst","ThemeProvider","ServerApi","path","config","this","axiosInstance","get","then","res","data","catch","error","handleError","post","axios","isAxiosError","response","undefined","err","create","baseURL","process","withCredentials","AuthApi","username","password","user","AuthContext","createContext","fetching","login","Error","signup","fetchUser","logout","AuthProvider","useState","setUser","setFetching","finally","state","useEffect","console","Provider","value","useAuth","useContext","LoginForm","onLogin","setUsername","setPassword","authorizing","setAuthorizing","message","setMessage","onSubmit","isApiError","msg","TextField","autoFocus","label","fullWidth","sx","marginBottom","variant","onChange","e","target","disabled","type","Typography","textAlign","Button","onClick","defaultState","dirty","confirmPassword","valid","submitting","reducer","action","validateUsername","validatePassword","validateConfirmPassword","trim","length","SignupForm","onSignup","useReducer","form","dispatch","onBlur","LoginDialog","open","onClose","activeTab","setActiveTab","Dialog","DialogContent","padding","width","Box","display","gap","flexDirection","Tabs","_","orientation","flexGrow","Tab","noOp","CharacterAttr","AppBar","withMenu","openMenu","fetchingUser","currentUser","position","top","Toolbar","IconButton","size","edge","color","mr","component","CircularProgress","UserMenu","menuOpen","setMenuOpen","anchorEl","setAnchorEl","event","currentTarget","id","MenuItem","LoginButton","dialogOpen","setDialogOpen","RootLayout","NavDrawer","drawerOpen","setDrawerOpen","Paper","gridTemplateRows","bgcolor","height","overflow","square","closeDrawer","maxWidth","margin","body","agility","reaction","strength","willpower","logic","intuition","charisma","AugmentAttr","specialAttrs","essence","magic","resonance","CharacterAttrNames","GearType","AugmentType","AugmentSlot","AugmentGrade","AugmentAttrNames","grade","rating","slot","essenceCost","capacity","capacityCost","getAttr","gear","attribute","attributes","isAugment","gearType","augment","ArmorAttr","GearContext","GearProvider","useAllGear","useGear","gearId","allGear","find","useFindGear","filter","foundGear","useFilterGear","map","useAttachedGear","attachedTo","useAllNestedGear","collectNestedGear","parentId","forEach","child","useGearOfType","CommlinkAttr","ArmorAttrNames","defenseBonus","KitAttr","CommlinkAttrNames","deviceRating","programSlots","LicenseAttr","KitAttrNames","medkitRating","SinAttr","LicenseAttrNames","OtherGearAttr","SinAttrNames","RccAttr","OtherGearAttrNames","AutosoftAttr","RccAttrNames","dataProcessing","firewall","VehicleAttr","AutosoftAttrNames","attr","skill","weapon","ModType","VehicleModAttr","VehicleAttrNames","handling","accel","speedInterval","topSpeed","armor","pilot","sensor","seat","SlotType","HardpointSize","VehicleModAttrNames","slotType","slotCost","hardpointSize","WeaponAttr","slotTypeNames","chassis","powertrain","electronic","isVehicleMod","vehicleMod","EffectType","WeaponAttrNames","dv","attackRatings","modes","ammo","maxRange","GearAttributes","isAttrAdj","effect","attrBonus","isDmgTrackAdj","dmgTrackAdj","isAttrOverride","attrOverride","isInitAdj","initAdj","isSkillAdj","skillAdj","isDicePoolAdj","dicePoolAdj","isDefRatingAdj","defRatingAdj","DamageType","QualityIds","collectCharacterEffects","character","collectGearEffects","collectQualityEffects","qualities","flatMap","wirelessBonus","enabled","effects","wireless","quality","useGameEffects","useCharacterData","attributeNames","formatAttr","calculateAttributes","attrs","adjustedAttrs","Object","entries","calculateAttribute","overrides","Math","max","reduce","sum","ActiveSkillId","Qualities","ambidextrous","name","cost","gameEffect","source","book","page","analyticalMind","aptitude","options","getName","formatSkill","getEffects","skillMaxAdj","astralChameleon","blandness","builtTough","maxLevel","level","track","charPhysical","catlike","dermalDeposits","doubleJointed","elementalResistance","exceptional","attrMaxBonus","firstImpression","focusedConcentration","gearhead","guts","hardening","highPainTolerance","woundPenaltyAdj","homeGround","humanLooking","indomitable","juryrigger","longReach","lowLightVision","magicResistance","mentorSpirit","photographicMemory","quickHealer","resistanceToPathogens","spiritSpriteAffinity","thermographicVision","toughness","toxinResistance","willToLive","addiction","bonus","allergy","arVertigo","astralBeacon","badLuck","badRep","combatParalysis","dependents","distinctiveStyle","elfPoser","glassJaw","charStun","gremlins","honorbound","impairedAttr","incompetentSkill","inDebt","insomnia","lossOfConfidence","lowPainTolerance","orkPoser","prejudiced","scorched","sensitiveSystem","simsenseVertigo","sinner","socialStress","spiritSpriteBane","uncouth","uneducated","unsteadyHands","weakImmuneSystem","Specializations","Astral","AstralCombat","AstralSignatures","EmotionalStates","SpiritTypes","Athletics","Archery","Climbing","Flying","Gymnastics","Sprinting","Swimming","Throwing","Biotech","Biotechnology","Cybertechnology","FirstAid","Medicine","CloseCombat","Blades","Clubs","UnarmedCombat","Con","Acting","Disguise","Impersonation","Performance","Conjuring","Banishing","Summoning","Cracking","Cybercombat","ElectronicWarfare","Hacking","Electronics","Computer","Hardware","Software","Enchanting","Alchemy","Artificing","Disenchanting","Engineering","AeronauticsMechanic","Armorer","AutomotiveMechanic","Demolitions","Gunnery","IndustrialMechanic","Lockpicking","NauticalMechanic","ExoticWeapons","Firearms","Tasers","HoldOuts","LightPistols","MachinePistols","HeavyPistols","SubmachineGuns","Shotguns","Rifles","MachineGuns","AssaultCannons","Influence","Etiquette","Instruction","Intimidation","Leadership","Negotiation","Outdoors","Navigation","Survival","Tracking","Perception","Visual","Aural","Tactile","Piloting","GroundCraft","Aircraft","Watercraft","Sorcery","Counterspelling","RitualSpellcasting","Spellcasting","Stealth","Camouflage","Palming","Sneaking","Tasking","Compiling","Decompiling","Registering","ActiveSkills","astral","untrained","specializations","values","athletics","altAttr","biotech","closeCombat","con","conjuring","cracking","electronics","enchanting","engineering","exoticWeapons","multiSpecialization","firearms","influence","outdoors","perception","piloting","sorcery","stealth","tasking","CRB","CrbQualityIds","getQuality","qualityId","CrbQualities","MetatypeId","toCharQuality","metaType","notes","Metatypes","dwarf","priorityLevels","attrMaximums","elf","human","ork","troll","ActiveSkillIds","CrbSkillId","skillId","CrbSkills","AttributeContext","AttributeProvider","parentAttrs","useAttributes","keys","allAttributes","filtered","key","useAttribute","SkillType","DamageContext","DamageProvider","dmgSessionKey","setDmgValue","parseInt","localStorage","getItem","damages","setValue","setItem","toString","DicePools","flexWrap","skillSpecialtyBonus","specialtyName","hasSpecialty","hasExpertise","collectEffectBonuses","poolKey","poolType","DicePool","skills","bonuses","groups","dmgPenaltyTypes","skillList","useActiveSkills","attrList","dmgPenalty","types","damageData","floor","a","b","useDamagePenalty","rank","attrType","total","g","group","DiceGroupDisplay","nameStyles","marginRight","fontSize","backgroundColor","icon","faWifi","ActiveSkillList","charSkills","Stack","direction","charSkill","ActiveSkillRow","activeSkill","paddingLeft","specialization","expertise","KnowledgeSkillList","Table","TableHead","TableRow","TableCell","TableBody","SkillListRow","colSpan","LanguageSkillList","toLowerCase","isActiveSkill","active","isLanguageSkill","language","isKnowledgeSkill","knowledge","CrbSpecializations","CharacterContext","CharacterProvider","characterData","useCharacter","getActiveSkill","useActiveSkill","AwakenedType","PistolSvg","version","xmlns","viewBox","enableBackground","d","NavButton","routeTo","history","useHistory","ListItem","button","push","ListItemIcon","SvgIcon","ListItemText","DefaultNavDrawer","Drawer","anchor","List","faUsers","CharacterNavDrawer","showSpells","faUser","faMagic","faCarAlt","faCogs","faArchive","Divider","faYenSign","faAward","MetatypeIds","CrbMetatypeId","CrbMetatypes","metatype","MetatypeNames","names","formatMetatype","metatypeId","Incrementor","min","Infinity","faMinus","faPlus","AttrTableRow","base","adjPoints","attrPoints","karmaPoints","maximum","onAdjPointsChange","onAttrPointsChange","onKarmaPointsChange","allowAdjPoints","includes","AttrIncrementor","defaultAttributes","AttributesTable","awakened","attributePoints","adjustmentPoints","adjPointsSpent","setAdjPointsSpent","pointsSpent","setPointsSpent","setKarmaPoints","excludedAttributes","Technomancer","Aspected","Mundane","totalAdjPointsSpent","points","totalPointsSpent","totalKarmaCost","preKarma","calcKaramaCost","TableContainer","PriorityStat","BioSection","bio","metatypes","magicPriority","showMetaTypeWarning","log","showAwakenedWarning","alias","select","focused","helperText","role","ethnicity","age","gender","weight","priorityValues","skillPoints","nuyen","nuyenFormatter","Intl","NumberFormat","formatNuyen","format","useNuyenBalance","sort","parseISO","date","getTime","entry","PriorityRow","selectedType","onSelect","align","selected","Full","Mystic","Adept","PriorityCell","className","PrioritiesTable","selectedPriorities","setSelectedPriorities","onPriorityChange","stat","priorities","priority","oldLevel","levelValues","toPriorityValues","SkillsSection","setCharSkills","availableSkills","onRemove","onRemoveSkill","onChangeSkill","Autocomplete","autoComplete","includeInputInList","blurOnSelect","clearOnBlur","onAddSkill","renderInput","params","placeholder","SkillsTableRow","faMinusCircle","defaultCharacter","dataVersion","karma","heat","reputation","lifestyle","prepaid","upkeep","contacts","BuilderPage","setPriorities","setCharacterData","WeaponPoolKeys","migrateCharacter","migrations","migration","run","AutosoftContext","AutosoftProvider","autosofts","useAutosoft","autosoft","WeaponModAttr","WeaponModSlot","BasicAttackPool","nestedGear","gearBonuses","basicAttack","specialtyBonus","DroneAttackPool","targetingGroup","weaponName","useTargetingAutosoft","droneAttack","vehiclePhysical","VehicleAttackPool","mountedAttack","RiggedAttackPool","controlRig","augmentType","riggedAttack","usedIds","Set","addGear","attachedGear","add","item","fnHar","avail","rarity","license","riggerInterface","modType","stdWeaponMount","illegal","Artemis","note","connection","loyalty","description","smartGunIntMod","weaponMod","removable","used","headware","bioware","topOrUnder","rccHeadwear","rcc","slavedAutosofts","soft","vehicle","slavedTo","pilotingSpeciality","rotoDrone","crawlerDrone","quantity","addDrones","alpha","eyeware","other","sin","SpellCategory","SpellType","weapons","CharacterPoolTypes","KitType","spells","category","Health","range","Physical","duration","drainValue","Illusion","senseType","Mana","Combat","damageType","area","damage","Dusk","Silicus","under","barrel","dmgResist","beta","delta","armorMod","kit","medKit","firstAid","Spike","standard","bodyware","Xendris","spellDrainAttr","characterStorageKey","characterId","charactersStorageKey","loadCharacters","savedCharacters","userId","updatedAt","Date","toISOString","createdAt","uuid","JSON","stringify","saveCharacter","parse","CharacterListPage","characters","setCharacters","justifyContent","formatSource","StatBlock","vertical","Stat","toFixed","whiteSpace","AttributeBlock","library","faCaretSquareDown","faCaretSquareRight","AutosoftType","VehiclePoolKeys","InfoBlock","title","titleFontSize","subtitle","titleRight","expandId","expandable","content","footer","expanded","_setExpanded","saved","sessionStorage","useExpanded","setExpanded","elevation","Chip","marginLeft","verticalAlign","GearInfoBlock","blockTitleRight","Boolean","ItemDescription","alignItems","WirelessBonus","SimpleInfoBlock","LicenseInfo","SinInfo","licenses","RccInfo","slavedVehicles","maxSlaved","TrackCell","filled","isOverflow","hovered","setHovered","borderColor","userSelect","onMouseEnter","onMouseLeave","DamageTrack","current","useDamage","useSetDamage","onToggleCell","numCells","minWidth","paddingBottom","styles","Array","fill","index","toggleCell","DamageCell","penalty","CharacterDefRatingStat","VehicleDefRatingStat","InitiativeStat","dice","CharacterHotVrInit","CharacterColdVrInit","AutosoftsList","slavedIds","paddingTop","AutosoftListItem","faSave","DestroyedVehicleInfo","style","textDecoration","VehicleResistDmg","resistDmg","DroneEvasion","evasionAutosoft","evasion","diceGroups","pilotEvade","DroneManeuvering","maneuveringAutosoft","maneuvering","DroneStealth","stealthAutosoft","DronePerception","clearsightAutosoft","clearsight","DroneCracking","warfareAutosoft","electronicWarfare","DriverPiloting","pilotingSkill","riggedEvade","RiggedPiloting","VehicleModsList","maxSlots","mods","slotsUsed","mod","VehicleInfo","useTheme","mdScreenOrLarger","useMediaQuery","breakpoints","up","vehicleMods","physicalMax","ceil","allAutosofts","destroyed","flexItem","WeaponInfo","mounted","GearInfo","GearList","AugmentsPage","augments","ContactInfo","contact","ContactList","isSin","AttributesSection","charAttributes","BioField","CombatArea","physicalTrackBonus","stunTrackBonus","stunMax","initDice","alignContent","DicePoolsSection","DodgePool","dodge","ResistDamagePool","ComposurePool","composure","JudgeIntentPool","judgeIntent","MemoryPool","memory","LiftPool","liftCarry","FirstAidPool","firstAidKit","biotechSkill","MedkitPool","EdgeTracker","edgeSessionKey","charEdgeAttr","defaultEdge","curValue","setCurValue","setEdge","QualitiesList","QualitiesSection","SkillSection","charActiveSkills","languageSkills","knowledgeSkills","CharacterInfo","sins","nuyenBalance","CharacterInfoPage","BalanceLogTable","formatValue","runningTotal","logRows","reverse","KarmaPage","MiscGearPage","excludedGear","otherGear","NuyenPage","gearTotal","SpellBlock","spell","SorcerySpellcastingPool","ConjuringSpellcastingPool","EnchantingSpellcastingPool","ResistDrain","SpellsPage","VehiclesPage","vehicles","WeaponsPage","CharacterPage","useRouteMatch","useParams","setCharacter","loadCharacter","to","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8807ab6c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"DamageTrack\":\"DamageTrack_DamageTrack__3Cfmx\"};","/* eslint-disable @typescript-eslint/no-empty-interface */\nimport { createTheme, StyledEngineProvider, ThemeProvider } from '@mui/material'\nimport { FC } from 'react'\n\nexport const displayFontFamily = '\"Comfortaa\", \"Helvetica\", \"Arial\", sans-serif'\n\nconst theme = createTheme({\n  palette: {\n    mode: 'dark',\n    primary: {\n      main: '#CE93D8',\n    },\n    secondary: {\n      main: '#03A9F4',\n    },\n    text: {\n      primary: '#EEEEEE',\n    },\n    background: {\n      default: '#2D2736',\n    },\n  },\n\n  typography: {\n    h1: { fontFamily: displayFontFamily },\n    h2: { fontFamily: displayFontFamily },\n    h3: { fontFamily: displayFontFamily },\n    h4: { fontFamily: displayFontFamily },\n    h5: { fontFamily: displayFontFamily },\n    h6: { fontFamily: displayFontFamily },\n  },\n})\n\nexport const AppThemeProvider: FC = ({\n  children,\n}) => {\n  return (\n    <StyledEngineProvider injectFirst>\n      <ThemeProvider theme={theme}>{children}</ThemeProvider>\n    </StyledEngineProvider>\n  )\n}\n","import axios, { AxiosInstance, AxiosRequestConfig } from 'axios'\n\nimport { ApiError } from './ApiError'\n\nconst SERVER_URL = process.env.REACT_APP_SERVER_URL\n\nexport class ServerApi {\n  private static axiosInstance: AxiosInstance = axios.create({\n    baseURL: SERVER_URL,\n    withCredentials: true,\n  })\n\n  public static get<R> (path: string, config?: AxiosRequestConfig): Promise<R> {\n    return this.axiosInstance\n      .get(path, config).then(res => res.data as R)\n      .catch((error) => this.handleError(error))\n  }\n\n  public static post<R, D = unknown> (path: string, data?: D, config?: AxiosRequestConfig): Promise<R> {\n    return this.axiosInstance\n      .post(path, data, config).then(res => res.data as R)\n      .catch((error) => this.handleError(error))\n  }\n\n  private static async handleError<R> (error: unknown): Promise<R> {\n    if (!axios.isAxiosError(error)) throw error\n    if (!error.response) throw error\n    throw error.response.data\n  }\n\n  public static isApiError (error: unknown): error is ApiError {\n    return (error as ApiError).err !== undefined\n  }\n}\n","import { ServerApi } from '../Api/ServerApi'\nimport { User } from './User'\n\nexport const AuthApi = {\n  signup (username: string, password: string): Promise<User> {\n    return ServerApi\n      .post<{ user: User }>('/signup', { username, password })\n      .then(data => data.user)\n  },\n\n  login (username: string, password: string): Promise<User> {\n    return ServerApi\n      .post<{ user: User }>('/login', { username, password })\n      .then(data => data.user)\n  },\n\n  logout (): Promise<never> {\n    return ServerApi\n      .post<never>('/logout')\n  },\n\n  fetchUser (): Promise<User> {\n    return ServerApi.get<{ user: User }>('/user')\n      .then(data => data.user)\n  },\n}\n","import { createContext, FC, useContext, useEffect, useState } from 'react'\n\nimport { AuthApi } from './AuthApi'\nimport { User } from './User'\n\ninterface AuthContextState {\n  user: User | null\n  fetching: boolean\n\n  login (username: string, password: string): Promise<User>\n\n  signup (username: string, password: string): Promise<User>\n\n  fetchUser (): Promise<User>\n\n  logout (): Promise<void>\n}\n\nconst AuthContext = createContext<AuthContextState>({\n  user: null,\n  fetching: false,\n  login: () => { throw new Error('Invalid AuthContext') },\n  signup: () => { throw new Error('Invalid AuthContext') },\n  fetchUser: () => { throw new Error('Invalid AuthContext') },\n  logout: () => { throw new Error('Invalid AuthContext') },\n})\n\nexport const AuthProvider: FC = ({\n  children,\n}) => {\n  const [user, setUser] = useState<User | null>(null)\n  const [fetching, setFetching] = useState<boolean>(false)\n\n  const login = (username: string, password: string) => {\n    return AuthApi.login(username, password).then(user => {\n      setUser(user)\n      return user\n    })\n  }\n\n  const signup = (username: string, password: string) => {\n    return AuthApi.signup(username, password).then(user => {\n      setUser(user)\n      return user\n    })\n  }\n\n  const fetchUser = (): Promise<User> => {\n    setFetching(true)\n    return AuthApi.fetchUser()\n      .then(user => {\n        setUser(user)\n        return user\n      })\n      .finally(() => setFetching(false))\n  }\n\n  const logout = () => {\n    setUser(null)\n    return AuthApi.logout()\n  }\n\n  const state: AuthContextState = {\n    user,\n    fetching,\n    fetchUser,\n    signup,\n    login,\n    logout,\n  }\n\n  useEffect(() => {\n    fetchUser().catch(console.error)\n  }, [])\n\n  return (\n    <AuthContext.Provider value={state}>{children}</AuthContext.Provider>\n  )\n}\n\nexport const useAuth = (): AuthContextState => {\n  return useContext(AuthContext)\n}\n\nexport const useCurrentUser = (): User | null => {\n  return useAuth().user\n}\n","import { Button, TextField, Typography } from '@mui/material'\nimport { ChangeEvent, FC, useState } from 'react'\n\nimport { ServerApi } from '../../Api/ServerApi'\nimport { useAuth } from '../AuthProvider'\n\ninterface LoginFormProps {\n  onLogin (): void\n}\n\nexport const LoginForm: FC<LoginFormProps> = ({\n  onLogin,\n}) => {\n  const [username, setUsername] = useState<string>('')\n  const [password, setPassword] = useState<string>('')\n  const [authorizing, setAuthorizing] = useState<boolean>(false)\n  const [message, setMessage] = useState<string | null>(null)\n\n  const { login } = useAuth()\n\n  const onSubmit = () => {\n    setAuthorizing(true)\n\n    login(username, password)\n      .then(() => onLogin())\n      .catch((error) => {\n        setAuthorizing(false)\n\n        if (ServerApi.isApiError(error)) {\n          setMessage(error.msg)\n        } else {\n          console.error(error)\n          setMessage('Server Error')\n        }\n      })\n  }\n\n  return <form onSubmit={onSubmit}>\n    <TextField\n      autoFocus\n      label=\"Username\"\n      fullWidth\n      sx={{ marginBottom: 1 }}\n      variant=\"outlined\"\n      value={username}\n      onChange={(e: ChangeEvent<HTMLInputElement>) => setUsername(e.target.value)}\n      disabled={authorizing}\n    />\n\n    <TextField\n      label=\"Password\"\n      fullWidth\n      type=\"password\"\n      variant=\"outlined\"\n      sx={{ marginBottom: 1 }}\n      value={password}\n      onChange={(e: ChangeEvent<HTMLInputElement>) => setPassword(e.target.value)}\n      disabled={authorizing}\n    />\n\n    {message && (\n      <Typography sx={{ textAlign: 'center', marginBottom: 1 }}>{message}</Typography>\n    )}\n\n    <Button type=\"submit\" variant=\"contained\" onClick={onSubmit} disabled={authorizing} fullWidth>\n      {authorizing ? 'Connecting...' : 'Login'}\n    </Button>\n  </form>\n}\n","import { Dispatch, Reducer, useReducer } from 'react'\n\ninterface FormState {\n  username: {\n    value: string\n    error: string | null\n    dirty: boolean\n  }\n  password: {\n    value: string\n    error: string | null\n    dirty: boolean\n  }\n  confirmPassword: {\n    value: string\n    error: string | null\n    dirty: boolean\n  }\n  submitting: boolean\n  valid: boolean\n  dirty: boolean\n  error: string | null\n}\n\nexport const defaultState: FormState = {\n  username: {\n    dirty: false,\n    error: null,\n    value: '',\n  },\n\n  confirmPassword: {\n    dirty: false,\n    error: null,\n    value: '',\n  },\n\n  password: {\n    dirty: false,\n    error: null,\n    value: '',\n  },\n\n  dirty: false,\n  valid: false,\n  submitting: false,\n  error: null,\n}\n\ntype FormAction =\n  | { type: 'setUsername'; value: string }\n  | { type: 'blurUsername' }\n  | { type: 'setPassword'; value: string }\n  | { type: 'blurPassword' }\n  | { type: 'setConfirmPassword'; value: string }\n  | { type: 'blurConfirmPassword' }\n  | { type: 'error'; error: string }\n  | { type: 'submit' }\n\nconst reducer: Reducer<FormState, FormAction> = (state, action): FormState => {\n  switch (action.type) {\n    case 'setUsername':\n      return {\n        ...state,\n        username: {\n          ...state.username,\n          error: validateUsername(action.value),\n          value: action.value,\n        },\n      }\n    case 'blurUsername':\n      return {\n        ...state,\n        username: {\n          ...state.username,\n          dirty: true,\n        },\n      }\n    case 'setPassword':\n      return {\n        ...state,\n        password: {\n          ...state.password,\n          value: action.value,\n          error: validatePassword(action.value),\n        },\n      }\n    case 'blurPassword':\n      return {\n        ...state,\n        password: {\n          ...state.password,\n          dirty: true,\n        },\n      }\n    case 'setConfirmPassword':\n      return {\n        ...state,\n        confirmPassword: {\n          ...state.confirmPassword,\n          value: action.value,\n          error: validateConfirmPassword(state.password.value, action.value),\n        },\n      }\n    case 'blurConfirmPassword':\n      return {\n        ...state,\n        confirmPassword: {\n          ...state.confirmPassword,\n          dirty: true,\n        },\n      }\n    case 'submit':\n      return {\n        ...state,\n        submitting: true,\n        error: null,\n      }\n    case 'error':\n      return {\n        ...state,\n        submitting: false,\n        error: action.error,\n      }\n    default:\n      return state\n  }\n}\n\nfunction validateUsername (username: string): string | null {\n  if (!username || username.trim() === '')\n    return 'Username is required'\n\n  return null\n}\n\nfunction validatePassword (password: string): string | null {\n  if (!password || password === '')\n    return 'Password is required'\n\n  if (password.length <= 10)\n    return 'Password must be longer then 10 characters'\n\n  return null\n}\n\nfunction validateConfirmPassword (confirmPassword: string, password: string): string | null {\n  if (confirmPassword !== password)\n    return 'Password doesn\\'t match'\n\n  return null\n}\n\nexport const useFormState = (): [FormState, Dispatch<FormAction>] => {\n  return useReducer(reducer, defaultState)\n}\n","import { Button, TextField, Typography } from '@mui/material'\nimport { ChangeEvent, FC } from 'react'\n\nimport { ServerApi } from '../../Api/ServerApi'\nimport { useAuth } from '../AuthProvider'\nimport { useFormState } from './SignupFormState'\n\ninterface SignupFormProps {\n  onSignup (): void\n}\n\nexport const SignupForm: FC<SignupFormProps> = ({\n  onSignup,\n}) => {\n  const [form, dispatch] = useFormState()\n\n  const { signup } = useAuth()\n\n  const onSubmit = () => {\n    dispatch({ type: 'submit' })\n\n    signup(form.username.value, form.password.value)\n      .then(() => onSignup())\n      .catch((error) => {\n        if (ServerApi.isApiError(error)) {\n          dispatch({ type: 'error', error: error.msg })\n        } else {\n          console.error(error)\n          dispatch({ type: 'error', error: 'Server Error' })\n        }\n      })\n  }\n\n  return <form onSubmit={onSubmit}>\n    <TextField\n      autoFocus\n      label=\"Username\"\n      fullWidth\n      sx={{ marginBottom: 1 }}\n      variant=\"outlined\"\n      value={form.username.value}\n      onBlur={() => dispatch({ type: 'blurUsername' })}\n      onChange={(e: ChangeEvent<HTMLInputElement>) => dispatch({\n        type: 'setUsername',\n        value: e.target.value,\n      })}\n      disabled={form.submitting}\n    />\n\n    {form.username.dirty && form.username.error && (\n      <Typography sx={{ marginBottom: 1 }}>{form.username.error}</Typography>\n    )}\n\n    <TextField\n      label=\"Password\"\n      fullWidth\n      type=\"password\"\n      variant=\"outlined\"\n      sx={{ marginBottom: 1 }}\n      value={form.password.value}\n      onBlur={() => dispatch({ type: 'blurPassword' })}\n      onChange={(e: ChangeEvent<HTMLInputElement>) => dispatch({\n        type: 'setPassword',\n        value: e.target.value,\n      })}\n      disabled={form.submitting}\n    />\n\n    {form.password.dirty && form.password.error && (\n      <Typography sx={{ marginBottom: 1 }}>{form.password.error}</Typography>\n    )}\n\n    <TextField\n      label=\"Confirm Password\"\n      fullWidth\n      type=\"password\"\n      variant=\"outlined\"\n      sx={{ marginBottom: 1 }}\n      value={form.confirmPassword.value}\n      onBlur={() => dispatch({ type: 'blurConfirmPassword' })}\n      onChange={(e: ChangeEvent<HTMLInputElement>) => dispatch({\n        type: 'setConfirmPassword',\n        value: e.target.value,\n      })}\n      disabled={form.submitting}\n    />\n\n    {form.confirmPassword.dirty && form.confirmPassword.error && (\n      <Typography sx={{ marginBottom: 1 }}>{form.confirmPassword.error}</Typography>\n    )}\n\n    {form.error && (\n      <Typography sx={{ textAlign: 'center', marginBottom: 1 }}>{form.error}</Typography>\n    )}\n\n    <Button type=\"submit\" variant=\"contained\" onClick={onSubmit} disabled={form.submitting} fullWidth>\n      {form.submitting ? 'Registering...' : 'Login'}\n    </Button>\n  </form>\n}\n","import { Box, Button, Dialog, DialogContent, Tab, Tabs } from '@mui/material'\nimport { FC, useState } from 'react'\n\nimport { LoginForm } from './LoginForm'\nimport { SignupForm } from './SignupForm'\n\ninterface LoginDialogProps {\n  open?: boolean\n\n  onClose (): void\n}\n\nexport const LoginDialog: FC<LoginDialogProps> = ({\n  open = false,\n  onClose,\n}) => {\n  const [activeTab, setActiveTab] = useState<string>('login')\n\n  return (\n    <Dialog open={open}>\n      <DialogContent sx={{ padding: 1, width: 400 }}>\n        <Box sx={{ display: 'flex', gap: 1 }}>\n          <Box sx={{ display: 'flex', flexDirection: 'column' }}>\n            <Tabs\n              value={activeTab}\n              onChange={(_, value) => setActiveTab(value)}\n              orientation=\"vertical\"\n              sx={{ flexGrow: 1 }}\n            >\n              <Tab label=\"Login\" value=\"login\" />\n              <Tab label=\"Sign Up\" value=\"signup\" />\n            </Tabs>\n            <Button onClick={onClose} variant=\"outlined\">Cancel</Button>\n          </Box>\n\n          <Box sx={{ flexGrow: 1 }}>\n            {activeTab === 'login' && <LoginForm onLogin={onClose} />}\n            {activeTab === 'signup' && <SignupForm onSignup={onClose} />}\n          </Box>\n        </Box>\n      </DialogContent>\n    </Dialog>\n  )\n}\n","import { format, parseISO } from 'date-fns'\n\nexport const noOp = (): void => {/* No Operation */}\n\nexport function formatDate (date: Date | string): string {\n  if (typeof date === 'string') date = parseISO(date)\n  return format(date, 'PP')\n}\n","import MenuIcon from '@mui/icons-material/Menu'\nimport {\n  AppBar as MuiAppBar,\n  Button,\n  CircularProgress,\n  IconButton,\n  Menu,\n  MenuItem,\n  Toolbar,\n  Typography,\n} from '@mui/material'\nimport React, { FC, useState } from 'react'\n\nimport { useAuth, useCurrentUser } from '../Auth/AuthProvider'\nimport { LoginDialog } from '../Auth/Login/LoginDialog'\nimport { noOp } from '../Helpers'\n\ntype NavBarProps = {\n  withMenu?: boolean\n  openMenu? (): void\n}\n\nexport const AppBar: FC<NavBarProps> = ({\n  withMenu,\n  openMenu = noOp,\n}) => {\n  const { fetching: fetchingUser, user: currentUser } = useAuth()\n\n  return (\n    <MuiAppBar position=\"sticky\" sx={{ top: 0 }}>\n      <Toolbar>\n        {withMenu && (\n          <IconButton\n            size=\"large\"\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"menu\"\n            sx={{ mr: 2 }}\n            onClick={() => openMenu()}\n          >\n            <MenuIcon />\n          </IconButton>\n        )}\n        <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\n          ShadowSIN 6e\n        </Typography>\n\n        {process.env['REACT_APP_ENABLE_SERVER'] === 'true' && (\n          fetchingUser ? (\n            <CircularProgress sx={{ width: '20px' }} />\n          ) : (\n            currentUser ? <UserMenu /> : <LoginButton />\n          )\n        )}\n      </Toolbar>\n    </MuiAppBar>\n  )\n}\n\nexport const UserMenu: FC = () => {\n  const currentUser = useCurrentUser()\n  const [menuOpen, setMenuOpen] = useState<boolean>(false)\n  const [anchorEl, setAnchorEl] = useState<HTMLElement | null>(null)\n  const { logout } = useAuth()\n\n  if (!currentUser) return null\n\n  const openMenu = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget)\n    setMenuOpen(true)\n  }\n\n  const onLogout = () => {\n    logout().catch(console.error)\n  }\n\n  return (\n    <>\n      <Button onClick={openMenu}>{currentUser.username}</Button>\n      <Menu\n        id=\"basic-menu\"\n        anchorEl={anchorEl}\n        open={menuOpen}\n        onClose={() => setMenuOpen(false)}\n      >\n        <MenuItem onClick={onLogout}>Logout</MenuItem>\n      </Menu>\n    </>\n  )\n}\n\nexport const LoginButton: FC = () => {\n  const [dialogOpen, setDialogOpen] = useState<boolean>(false)\n\n  return (\n    <>\n      <Button onClick={() => setDialogOpen(true)}>Login</Button>\n      <LoginDialog open={dialogOpen} onClose={() => setDialogOpen(false)} />\n    </>\n  )\n}\n","export enum CharacterAttr {\n  body = 'char.body',\n  agility = 'char.agility',\n  reaction = 'char.reaction',\n  strength = 'char.strength',\n  willpower = 'char.willpower',\n  logic = 'char.logic',\n  intuition = 'char.intuition',\n  charisma = 'char.charisma',\n  edge = 'char.edge',\n  essence = 'char.essence',\n  magic = 'char.magic',\n  resonance = 'char.resonance',\n}\n\nexport const physicalAttrs = [\n  CharacterAttr.body,\n  CharacterAttr.agility,\n  CharacterAttr.reaction,\n  CharacterAttr.strength,\n]\n\nexport const mentalAttrs = [\n  CharacterAttr.willpower,\n  CharacterAttr.logic,\n  CharacterAttr.intuition,\n  CharacterAttr.charisma,\n]\n\nexport const specialAttrs = [\n  CharacterAttr.edge,\n  CharacterAttr.essence,\n  CharacterAttr.magic,\n  CharacterAttr.resonance,\n]\n\nexport const CharacterAttrNames = {\n  [CharacterAttr.body]: 'Body',\n  [CharacterAttr.agility]: 'Agility',\n  [CharacterAttr.reaction]: 'Reaction',\n  [CharacterAttr.strength]: 'Strength',\n  [CharacterAttr.willpower]: 'Willpower',\n  [CharacterAttr.logic]: 'Logic',\n  [CharacterAttr.intuition]: 'Intuition',\n  [CharacterAttr.charisma]: 'Charisma',\n  [CharacterAttr.edge]: 'Edge',\n  [CharacterAttr.essence]: 'Essence',\n  [CharacterAttr.magic]: 'Magic',\n  [CharacterAttr.resonance]: 'Resonance',\n}\n","import { Box, Paper } from '@mui/material'\nimport React, { FC, useState } from 'react'\n\nimport { AppBar } from '../UI/AppBar'\nimport { NavDrawerProps } from '../UI/NavDrawer'\n\ninterface RootLayoutProps {\n  NavDrawer?: FC<NavDrawerProps>\n}\n\nexport const RootLayout: FC<RootLayoutProps> = ({\n  NavDrawer,\n  children,\n}) => {\n  const [drawerOpen, setDrawerOpen] = useState<boolean>(false)\n\n  return (\n    <Paper\n      sx={{\n        display: 'grid',\n        gridTemplateRows: 'auto 1fr',\n        bgcolor: 'background.default',\n        height: '100vh',\n        width: '100vw',\n        overflow: 'auto',\n      }}\n      square\n    >\n      <AppBar withMenu={!!NavDrawer} openMenu={() => setDrawerOpen(true)} />\n      {NavDrawer && <NavDrawer open={drawerOpen} closeDrawer={() => setDrawerOpen(false)} />}\n\n      <Box sx={{ width: '100%', maxWidth: 1200, margin: '0 auto', padding: 1 }}>\n        {children}\n      </Box>\n    </Paper>\n  )\n}\n","import { AttrNames } from '../../System/Attribute'\n\nexport enum AugmentAttr {\n  grade = 'augment.grade',\n  rating = 'augment.rating',\n  slot = 'augment.slot',\n  essenceCost = 'augment.essenceCost',\n  capacity = 'augment.capacity',\n  capacityCost = 'augment.capacityCost',\n}\n\nexport const AugmentAttrNames: AttrNames = {\n  [AugmentAttr.grade]: 'Grade',\n  [AugmentAttr.rating]: 'Rating',\n  [AugmentAttr.slot]: 'Slot',\n  [AugmentAttr.essenceCost]: 'Essence',\n  [AugmentAttr.capacity]: 'Capacity',\n  [AugmentAttr.capacityCost]: 'Capacity Cost',\n}\n","import { RecordId } from '../Api/Model'\nimport { AttrList, AttrType, AttrValue } from '../System/Attribute'\nimport { Effect } from '../System/Effect'\nimport { Source } from '../System/Source'\nimport { ArmorData } from './Armor/ArmorData'\nimport { ArmorModData } from './Armor/ArmorModData'\nimport { AugmentData } from './Augments/AugmentData'\nimport { Availability } from './Availability'\nimport { LicenseData } from './License/LicenseData'\nimport { SinData } from './License/SinData'\nimport { OtherGearData } from './OtherGearData'\nimport { RccData } from './Rcc/RccData'\nimport { AutosoftData } from './Software/Autosoft/AutosoftData'\nimport { VehicleData } from './Vehicles/VehicleData'\nimport { VehicleModData } from './Vehicles/VehicleModData'\nimport { WeaponData } from './Weapons/WeaponData'\nimport { WeaponModData } from './Weapons/WeaponModData'\n\nexport type Cost = number\n\nexport enum GearType {\n  armor = 'armor',\n  armorMod = 'armorMod',\n  augment = 'augment',\n  autosoft = 'autosoft',\n  license = 'license',\n  rcc = 'rcc',\n  sin = 'sin',\n  vehicle = 'vehicle',\n  vehicleMod = 'vehicleMod',\n  weapon = 'weapon',\n  weaponMod = 'weaponMod',\n\n  other = 'other',\n}\n\nexport interface BaseGearData {\n  id: RecordId\n  source?: Source\n  gearType: GearType\n  name: string\n  type: string\n  avail?: Availability\n  cost?: Cost\n  capacity?: number\n  quantity?: number\n\n  attributes?: AttrList\n  attachedTo?: RecordId\n\n  wirelessBonus?: {\n    enabled: boolean\n    description: string\n  }\n\n  description?: string\n  effects?: Effect[]\n\n  [key: string]: unknown\n}\n\nexport type GearData =\n  | OtherGearData\n  | ArmorData\n  | ArmorModData\n  | AugmentData\n  | AutosoftData\n  | LicenseData\n  | RccData\n  | SinData\n  | VehicleData\n  | VehicleModData\n  | WeaponData\n  | WeaponModData\n\nexport function getAttr<T extends AttrValue> (gear: BaseGearData, attribute: AttrType): T | undefined {\n  if (!gear.attributes) return undefined\n  return gear.attributes[attribute] as T\n}\n","import {BaseGearData, GearData, GearType} from '../GearData'\nimport {AugmentAttr} from './AugmentAttr'\n\nexport interface AugmentData extends BaseGearData {\n  augmentType?: AugmentType\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade\n    [AugmentAttr.essenceCost]?: number\n    [AugmentAttr.slot]: AugmentSlot\n    [AugmentAttr.rating]?: number\n    [AugmentAttr.capacity]?: number\n    [AugmentAttr.capacityCost]?: number\n  }\n}\n\nexport function isAugment(gear: GearData): gear is AugmentData {\n  return gear.gearType === GearType.augment\n}\n\nexport enum AugmentType {\n  controlRig = 'controlRig',\n}\n\nexport enum AugmentSlot {\n  headware = 'headware',\n  eyeware = 'eyeware',\n  earwear = 'earwear',\n  bodyware = 'bodyware',\n  cyberlimb = 'cyberlimb',\n  bioware = 'bioware',\n}\n\nexport enum AugmentGrade {\n  used = 'used',\n  standard = 'standard',\n  alpha = 'alphaware',\n  beta = 'betaware',\n  delta = 'deltaware'\n}\n","import { AttrNames } from '../../System/Attribute'\n\nexport enum ArmorAttr {\n  defenseBonus = 'armor.defenseBonus',\n  capacity = 'armor.capacity',\n}\n\nexport const ArmorAttrNames: AttrNames = {\n  [ArmorAttr.defenseBonus]: 'Def Rating',\n  [ArmorAttr.capacity]: 'Capacity',\n}\n","import { createContext, FC, useContext } from 'react'\n\nimport { RecordId } from '../Api/Model'\nimport { GearData, GearType } from './GearData'\n\nconst GearContext = createContext<GearData[]>([])\n\ninterface GearProviderProps {\n  gear: GearData[]\n}\n\nexport const GearProvider: FC<GearProviderProps> = ({\n  gear,\n  children,\n}) => {\n  return (\n    <GearContext.Provider value={gear}>{children}</GearContext.Provider>\n  )\n}\n\nexport function useAllGear (): GearData[] {\n  return useContext(GearContext)\n}\n\nexport function useGear<T extends GearData = GearData> (gearId: RecordId | undefined): T | undefined {\n  const allGear = useAllGear()\n  if (!gearId) return undefined\n\n  const gear = allGear.find(gear => gear.id === gearId)\n  return gear ? gear as T : undefined\n}\n\ntype GearFilter = (gear: GearData) => boolean\n\nexport function useFindGear<T extends GearData = GearData> (filter: GearFilter): T | undefined {\n  const foundGear = useAllGear().find(filter)\n  return foundGear ? foundGear as T : undefined\n}\n\nexport function useFilterGear<T extends GearData = GearData> (filter: GearFilter): T[] {\n  return useAllGear().filter(filter).map(gear => gear as T)\n}\n\nexport function useAttachedGear (gearId: RecordId): GearData[] {\n  return useAllGear().filter(gear => gear.attachedTo === gearId)\n}\n\nexport function useAllNestedGear (gearId: RecordId): GearData[] {\n  return collectNestedGear(gearId, useAllGear())\n}\n\nfunction collectNestedGear (parentId: RecordId, allGear: GearData[]) {\n  const children = allGear.filter(gear => gear.attachedTo === parentId)\n  let gear = [...children]\n\n  children.forEach(child => {\n    gear = [...gear, ...collectNestedGear(child.id, allGear)]\n  })\n\n  return gear\n}\n\nexport function useGearOfType<T extends GearData> (gearType: GearType): T[] {\n  return useFilterGear<T>(gear => gear.gearType === gearType)\n}\n","import { AttrNames } from '../../System/Attribute'\n\nexport enum CommlinkAttr {\n  deviceRating = 'commlink.deviceRating',\n  attributes = 'commlink.attributes',\n  programSlots = 'commlink.programSlots',\n}\n\nexport const CommlinkAttrNames: AttrNames = {\n  [CommlinkAttr.deviceRating]: 'Device Rating',\n  [CommlinkAttr.attributes]: 'Attributes',\n  [CommlinkAttr.programSlots]: 'Program Slots',\n}\n","import { AttrNames } from '../../System/Attribute'\n\nexport enum KitAttr {\n  medkitRating = 'medkit.rating',\n}\n\nexport const KitAttrNames: AttrNames = {\n  [KitAttr.medkitRating]: 'Rating',\n}\n","import { AttrNames } from '../../System/Attribute'\n\nexport enum LicenseAttr {\n  rating = 'license.rating',\n}\n\nexport const LicenseAttrNames: AttrNames = {\n  [LicenseAttr.rating]: 'Rating',\n}\n","import { AttrNames } from '../../System/Attribute'\n\nexport enum SinAttr {\n  rating = 'sin.rating',\n}\n\nexport const SinAttrNames: AttrNames = {\n  [SinAttr.rating]: 'Rating',\n}\n","import { AttrNames, AttrValue } from '../System/Attribute'\nimport { BaseGearData, GearType } from './GearData'\n\nexport interface OtherGearData extends BaseGearData {\n  gearType: GearType.other\n\n  attributes?: {\n    [type: string]: AttrValue\n  }\n}\n\nexport enum OtherGearAttr {\n  capacity = 'other.capacity',\n  capacityCost = 'other.capacityCost',\n  rating = 'other.rating',\n}\n\nexport const OtherGearAttrNames: AttrNames = {\n  [OtherGearAttr.capacity]: 'Capacity',\n  [OtherGearAttr.capacityCost]: 'Capacity Cost',\n  [OtherGearAttr.rating]: 'Rating',\n}\n","import { AttrNames } from '../../System/Attribute'\n\nexport enum RccAttr {\n  deviceRating = 'rcc.deviceRating',\n  dataProcessing = 'rcc.dataProcessing',\n  firewall = 'rcc.firewall'\n}\n\nexport const RccAttrNames: AttrNames = {\n  [RccAttr.deviceRating]: 'Device Rating',\n  [RccAttr.dataProcessing]: 'Data Processing',\n  [RccAttr.firewall]: 'Firewall',\n}\n","import { AttrNames } from '../../../System/Attribute'\n\nexport enum AutosoftAttr {\n  rating = 'autosoft.rating',\n  attr = 'autosoft.attr',\n  skill = 'autosoft.skill',\n  weapon = 'autosoft.weapon',\n}\n\nexport const AutosoftAttrNames: AttrNames = {\n  [AutosoftAttr.rating]: 'Rating',\n  [AutosoftAttr.attr]: 'Attr',\n  [AutosoftAttr.skill]: 'Skill',\n  [AutosoftAttr.weapon]: 'Weapon',\n}\n","import { AttrNames } from '../../System/Attribute'\n\nexport enum VehicleAttr {\n  handling = 'vehicle.handling',\n  accel = 'vehicle.accel',\n  speedInterval = 'vehicle.speedInterval',\n  topSpeed = 'vehicle.topSpeed',\n  body = 'vehicle.body',\n  armor = 'vehicle.armor',\n  pilot = 'vehicle.pilot',\n  sensor = 'vehicle.sensor',\n  seat = 'vehicle.seat',\n}\n\nexport const VehicleAttrNames: AttrNames = {\n  [VehicleAttr.handling]: 'Handling',\n  [VehicleAttr.accel]: 'Accel',\n  [VehicleAttr.speedInterval]: 'Speed Interval',\n  [VehicleAttr.topSpeed]: 'Top Speed',\n  [VehicleAttr.body]: 'Body',\n  [VehicleAttr.armor]: 'Armor',\n  [VehicleAttr.pilot]: 'Pilot',\n  [VehicleAttr.sensor]: 'Sensor',\n  [VehicleAttr.seat]: 'Seat',\n}\n","import { BaseGearData, GearType } from '../GearData'\n\nexport enum ModType {\n  other = 'vehicleMod.type.other',\n  riggerInterface = 'vehicleMod.type.riggerInterface',\n  stdWeaponMount = 'vehicleMod.type.stdWeaponMount',\n  heavyWeaponMount = 'vehicleMod.type.heavyWeaponMount',\n  manualControl = 'vehicleMod.type.manualControl',\n}\n\nexport enum VehicleModAttr {\n  rating = 'vehicleMod.attr.rating',\n  slotType = 'vehicleMod.attr.slotType',\n  slotCost = 'vehicleMod.attr.slotCost',\n  hardpointSize = 'vehicleMod.attr.hardpointSize',\n}\n\nexport const VehicleModAttrNames: Record<VehicleModAttr, string> = {\n  [VehicleModAttr.rating]: 'Rating',\n  [VehicleModAttr.slotType]: 'Slot Type',\n  [VehicleModAttr.slotCost]: 'Slot Cost',\n  [VehicleModAttr.hardpointSize]: 'Hardpoint Size',\n}\n\nexport enum SlotType {\n  chassis = 'Chassis',\n  powertrain = 'Powertrain',\n  electronic = 'Electronic',\n}\n\nexport enum HardpointSize {\n  small = 'Small',\n  medium = 'Medium',\n  large = 'Large',\n  huge = 'Huge',\n}\n\nconst slotTypeNames: Record<SlotType, string> = {\n  [SlotType.chassis]: 'Chassis',\n  [SlotType.powertrain]: 'Powertrain',\n  [SlotType.electronic]: 'Electronic',\n}\n\nexport function formatSlotType(type: SlotType): string {\n  return slotTypeNames[type]\n}\n\nexport interface VehicleModData extends BaseGearData {\n  gearType: GearType.vehicleMod\n  modType?: ModType\n\n  attributes?: {\n    [VehicleModAttr.rating]?: number\n    [VehicleModAttr.slotType]?: SlotType\n    [VehicleModAttr.slotCost]?: number\n    [VehicleModAttr.hardpointSize]?: 'small' | 'Medium' | 'Large' | 'Huge'\n  }\n}\n\nexport function isVehicleMod(gear: BaseGearData): gear is VehicleModData {\n  return gear.gearType === GearType.vehicleMod\n}\n","import { AttrNames } from '../../System/Attribute'\n\nexport enum WeaponAttr {\n  type = 'weapon.type',\n  dv = 'weapon.dv',\n  attackRatings = 'weapon.attackRatings',\n  modes = 'weapon.modes',\n  ammo = 'weapon.ammo',\n  maxRange = 'weapon.maxRange',\n}\n\nexport const WeaponAttrNames: AttrNames = {\n  [WeaponAttr.type]: 'Type',\n  [WeaponAttr.dv]: 'DV',\n  [WeaponAttr.attackRatings]: 'Atk. Ratings',\n  [WeaponAttr.modes]: 'Modes',\n  [WeaponAttr.ammo]: 'Ammo',\n  [WeaponAttr.maxRange]: 'Max Range',\n}\n","import { CharacterData } from '../Character/CharacterData'\nimport { useCharacterData } from '../Character/CharacterProvider'\nimport { GearData } from '../Gear/GearData'\nimport { CharacterQuality } from '../Qualities/CharacterQuality'\nimport { ActiveSkillId } from '../Skills'\nimport { DamageType } from './Damage/DamageType'\n\nexport enum EffectType {\n  attrBonus = 'attrBonus',\n  attrMaxBonus = 'attrMaxBonus',\n  attrOverride = 'attrOverride',\n  defRatingAdj = 'defRatingAdj',\n  dicePoolAdj = 'dicePoolAdj',\n  dmgTrackAdj = 'dmgTrackAdj',\n  initAdj = 'initAdj',\n  skillAdj = 'skillAdj',\n  skillMaxAdj = 'skillMaxAdj',\n  woundPenaltyAdj = 'woundPenaltyAdj',\n}\n\ninterface BaseEffect {\n  type: EffectType\n  wireless?: boolean\n}\n\ninterface AttrAdj extends BaseEffect {\n  type: EffectType.attrBonus\n  attr: string\n  value: number\n}\n\nexport function isAttrAdj (effect: BaseEffect): effect is AttrAdj {\n  return effect.type === EffectType.attrBonus\n}\n\ninterface AttrMaxAdj extends BaseEffect {\n  type: EffectType.attrMaxBonus\n  attr: string\n  value: number\n}\n\nexport function isAttrMaxAdj (effect: BaseEffect): effect is AttrMaxAdj {\n  return effect.type === EffectType.attrMaxBonus\n}\n\ninterface DmgTrackAdj extends BaseEffect {\n  type: EffectType.dmgTrackAdj\n  track: DamageType\n  value: number\n}\n\nexport function isDmgTrackAdj (effect: BaseEffect): effect is DmgTrackAdj {\n  return effect.type === EffectType.dmgTrackAdj\n}\n\ninterface SkillMaxAdj extends BaseEffect {\n  type: EffectType.skillMaxAdj\n  skill: string\n  value: number\n}\n\nexport function isSkillMaxAdj (effect: BaseEffect): effect is SkillMaxAdj {\n  return effect.type === EffectType.skillMaxAdj\n}\n\ninterface AttrOverride extends BaseEffect {\n  type: EffectType.attrOverride\n  attr: string\n  value: number\n}\n\nexport function isAttrOverride (effect: BaseEffect): effect is AttrOverride {\n  return effect.type === EffectType.attrOverride\n}\n\ninterface InitAdj extends BaseEffect {\n  type: EffectType.initAdj\n  value: number\n}\n\nexport function isInitAdj (effect: BaseEffect): effect is InitAdj {\n  return effect.type === EffectType.initAdj\n}\n\ninterface SkillAdj extends BaseEffect {\n  type: EffectType.skillAdj\n  skill: ActiveSkillId\n  value: number\n}\n\nexport function isSkillAdj (effect: BaseEffect): effect is SkillAdj {\n  return effect.type === EffectType.skillAdj\n}\n\ninterface DicePoolAdj extends BaseEffect {\n  type: EffectType.dicePoolAdj\n  name: string\n  poolType: string\n  value: number\n}\n\nexport function isDicePoolAdj (effect: BaseEffect): effect is DicePoolAdj {\n  return effect.type === EffectType.dicePoolAdj\n}\n\ninterface DefRatingAdj extends BaseEffect {\n  type: EffectType.defRatingAdj\n  value: number\n}\n\nexport function isDefRatingAdj (effect: BaseEffect): effect is DefRatingAdj {\n  return effect.type === EffectType.defRatingAdj\n}\n\ninterface WoundPenaltyAdj extends BaseEffect {\n  type: EffectType.woundPenaltyAdj\n  value: number | 'all' | 'double'\n}\n\nexport function isWoundPenaltyAdj (effect: BaseEffect): effect is WoundPenaltyAdj {\n  return effect.type === EffectType.woundPenaltyAdj\n}\n\nexport type Effect =\n  | AttrAdj\n  | AttrMaxAdj\n  | AttrOverride\n  | DefRatingAdj\n  | DicePoolAdj\n  | DmgTrackAdj\n  | InitAdj\n  | SkillAdj\n  | SkillMaxAdj\n  | WoundPenaltyAdj\n\nexport const collectCharacterEffects = (character: CharacterData): Effect[] => {\n  return [\n    ...collectGearEffects(character.gear),\n    ...collectQualityEffects(character.qualities),\n  ]\n}\n\nexport const collectGearEffects = (gear: GearData[]): Effect[] => {\n  return gear.flatMap(gear => {\n    if (gear.wirelessBonus?.enabled) {\n      return gear.effects || []\n    } else {\n      return gear.effects?.filter(effect => !effect.wireless) || []\n    }\n  })\n}\n\nexport const collectQualityEffects = (qualities: CharacterQuality[]): Effect[] => {\n  return qualities.flatMap(quality => quality.effects || [])\n}\n\nexport const useGameEffects = (): Effect[] => {\n  const character = useCharacterData()\n  if (!character) return []\n  return collectCharacterEffects(character)\n}\n","import { AttrNames } from '../System/Attribute'\nimport { ArmorAttrNames } from './Armor/ArmorAttr'\nimport { AugmentAttrNames } from './Augments/AugmentAttr'\nimport { CommlinkAttrNames } from './Commlink/CommlinkAttr'\nimport { KitAttrNames } from './Kit/KitAttr'\nimport { LicenseAttrNames } from './License/LicenseAttr'\nimport { SinAttrNames } from './License/SinAttr'\nimport { OtherGearAttrNames } from './OtherGearData'\nimport { RccAttrNames } from './Rcc/RccAttr'\nimport { AutosoftAttrNames } from './Software/Autosoft/AutosoftAttr'\nimport { VehicleAttrNames } from './Vehicles/VehicleAttr'\nimport { VehicleModAttrNames } from './Vehicles/VehicleModData'\nimport { WeaponAttrNames } from './Weapons/WeaponAttr'\n\nexport const GearAttributes: AttrNames = {\n  ...ArmorAttrNames,\n  ...AugmentAttrNames,\n  ...CommlinkAttrNames,\n  ...KitAttrNames,\n  ...LicenseAttrNames,\n  ...SinAttrNames,\n  ...RccAttrNames,\n  ...AutosoftAttrNames,\n  ...VehicleAttrNames,\n  ...VehicleModAttrNames,\n  ...WeaponAttrNames,\n  ...OtherGearAttrNames,\n}\n","export enum DamageType {\n  charPhysical,\n  charStun,\n  vehiclePhysical\n}\n","import { Quality } from '../../../Qualities/Quality'\nimport { formatSkill } from '../../../Skills'\nimport { formatAttr } from '../../../System/Attribute'\nimport { DamageType } from '../../../System/Damage/DamageType'\nimport { EffectType } from '../../../System/Effect'\n\nexport enum QualityIds {\n  // Positive Qualities\n  ambidextrous = 'quality.CRB.ambidextrous',\n  analyticalMind = 'quality.CRB.analyticalMind',\n  aptitude = 'quality.CRB.aptitude',\n  astralChameleon = 'quality.CRB.astralChameleon',\n  blandness = 'quality.CRB.blandness',\n  builtTough = 'quality.CRB.builtTough',\n  catlike = 'quality.CRB.catlike',\n  dermalDeposits = 'quality.CRB.dermalDeposits',\n  doubleJointed = 'quality.CRB.doubleJointed',\n  elementalResistance = 'quality.CRB.elementalResistance',\n  exceptional = 'quality.CRB.exceptional',\n  firstImpression = 'quality.CRB.firstImpression',\n  focusedConcentration = 'quality.CRB.focusedConcentration',\n  gearhead = 'quality.CRB.gearhead',\n  guts = 'quality.CRB.guts',\n  hardening = 'quality.CRB.hardening',\n  highPainTolerance = 'quality.CRB.highPainTolerance',\n  homeGround = 'quality.CRB.homeGround',\n  humanLooking = 'quality.CRB.humanLooking',\n  indomitable = 'quality.CRB.indomitable',\n  juryrigger = 'quality.CRB.juryrigger',\n  longReach = 'quality.CRB.longReach',\n  lowLightVision = 'quality.CRB.lowLightVision',\n  magicResistance = 'quality.CRB.magicResistance',\n  mentorSpirit = 'quality.CRB.mentorSpirit',\n  photographicMemory = 'quality.CRB.photographicMemory',\n  quickHealer = 'quality.CRB.quickHealer',\n  resistanceToPathogens = 'quality.CRB.resistanceToPathogens',\n  spiritSpriteAffinity = 'quality.CRB.spiritSpriteAffinity',\n  thermographicVision = 'quality.CRB.thermographicVision',\n  toughness = 'quality.CRB.toughness',\n  toxinResistance = 'quality.CRB.toxinResistance',\n  willToLive = 'quality.CRB.willToLive',\n\n  // Negative Qualities\n  addiction = 'quality.CRB.addiction',\n  allergy = 'quality.CRB.allergy',\n  arVertigo = 'quality.CRB.arVertigo',\n  astralBeacon = 'quality.CRB.astralBeacon',\n  badLuck = 'quality.CRB.badLuck',\n  badRep = 'quality.CRB.badRep',\n  combatParalysis = 'quality.CRB.combatParalysis',\n  dependents = 'quality.CRB.dependents',\n  distinctiveStyle = 'quality.CRB.distinctiveStyle',\n  elfPoser = 'quality.CRB.elfPoser',\n  glassJaw = 'quality.CRB.glassJaw',\n  gremlins = 'quality.CRB.gremlins',\n  honorbound = 'quality.CRB.honorbound',\n  impairedAttr = 'quality.CRB.impairedAttr',\n  incompetentSkill = 'quality.CRB.incompetentSkill',\n  inDebt = 'quality.CRB.inDebt',\n  insomnia = 'quality.CRB.insomnia',\n  lossOfConfidence = 'quality.CRB.lossOfConfidence',\n  lowPainTolerance = 'quality.CRB.lowPainTolerance',\n  orkPoser = 'quality.CRB.orkPoser',\n  prejudiced = 'quality.CRB.prejudiced',\n  scorched = 'quality.CRB.scorched',\n  sensitiveSystem = 'quality.CRB.sensitiveSystem',\n  simsenseVertigo = 'quality.CRB.simsenseVertigo',\n  sinner = 'quality.CRB.sinner',\n  socialStress = 'quality.CRB.socialStress',\n  spiritSpriteBane = 'quality.CRB.spiritSpriteBan',\n  uncouth = 'quality.CRB.uncouth',\n  uneducated = 'quality.CRB.uneducated',\n  unsteadyHands = 'quality.CRB.unsteadyHands',\n  weakImmuneSystem = 'quality.CRB.weakImmuneSystem',\n}\n\nexport const Qualities: Quality[] = [\n  // Positive Qualities\n  {\n    id: QualityIds.ambidextrous,\n    name: 'Ambidextrous',\n    cost: 4,\n    gameEffect: 'No penalty for off-hand weapon use (CRB p.110).',\n    source: { book: 'CRB', page: 70 },\n  },\n  {\n    id: QualityIds.analyticalMind,\n    name: 'Analytical Mind',\n    cost: 3,\n    gameEffect: 'You gain a bonus Edge whe you make any Logic-based test.',\n    source: { book: 'CRB', page: 70 },\n  },\n  {\n    id: QualityIds.aptitude,\n    name: 'Aptitude (Skill)',\n    cost: 12,\n    source: { book: 'CRB', page: 70 },\n    gameEffect: `\n      Your skill maximum for the selected skill is 10, instead of 9, and your \n      maximum starting rank is 7, instead of 6,\n    `,\n    options: { type: true },\n    getName: ({ type = '(Skill)' }) => `${formatSkill(type)} Aptitude`,\n    getEffects: ({ type = '' }) => [\n      { type: EffectType.skillMaxAdj, skill: type, value: 1 },\n    ],\n  },\n  {\n    id: QualityIds.astralChameleon,\n    name: 'Astral Chameleon',\n    cost: 9,\n    source: { book: 'CRB', page: 70 },\n    gameEffect: `\n      Characters receive 2 dice on tests to recognize your aura or astral \n      signature. Your astral signature fades in half the normal time (CRB p.159).\n    `,\n  },\n  {\n    id: QualityIds.blandness,\n    name: 'Blandness',\n    cost: 8,\n    source: { book: 'CRB', page: 70 },\n    gameEffect: `\n      Characters take a 2 penalty on Memory tests (CRB p.67) to remember if they \n      have seen you before, and the threshold on tests to notice if you are \n      following or observing them is increased by 1. If the character acquires \n      something permanent and distinctiveobvious, unusual cyberware, a unique \n      tattoo, that sort of thingthey lose this quality. If they acquire \n      something temporarily distinctive, such as an extreme hairdo, the effects \n      are negated until those changes are reversed.\n    `,\n  },\n  {\n    id: QualityIds.builtTough,\n    name: 'Built Tough',\n    cost: 4,\n    source: { book: 'CRB', page: 70 },\n    gameEffect: `\n      You have a number of additional boxes on your Physical Condition Monitor \n      equal to the rank of this quality\n    `,\n    maxLevel: 4,\n    options: {\n      level: true,\n    },\n    getEffects: ({ level = 1 }) => [\n      { type: EffectType.dmgTrackAdj, track: DamageType.charPhysical, value: level },\n    ],\n  },\n  {\n    id: QualityIds.catlike,\n    name: 'Catlike',\n    cost: 12,\n    source: { book: 'CRB', page: 71 },\n    gameEffect: `\n      You gain a bonus Edge on all tests for balance, falling, and landing safely. \n      Note the rules on Preventing Edge Abuse, CRB p.45.\n    `,\n  },\n  {\n    id: QualityIds.dermalDeposits,\n    name: 'Dermal Deposits',\n    cost: 7,\n    source: { book: 'CRB', page: 71 },\n    gameEffect: `\n     You gain 1 level of natural Armor. Your Unarmed Melee attacks inflict \n     Physical damage\n    `,\n    getEffects: () => [\n      { type: EffectType.defRatingAdj, value: 1 },\n    ],\n  },\n  {\n    id: QualityIds.doubleJointed,\n    name: 'Double Jointed',\n    cost: 12,\n    source: { book: 'CRB', page: 71 },\n    gameEffect: `\n      You gain a bonus Edge on all tests involving grappling, escaping bonds, \n      flexibility, or fitting into tight spaces. Note the rules on Preventing \n      Edge Abuse, CRB p.45.\n    `,\n  },\n  {\n    id: QualityIds.elementalResistance,\n    name: '(Elemental) Resistance',\n    getName: ({ type = '(Element)' }) => `${type} Resistance`,\n    cost: 12,\n    source: { book: 'CRB', page: 71 },\n    gameEffect: `\n      When attacked with a weapon or spell (including unarmed combat by a spirit)\n      that does this form of damage, gain a point of Edge before making your \n      Defense test.\n    `,\n    options: { type: true },\n  },\n  {\n    id: QualityIds.exceptional,\n    name: 'Exceptional (Attribute)',\n    getName: ({ type = '(Attribute)' }) => `Exceptional ${formatAttr(type)}`,\n    cost: 12,\n    source: { book: 'CRB', page: 71 },\n    gameEffect: `\n      Select a Physical or Mental attribute. That attribute's maximum (but not\n      current) rank increases by 1. This quality can only be purchased once per\n      attribute.\n    `,\n    options: { type: true },\n    getEffects: ({ type = '' }) => [\n      { type: EffectType.attrMaxBonus, attr: type, value: 1 },\n    ],\n  },\n  {\n    id: QualityIds.firstImpression,\n    name: 'First Impression',\n    cost: 12,\n    source: { book: 'CRB', page: 71 },\n    gameEffect: `\n      You gain 2 Edge for Social Tests during your first meeting with anyone,\n      and both your Heat and Reputation are ignored for this first encounter.\n    `,\n  },\n  {\n    id: QualityIds.focusedConcentration,\n    name: 'Focused Concentration',\n    cost: 12,\n    source: { book: 'CRB', page: 71 },\n    gameEffect: `\n      You can sustain multiple spells or complex forms without penalty. For each\n      level, you can sustain 1 additional spell or complex form without \n      suffering the associated penalty. The spell cannot have a modified Drain \n      Value of 7 or greater\n    `,\n    maxLevel: 3,\n    options: { type: true },\n  },\n  {\n    id: QualityIds.gearhead,\n    name: 'Gearhead',\n    cost: 10,\n    source: { book: 'CRB', page: 71 },\n    gameEffect: `\n      You gain an Edge on Repair tests for any vehicle and can spend Edge \n      during downtime to make Extended Repair tests.\n    `,\n  },\n  {\n    id: QualityIds.guts,\n    name: 'Guts',\n    cost: 12,\n    source: { book: 'CRB', page: 71 },\n    gameEffect: `\n      You gain an Edge when resisting Intimidation or effects that cause the\n      Frightened status.\n    `,\n  },\n  {\n    id: QualityIds.hardening,\n    name: 'Hardening',\n    cost: 10,\n    source: { book: 'CRB', page: 72 },\n    gameEffect: `\n      You gain a bonus Edge when making Matrix Damage Resistance tests. If you \n      do not use that point of Edge immediately on the Damage Resistance test, \n      it goes away. When struck by any damage in the Matrix, you can convert up\n      to two boxes to Stun Damage, rather than Matrix damage, protecting your \n      persona at the cost of yourself.\n    `,\n  },\n  {\n    id: QualityIds.highPainTolerance,\n    name: 'High Pain Tolerance',\n    cost: 7,\n    source: { book: 'CRB', page: 72 },\n    gameEffect: `\n      When wounded, reduce your wound penalty by one (to a minimum of 0)\n    `,\n    getEffects: () => [\n      { type: EffectType.woundPenaltyAdj, value: 1 },\n    ],\n  },\n  {\n    id: QualityIds.homeGround,\n    name: 'Home Ground',\n    cost: 10,\n    source: { book: 'CRB', page: 72 },\n    gameEffect: `\n      Select a neighborhood or Matrix host each time you take this quality. \n      Outdoors and Perception tests made in your Home Ground gain an Edge for\n      use on that test; if you do not use the Edge on that test, it goes away.\n    `,\n  },\n  {\n    id: QualityIds.humanLooking,\n    name: 'Human-Looking',\n    cost: 8,\n    source: { book: 'CRB', page: 72 },\n    gameEffect: `\n      You generally appear human at first glance and gain +2 dice on Disguise\n      tests to hide your metatype and appear more human.\n    `,\n  },\n  {\n    id: QualityIds.indomitable,\n    name: 'Indomitable',\n    cost: 12,\n    source: { book: 'CRB', page: 72 },\n    gameEffect: `\n      Edge Boost costs are reduced by 1 on tests involving Willpower\n    `,\n  },\n  {\n    id: QualityIds.juryrigger,\n    name: 'Juryrigger',\n    cost: 12,\n    source: { book: 'CRB', page: 72 },\n    gameEffect: `\n      When performing a Juryrigging test (see CRB p.95), you gain a point of Edge that must \n      be spent on that test, or it goes away.\n    `,\n  },\n  {\n    id: QualityIds.longReach,\n    name: 'Long Reach',\n    cost: 12,\n    source: { book: 'CRB', page: 72 },\n    gameEffect: `\n      When you are using a melee weapon, Close range is extended to 5 meters \n      instead of 3.\n    `,\n  },\n  {\n    id: QualityIds.lowLightVision,\n    name: 'Low-Light Vision',\n    cost: 6,\n    source: { book: 'CRB', page: 72 },\n    gameEffect: `\n      You can see clearly in any light level that is not total darkness\n      (See Environment and Visibility, CRB p.118).\n    `,\n  },\n  {\n    id: QualityIds.magicResistance,\n    name: 'Magic Resistance',\n    cost: 8,\n    source: { book: 'CRB', page: 72 },\n    gameEffect: `\n      You gain a bonus Edge for use on any Magic Resistance test; if you do not\n      use it on that test, that point goes away. When a Health spell is cast on\n      you, treat your Essence as if it were 2 points lower than it actually is.\n    `,\n  },\n  {\n    id: QualityIds.mentorSpirit,\n    name: 'Mentor Spirit',\n    cost: 10,\n    source: { book: 'CRB', page: 73 },\n    gameEffect: `\n      You gain the benefits listed with the description of your mentor spirit \n      (CRB p.162). If you fail to keep aligned with one of those tenets, you lose\n      your faith and connection to your mentor and all associated bonuses.\n    `,\n  },\n  {\n    id: QualityIds.photographicMemory,\n    name: 'Photographic Memory',\n    cost: 12,\n    source: { book: 'CRB', page: 73 },\n    gameEffect: `\n      You gain a bonus Edge point when making a Memory test (CRB p.67). If you do\n      not use this point of Edge on the test, it goes away\n    `,\n  },\n  {\n    id: QualityIds.quickHealer,\n    name: 'Quick Healer',\n    cost: 8,\n    source: { book: 'CRB', page: 73 },\n    gameEffect: `\n      Cut the interval for any natural healing test (CRB p.120) in half, meaning\n      you can heal Stun Damage after half an hour and Physical Damage after half\n      a day.\n    `,\n  },\n  {\n    id: QualityIds.resistanceToPathogens,\n    name: 'Resistance to Pathogens',\n    cost: 12,\n    source: { book: 'CRB', page: 73 },\n    gameEffect: `\n      You gain a bonus point of Edge when you make a Pathogen Resistance test.\n      If you do not use it on that test, it goes away.\n    `,\n  },\n  {\n    id: QualityIds.spiritSpriteAffinity,\n    name: 'Spirit/Sprite Affinity',\n    getName: ({ type = 'Spirit' }) => `${type} Affinity`,\n    cost: 14,\n    source: { book: 'CRB', page: 73 },\n    gameEffect: `\n      When selecting this quality, choose a type of spirit or sprite. You gain a\n      bonus point of Edge when making a Conjuring or Tasking test for your\n      chosen class of spirits/sprites. This quality can be taken multiple times,\n      selecting a new class of spirits/sprites each time.\n    `,\n    options: { type: true },\n  },\n  {\n    id: QualityIds.thermographicVision,\n    name: 'Thermographic Vision',\n    cost: 8,\n    source: { book: 'CRB', page: 73 },\n    gameEffect: `\n      You can see the heat of objects in total darkness (assuming they are \n      warmer or colder than the ambient temperature), allowing you to operate \n      in such conditions.\n    `,\n  },\n  {\n    id: QualityIds.toughness,\n    name: 'Toughness',\n    cost: 12,\n    source: { book: 'CRB', page: 73 },\n    gameEffect: `\n      You gain a bonus point of Edge when making Damage Resistance tests. If\n      you do not use it on the test, it goes away.\n    `,\n  },\n  {\n    id: QualityIds.toxinResistance,\n    name: 'Toxin Resistance',\n    cost: 12,\n    source: { book: 'CRB', page: 73 },\n    gameEffect: `\n      You gain a bonus point of Edge when you make a Toxin Resistance test \n      (CRB p.121). If you do not use it on that test, it goes away.\n    `,\n  },\n  {\n    id: QualityIds.willToLive,\n    name: 'Will to Live',\n    cost: 8,\n    source: { book: 'CRB', page: 74 },\n    maxLevel: 3,\n    gameEffect: `\n      For every rank of this quality you possess, you gain two additional Damage\n      Overflow boxes (see p. 121).\n    `,\n  },\n\n  // Negative Qualities\n  {\n    id: QualityIds.addiction,\n    name: 'Addiction',\n    getName: ({ type = '' }) => `Addiction (${type})`,\n    bonus: 2,\n    source: { book: 'CRB', page: 74 },\n    maxLevel: 6,\n    options: { level: true },\n    gameEffect: `\n      You cannot earn Edge or spend Edge in any form while suffering withdrawal. \n      When in withdrawal, take a penalty on all tests: -2 after 1 day, -4 after \n      3 days, and -6 after a week. \n    `,\n  },\n  {\n    id: QualityIds.allergy,\n    name: 'Allergy',\n    getName: ({ type = '' }) => `Allergy (${type})`,\n    bonus: 1,\n    maxLevel: 20,\n    source: { book: 'CRB', page: 74 },\n    options: { level: true, type: true },\n    gameEffect: `\n      Select an allergen and severity to determine Karma value. You cannot spend\n      addiction withdrawal table or earn Edge while exposed to your allergen.\n      You also suffer secondary effects.\n    `,\n  },\n  {\n    id: QualityIds.arVertigo,\n    name: 'Ar Vertigo',\n    bonus: 10,\n    source: { book: 'CRB', page: 75 },\n    gameEffect: `\n      You cannot gain or spend Edge while utilizing AR of any sort. You also\n      gain the Nauseated status (CRB p.52) while using AR and for one hour after\n      you exit it.\n    `,\n  },\n  {\n    id: QualityIds.astralBeacon,\n    name: 'Astral Beacon',\n    bonus: 10,\n    source: { book: 'CRB', page: 75 },\n    gameEffect: `\n      You are considered Untrained for all Stealth tests in the astral plane. \n      You can never take the masking metamagic. Assensing tests made against \n      you get a free Edge, and all thresholds are reduced by 1. Astral Tracking \n      tests made against you gain 2 Edge, and all thresholds are reduced by half.\n    `,\n  },\n  {\n    id: QualityIds.badLuck,\n    name: 'Bad Luck',\n    bonus: 10,\n    source: { book: 'CRB', page: 75 },\n    gameEffect: `\n      Glitches occur more frequently. Count dice showing both 1 and 2 for\n      determining a glitch. This does not affect critical glitches, only\n      regular glitches.\n    `,\n  },\n  {\n    id: QualityIds.badRep,\n    name: 'Bad Rep',\n    bonus: 8,\n    source: { book: 'CRB', page: 75 },\n    gameEffect: `\n      You cannot spend Edge on Social tests. If you engage in a Teamwork test \n      to assist a Social test, no one can spend Edge, and the opposing \n      individual gains a point of Edge.\n    `,\n  },\n  {\n    id: QualityIds.combatParalysis,\n    name: 'Combat Paralysis',\n    bonus: 8,\n    source: { book: 'CRB', page: 75 },\n    gameEffect: `\n      You cannot spend Edge on Social tests. If you engage in a Teamwork test \n      to assist a Social test, no one can spend Edge, and the opposing\n      individual gains a point of Edge.\n    `,\n  },\n  {\n    id: QualityIds.dependents,\n    name: 'Dependents',\n    bonus: 4,\n    source: { book: 'CRB', page: 75 },\n    maxLevel: 3,\n    options: { level: true },\n    gameEffect: `\n      Choose a level for the dependents. Level 1 dependents are the equivalent\n      of a family member who does not live with allergy table you but still\n      needs support. Five percent of any score goes to this person. Level 2\n      dependents are more stable costs, like the support of a high-maintenance\n      significant other, a child, or a small family. This level costs the runner\n      10 percent of every score. Level 3 dependents are rare in the shadows, \n      because most runners dont have a regular family and a second life outside\n      the shadows, which is what this level entails. This level costs the runner\n      25 percent of all their scores\n    `,\n  },\n  {\n    id: QualityIds.distinctiveStyle,\n    name: 'Distinctive Style',\n    bonus: 6,\n    source: { book: 'CRB', page: 76 },\n    gameEffect: `\n      You cannot gain or spend Edge when youre not rocking your distinctive\n      look. Others get a +2 dice pool bonus when conducting a Memory test\n      (CRB p.67) to recall your appearance or remember if they have seen you \n      before.\n    `,\n  },\n  {\n    id: QualityIds.elfPoser,\n    name: 'Elf Poser',\n    bonus: 6,\n    source: { book: 'CRB', page: 76 },\n    gameEffect: `\n      Elves, orks, and trolls gain a point of Edge in Influence (Etiquette)\n      tests made against you.\n    `,\n  },\n  {\n    id: QualityIds.glassJaw,\n    name: 'Glass Jaw',\n    bonus: 4,\n    source: { book: 'CRB', page: 76 },\n    gameEffect: `\n      You have 1 less Stun Box for each level of this Quality, down to a\n      minimum of 2.\n    `,\n    getEffects: ({ level = 1 }) => [\n      { type: EffectType.dmgTrackAdj, track: DamageType.charStun, value: level * -1 },\n    ],\n  },\n  {\n    id: QualityIds.gremlins,\n    name: 'Gremlins',\n    bonus: 6,\n    source: { book: 'CRB', page: 76 },\n    gameEffect: `\n      Whenever you use any device, roll 2D6. If you get a 1 on either die, it\n      means the device fails to function correctly and can be treated as a\n      glitch. The device can be quickly reset with a Minor Action and used \n      again. Rolling snake eyes (double 1s) means the device fails \n      catastrophically, and the roll can be treated like a critical glitch. The \n      device is done  for good and you might be in for a bit of hurt from shock\n      or biofeedback.\n    `,\n  },\n  {\n    id: QualityIds.honorbound,\n    name: 'Honorbound',\n    bonus: 10,\n    source: { book: 'CRB', page: 76 },\n    gameEffect: `\n     You cannot spend or earn Edge for twenty-four hours after you break a \n     tenet of your code. If the same tenet is broken multiple times or broken \n     again during the twenty-four hour period, each infraction adds another \n     forty-eight hours onto the initial twenty-four. If a different tenet is \n     broken, its twenty-four hours for that one added to any current \n     infractions, and the same rules apply for additional violations. See the \n     Honorbound sidebar for some sample codes and tenets.\n    `,\n  },\n  {\n    id: QualityIds.impairedAttr,\n    name: 'Impaired (Attribute)',\n    getName: ({ type = 'Attribute' }) => `Impaired ${formatAttr(type)}`,\n    bonus: 8,\n    source: { book: 'CRB', page: 76 },\n    options: { level: true, type: true },\n    gameEffect: `\n       For each level, the characters maximum for the chosen attribute \n       decreases by 1, to a minimum of 2.\n    `,\n    getEffects: ({ type = '', level = 1 }) => [\n      { type: EffectType.attrMaxBonus, attr: type, value: level * -1 },\n    ],\n  },\n  {\n    id: QualityIds.incompetentSkill,\n    name: 'Incompetent Skill',\n    getName: ({ type = 'skill' }) => `Impaired ${type}`,\n    bonus: 10,\n    source: { book: 'CRB', page: 76 },\n    gameEffect: `\n      When this quality is chosen, select a skill. You are unable to gain ranks\n      in the selected skill. You cannot be Incompetent in skills you have no\n      chance to perform - so you cannot choose this quality for Magic skills if\n      you do not have a Magic rating, and you cannot choose it for Tasking if\n      you do not have a Resonance rating. This skill may only be selected once.\n    `,\n  },\n  {\n    id: QualityIds.inDebt,\n    name: 'In Debt',\n    bonus: 0,\n    source: { book: 'CRB', page: 77 },\n    options: { level: true },\n    gameEffect: `\n      When you spend Karma for cash, every point of Karma you spend gets you \n      5,000 instead of 2,000 nuyen. Each point of Karma spent also puts you \n      5,000 nuyen into debt with someone very dangerous and capable of \n      collecting. You must pay a monthly interest rate of 500 nuyen per Karma \n      spent, in addition to any payment to the principal. If the interest is \n      not paid, the lenders come searching for you. The quality can be bought \n      off purely with money; if the principal is repaid the quality is \n      eliminated. This quality can be obtained only during character creation, \n      not during gameplay.\n    `,\n  },\n  {\n    id: QualityIds.insomnia,\n    name: 'Insomnia',\n    bonus: 4,\n    source: { book: 'CRB', page: 77 },\n    gameEffect: `\n      Without proper rest, you cant regain Edge or spend it as you might like.\n      Each day the runner must make a Body + Willpower (3) test to get a\n      successful night of rest. If they fail, they cannot earn more than two\n      Edge from any source that day. Also, they cannot spend more than 2 Edge\n      on any given test. The purchase and use of a sleep regulator reduces the\n      threshold on the test to 1. The runner can also purchase medication\n      (50 nuyen/dose) that reduces the threshold to 2.\n    `,\n  },\n  {\n    id: QualityIds.lossOfConfidence,\n    name: 'Loss Of Confidence',\n    bonus: 6,\n    source: { book: 'CRB', page: 78 },\n    gameEffect: `\n      During any encounter, the runner must make a Willpower (2) test as a \n      Minor Action. Failure means they cannot earn or spend Edge for the entire \n      encounter.\n    `,\n  },\n  {\n    id: QualityIds.lowPainTolerance,\n    name: 'Low Pain Tolerance',\n    bonus: 10,\n    source: { book: 'CRB', page: 78 },\n    gameEffect: 'All wound modifiers are doubled',\n    getEffects: () => [\n      { type: EffectType.woundPenaltyAdj, value: 'double' },\n    ],\n  },\n  {\n    id: QualityIds.orkPoser,\n    name: 'Ork Poser',\n    bonus: 6,\n    source: { book: 'CRB', page: 78 },\n    gameEffect: `\n      Elves, orks, and trolls gain a point of Edge in Influence (Etiquette)\n      tests made against you.\n    `,\n  },\n  {\n    id: QualityIds.prejudiced,\n    name: 'Prejudiced (Group)',\n    bonus: 8,\n    source: { book: 'CRB', page: 78 },\n    gameEffect: `\n      Select a specific group or type of people. You are unable to gain or use \n      Edge while the object of your prejudice is present (unless youre \n      directly opposing them).\n    `,\n  },\n  {\n    id: QualityIds.scorched,\n    name: 'Scorched',\n    bonus: 6,\n    source: { book: 'CRB', page: 78 },\n    gameEffect: `\n      You cannot spend Edge while accessing the Matrix. This includes through\n      use of commlinks, smartlinks, and any other source of data coming in from\n      the ether.\n    `,\n  },\n  {\n    id: QualityIds.sensitiveSystem,\n    name: 'Sensitive System',\n    bonus: 8,\n    source: { book: 'CRB', page: 78 },\n    gameEffect: `\n      Essence costs are doubled for all cyberware, bioware, and nanoware. \n      Geneware suffers no ill effects. You cannot have this quality if you have\n      a Magic or Resonance rating.\n    `,\n  },\n  {\n    id: QualityIds.simsenseVertigo,\n    name: 'Simsense Vertigo',\n    bonus: 6,\n    source: { book: 'CRB', page: 78 },\n    gameEffect: `\n      You cannot gain or spend Edge while accessing the Matrix via VR. You also\n      receive the Nauseated status (CRB p.52) for one hour after you log off the\n      Matrix.\n    `,\n  },\n  {\n    id: QualityIds.sinner,\n    name: 'Sinner',\n    bonus: 8,\n    source: { book: 'CRB', page: 78 },\n    gameEffect: `\n      You pay taxes to the issuer of your SIN, either a megacorporation or a \n      nation. This cost comes as a 10 percent increase in the cost of the \n      lifestyle associated with this SIN. Due to data within the Global SIN \n      Registry, you are easier to track or identify, giving opponents a point \n      of Edge every time they attempt a Trace Icon action against you.\n    `,\n  },\n  {\n    id: QualityIds.socialStress,\n    name: 'Social Stress',\n    getName: ({ type }) => `Social Stress (${type})`,\n    bonus: 8,\n    source: { book: 'CRB', page: 78 },\n    options: { type: true },\n    gameEffect: `\n      Select a specific social stressor. When encountering your social\n      stressor, you must make a Charisma (2) test as a Minor Action. Failure\n      means you cannot earn or spend Edge until you succeed. You can choose\n      not to take the test but if so, any tests made against you gain a bonus\n      Edge.\n    `,\n  },\n  {\n    id: QualityIds.spiritSpriteBane,\n    name: 'Spirit/Sprite Bane',\n    getName: ({ type }) => `${type} Bane`,\n    bonus: 12,\n    source: { book: 'CRB', page: 79 },\n    options: { type: true },\n    gameEffect: `\n      When selecting this quality, choose a type of spirit or sprite. \n      Spirits/sprites from that category gain a bonus point of Edge when you \n      attempt a Conjuring or Tasking test against them. This quality can be \n      taken multiple times, selecting a new class of spirits/sprites each time.\n      In combat, spirits/sprites of the chosen type will attack you first and\n      relentlessly, often to the point of savaging a dead body or bricking a\n      deck if they have nothing else to do.\n    `,\n  },\n  {\n    id: QualityIds.uncouth,\n    name: 'Uncouth',\n    bonus: 6,\n    source: { book: 'CRB', page: 79 },\n    gameEffect: 'You cannot spend Edge on any test using Charisma',\n  },\n  {\n    id: QualityIds.uneducated,\n    name: 'Uneducated',\n    bonus: 6,\n    source: { book: 'CRB', page: 79 },\n    gameEffect: 'You cannot spend Edge on any test using Logic.',\n  },\n  {\n    id: QualityIds.unsteadyHands,\n    name: 'Unsteady Hands',\n    bonus: 4,\n    source: { book: 'CRB', page: 79 },\n    gameEffect: `\n      You cannot spend Edge on any test using Agility that directly involves \n      your hands (that is, a Stealth test to pull off sleightof-hand would \n      directly involve the hands, as would an Attack test with any weapon held \n      in the hands, but an Athletics test involving running would not, even \n      though the hands are in motion while running).\n    `,\n  },\n  {\n    id: QualityIds.weakImmuneSystem,\n    name: 'Weak Immune System',\n    bonus: 8,\n    source: { book: 'CRB', page: 79 },\n    gameEffect: `\n      You cannot spend Edge to resist the effects of an infection. The threshold\n      for fighting off any infection you are exposed to is increased by 1. While\n      suffering the ill effects of an illness, you suffer a 1 dice pool\n      modifier to all tests.\n    `,\n  },\n]\n","import { CharacterAttrNames } from '../Character/CharacterAttr'\nimport { GearAttributes } from '../Gear/GearAttributes'\nimport { GearData } from '../Gear/GearData'\nimport { collectGearEffects, isAttrAdj, isAttrOverride } from './Effect'\n\nexport type AttrType = string\nexport type AttrValue = number | string | null | undefined\nexport type AttrList<T = AttrValue> = Record<AttrType, T | undefined>\nexport type AttrNames = Record<AttrType, string>\n\nconst attributeNames: AttrNames = {\n  ...CharacterAttrNames,\n  ...GearAttributes,\n}\n\nexport const formatAttr = (type: string): string => {\n  return attributeNames[type] || type\n}\n\nexport const calculateAttributes = (attrs: AttrList, gear: GearData[]): AttrList => {\n  const adjustedAttrs: AttrList = {}\n\n  Object.entries(attrs).forEach(([attr, value]) => {\n    if (typeof value === 'number') value = calculateAttribute(attr, value, gear)\n    adjustedAttrs[attr] = value\n  })\n\n  return adjustedAttrs\n}\n\nexport const calculateAttribute = (attr: string, value: number, gear: GearData[]): number => {\n  const effects = collectGearEffects(gear)\n\n  const overrides = effects\n    .filter(isAttrOverride)\n    .filter(effect => effect.attr === attr)\n    .map(effect => effect.value)\n\n  if (overrides.length >= 1) return Math.max(...overrides)\n\n  return effects\n    .filter(isAttrAdj)\n    .filter(effect => effect.attr === attr)\n    .reduce((sum, effect) => sum + effect.value, value)\n}\n","import { CharacterAttr } from '../../../Character/CharacterAttr'\nimport { ActiveSkill } from '../../../Skills'\nimport { Specializations } from './Specializations'\n\nexport enum ActiveSkillId {\n  astral = 'skill.CRB.astral',\n  athletics = 'skill.CRB.athletics',\n  biotech = 'skill.CRB.biotech',\n  closeCombat = 'skill.CRB.closeCombat',\n  con = 'skill.CRB.con',\n  conjuring = 'skill.CRB.conjuring',\n  cracking = 'skill.CRB.cracking',\n  electronics = 'skill.CRB.electronics',\n  enchanting = 'skill.CRB.enchanting',\n  engineering = 'skill.CRB.engineering',\n  exoticWeapons = 'skill.CRB.exoticWeapons',\n  firearms = 'skill.CRB.firearms',\n  influence = 'skill.CRB.influence',\n  outdoors = 'skill.CRB.outdoors',\n  perception = 'skill.CRB.perception',\n  piloting = 'skill.CRB.piloting',\n  sorcery = 'skill.CRB.sorcery',\n  stealth = 'skill.CRB.stealth',\n  tasking = 'skill.CRB.tasking',\n}\n\nexport const ActiveSkills: ActiveSkill[] = [\n  {\n    id: ActiveSkillId.astral,\n    name: 'Astral',\n    untrained: false,\n    attr: CharacterAttr.intuition,\n    specializations: Object.values(Specializations.Astral),\n  },\n  {\n    id: ActiveSkillId.athletics,\n    name: 'Athletics',\n    untrained: true,\n    attr: CharacterAttr.agility,\n    altAttr: CharacterAttr.strength,\n    specializations: Object.values(Specializations.Athletics),\n  },\n  {\n    id: ActiveSkillId.biotech,\n    name: 'Biotech',\n    untrained: false,\n    attr: CharacterAttr.logic,\n    altAttr: CharacterAttr.intuition,\n    specializations: Object.values(Specializations.Biotech),\n  },\n  {\n    id: ActiveSkillId.closeCombat,\n    name: 'Close Combat',\n    untrained: true,\n    attr: CharacterAttr.agility,\n    specializations: Object.values(Specializations.CloseCombat),\n  },\n  {\n    id: ActiveSkillId.con,\n    name: 'Con',\n    untrained: true,\n    attr: CharacterAttr.charisma,\n    specializations: Object.values(Specializations.Con),\n  },\n  {\n    id: ActiveSkillId.conjuring,\n    name: 'Conjuring',\n    untrained: false,\n    attr: CharacterAttr.magic,\n    specializations: Object.values(Specializations.Conjuring),\n  },\n  {\n    id: ActiveSkillId.cracking,\n    name: 'Cracking',\n    untrained: false,\n    attr: CharacterAttr.logic,\n    specializations: Object.values(Specializations.Cracking),\n  },\n  {\n    id: ActiveSkillId.electronics,\n    name: 'Electronics',\n    untrained: true,\n    attr: CharacterAttr.logic,\n    altAttr: CharacterAttr.intuition,\n    specializations: Object.values(Specializations.Electronics),\n  },\n  {\n    id: ActiveSkillId.enchanting,\n    name: 'Enchanting',\n    untrained: false,\n    attr: CharacterAttr.magic,\n    specializations: Object.values(Specializations.Enchanting),\n  },\n  {\n    id: ActiveSkillId.engineering,\n    name: 'Engineering',\n    untrained: true,\n    attr: CharacterAttr.logic,\n    altAttr: CharacterAttr.intuition,\n    specializations: Object.values(Specializations.Engineering),\n  },\n  {\n    id: ActiveSkillId.exoticWeapons,\n    name: 'Exotic Weapons',\n    untrained: false,\n    attr: CharacterAttr.agility,\n    multiSpecialization: true,\n    specializations: Object.values(Specializations.ExoticWeapons),\n  },\n  {\n    id: ActiveSkillId.firearms,\n    name: 'Firearms',\n    untrained: true,\n    attr: CharacterAttr.agility,\n    specializations: Object.values(Specializations.Firearms),\n  },\n  {\n    id: ActiveSkillId.influence,\n    name: 'Influence',\n    untrained: true,\n    attr: CharacterAttr.charisma,\n    altAttr: CharacterAttr.logic,\n    specializations: Object.values(Specializations.Influence),\n  },\n  {\n    id: ActiveSkillId.outdoors,\n    name: 'Outdoors',\n    untrained: true,\n    attr: CharacterAttr.intuition,\n    specializations: Object.values(Specializations.Outdoors),\n  },\n  {\n    id: ActiveSkillId.perception,\n    name: 'Perception',\n    untrained: true,\n    attr: CharacterAttr.intuition,\n    altAttr: CharacterAttr.logic,\n    specializations: Object.values(Specializations.Perception),\n  },\n  {\n    id: ActiveSkillId.piloting,\n    name: 'Piloting',\n    untrained: true,\n    attr: CharacterAttr.reaction,\n    specializations: Object.values(Specializations.Piloting),\n  },\n  {\n    id: ActiveSkillId.sorcery,\n    name: 'Sorcery',\n    untrained: false,\n    attr: CharacterAttr.magic,\n    specializations: Object.values(Specializations.Sorcery),\n  },\n  {\n    id: ActiveSkillId.stealth,\n    name: 'Stealth',\n    untrained: true,\n    attr: CharacterAttr.agility,\n    specializations: Object.values(Specializations.Stealth),\n  },\n  {\n    id: ActiveSkillId.tasking,\n    name: 'Tasking',\n    untrained: false,\n    attr: CharacterAttr.resonance,\n    specializations: Object.values(Specializations.Tasking),\n  },\n]\n","export const Specializations = {\n  Astral: {\n    AstralCombat: 'Astral Combat',\n    AstralSignatures: 'Astral Signatures',\n    EmotionalStates: 'Emotional States',\n    SpiritTypes: 'Spirit Types',\n  },\n  Athletics: {\n    Archery: 'Archery',\n    Climbing: 'Climbing',\n    Flying: 'Flying',\n    Gymnastics: 'Gymnastics',\n    Sprinting: 'Sprinting',\n    Swimming: 'Swimming',\n    Throwing: 'Throwing',\n  },\n  Biotech: {\n    Biotechnology: 'Biotechnology',\n    Cybertechnology: 'Cybertechnology',\n    FirstAid: 'First Aid',\n    Medicine: 'Medicine',\n  },\n  CloseCombat: {\n    Blades: 'Blades',\n    Clubs: 'Clubs',\n    UnarmedCombat: 'Unarmed Combat',\n  },\n  Con: {\n    Acting: 'Acting',\n    Disguise: 'Disguise',\n    Impersonation: 'Impersonation',\n    Performance: 'Performance',\n  },\n  Conjuring: {\n    Banishing: 'Banishing',\n    Summoning: 'Summoning',\n  },\n  Cracking: {\n    Cybercombat: 'Cybercombat',\n    ElectronicWarfare: 'Electronic Warfare',\n    Hacking: 'Hacking',\n  },\n  Electronics: {\n    Computer: 'Computer',\n    Hardware: 'Hardware',\n    Software: 'Software',\n  },\n  Enchanting: {\n    Alchemy: 'Alchemy',\n    Artificing: 'Artificing',\n    Disenchanting: 'Disenchanting',\n  },\n  Engineering: {\n    AeronauticsMechanic: 'Aeronautics Mechanic',\n    Armorer: 'Armorer',\n    AutomotiveMechanic: 'Automotive Mechanic',\n    Demolitions: 'Demolitions',\n    Gunnery: 'Gunnery',\n    IndustrialMechanic: 'Industrial Mechanic',\n    Lockpicking: 'Lockpicking',\n    NauticalMechanic: 'Nautical Mechanic',\n  },\n  ExoticWeapons: {},\n  Firearms: {\n    Tasers: 'Tasers',\n    HoldOuts: 'Hold-Outs',\n    LightPistols: 'Light Pistols',\n    MachinePistols: 'Machine Pistols',\n    HeavyPistols: 'Heavy Pistols',\n    SubmachineGuns: 'Submachine Guns',\n    Shotguns: 'Shotguns',\n    Rifles: 'Rifles',\n    MachineGuns: 'Machine Guns',\n    AssaultCannons: 'Assault Cannons',\n  },\n  Influence: {\n    Etiquette: 'Etiquette',\n    Instruction: 'Instruction',\n    Intimidation: 'Intimidation',\n    Leadership: 'Leadership',\n    Negotiation: 'Negotiation',\n  },\n  Outdoors: {\n    Navigation: 'Navigation',\n    Survival: 'Survival',\n    Tracking: 'Tracking',\n  },\n  Perception: {\n    Visual: 'Visual',\n    Aural: 'Aural',\n    Tactile: 'Tactile',\n  },\n  Piloting: {\n    GroundCraft: 'Ground Craft',\n    Aircraft: 'Aircraft',\n    Watercraft: 'Watercraft',\n  },\n  Sorcery: {\n    Counterspelling: 'Counterspelling',\n    RitualSpellcasting: 'Ritual Spellcasting',\n    Spellcasting: 'Spellcasting',\n  },\n  Stealth: {\n    Camouflage: 'Camouflage',\n    Palming: 'Palming',\n    Sneaking: 'Sneaking',\n  },\n  Tasking: {\n    Compiling: 'Compiling',\n    Decompiling: 'Decompiling',\n    Registering: 'Registering',\n  },\n}\n","import { useCharacterData } from '../Character/CharacterProvider'\nimport { Qualities as CrbQualities, QualityIds as CrbQualityIds } from '../data/Rulebooks/CRB'\nimport { Effect } from '../System/Effect'\nimport { Source } from '../System/Source'\nimport { CharacterQuality } from './CharacterQuality'\n\nexport type QualityId = string\n\nexport interface Quality {\n  id: QualityId\n  name: string\n  cost?: number\n  bonus?: number\n  source: Source\n  gameEffect?: string\n\n  options?: QualityOptionFlags\n  maxLevel?: number\n\n  getName? (options: QualityOptions): string\n\n  getEffects? (options: QualityOptions): Effect[]\n}\n\nexport type QualityOptions = {\n  level?: number\n  type?: string\n  notes?: string\n  metaType?: boolean\n}\n\nexport type QualityOptionFlags = {\n  [option in keyof QualityOptions]?: boolean;\n}\n\nexport const QualityIds = {\n  CRB: CrbQualityIds,\n}\n\nexport const Qualities: Record<QualityId, Quality> = {}\nexport const getQuality = (qualityId: QualityId): Quality => Qualities[qualityId]\nconst registerQuality = (quality: Quality) => Qualities[quality.id] = quality\n\nCrbQualities.forEach(registerQuality)\n\nexport const useQualities = (): CharacterQuality[] => {\n  const character = useCharacterData()\n  if (!character) return []\n  return character.qualities\n}\n","import { CharacterAttr } from '../../../Character/CharacterAttr'\nimport { Metatype } from '../../../Character/Metatype'\nimport { toCharQuality } from '../../../Qualities/CharacterQuality'\nimport { QualityIds } from './Qualities'\n\nexport enum MetatypeId {\n  dwarf = 'metatype.CRB.dwarf',\n  elf = 'metatype.CRB.elf',\n  human = 'metatype.CRB.human',\n  ork = 'metatype.CRB.ork',\n  troll = 'metatype.CRB.troll'\n}\n\nexport const Metatypes: Metatype[] = [\n  {\n    id: MetatypeId.dwarf,\n    name: 'Dwarf',\n    qualities: [\n      toCharQuality(QualityIds.toxinResistance),\n      toCharQuality(QualityIds.thermographicVision),\n    ],\n    priorityLevels: ['A', 'B', 'C', 'D', 'E'],\n    attrMaximums: {\n      [CharacterAttr.body]: 7,\n      [CharacterAttr.agility]: 6,\n      [CharacterAttr.reaction]: 5,\n      [CharacterAttr.strength]: 8,\n      [CharacterAttr.willpower]: 7,\n      [CharacterAttr.logic]: 6,\n      [CharacterAttr.intuition]: 6,\n      [CharacterAttr.charisma]: 6,\n      [CharacterAttr.edge]: 7,\n      [CharacterAttr.magic]: 6,\n      [CharacterAttr.resonance]: 6,\n      [CharacterAttr.essence]: 6,\n    },\n  },\n  {\n    id: MetatypeId.elf,\n    name: 'Elf',\n    qualities: [\n      toCharQuality(QualityIds.lowLightVision),\n    ],\n    priorityLevels: ['B', 'C', 'D', 'E'],\n    attrMaximums: {\n      [CharacterAttr.body]: 6,\n      [CharacterAttr.agility]: 7,\n      [CharacterAttr.reaction]: 6,\n      [CharacterAttr.strength]: 6,\n      [CharacterAttr.willpower]: 6,\n      [CharacterAttr.logic]: 6,\n      [CharacterAttr.intuition]: 6,\n      [CharacterAttr.charisma]: 8,\n      [CharacterAttr.edge]: 6,\n      [CharacterAttr.magic]: 6,\n      [CharacterAttr.resonance]: 6,\n      [CharacterAttr.essence]: 6,\n    },\n  },\n  {\n    id: MetatypeId.human,\n    name: 'Human',\n    qualities: [],\n    priorityLevels: ['C', 'D', 'E'],\n    attrMaximums: {\n      [CharacterAttr.body]: 6,\n      [CharacterAttr.agility]: 6,\n      [CharacterAttr.reaction]: 6,\n      [CharacterAttr.strength]: 6,\n      [CharacterAttr.willpower]: 6,\n      [CharacterAttr.logic]: 6,\n      [CharacterAttr.intuition]: 6,\n      [CharacterAttr.charisma]: 6,\n      [CharacterAttr.edge]: 7,\n      [CharacterAttr.magic]: 6,\n      [CharacterAttr.resonance]: 6,\n      [CharacterAttr.essence]: 6,\n    },\n  },\n  {\n    id: MetatypeId.ork,\n    name: 'Ork',\n    qualities: [\n      toCharQuality(QualityIds.lowLightVision),\n      toCharQuality(QualityIds.builtTough, { level: 2 }),\n    ],\n    priorityLevels: ['A', 'B', 'C', 'D', 'E'],\n    attrMaximums: {\n      [CharacterAttr.body]: 8,\n      [CharacterAttr.agility]: 1,\n      [CharacterAttr.reaction]: 1,\n      [CharacterAttr.strength]: 8,\n      [CharacterAttr.willpower]: 1,\n      [CharacterAttr.logic]: 1,\n      [CharacterAttr.intuition]: 1,\n      [CharacterAttr.charisma]: 5,\n      [CharacterAttr.edge]: 1,\n      [CharacterAttr.magic]: 6,\n      [CharacterAttr.resonance]: 6,\n      [CharacterAttr.essence]: 6,\n    },\n  },\n  {\n    id: MetatypeId.troll,\n    name: 'Troll',\n    qualities: [\n      toCharQuality(QualityIds.dermalDeposits),\n      toCharQuality(QualityIds.thermographicVision),\n      toCharQuality(QualityIds.builtTough, { level: 3 }),\n    ],\n    priorityLevels: ['A', 'B', 'C', 'D', 'E'],\n    attrMaximums: {\n      [CharacterAttr.body]: 9,\n      [CharacterAttr.agility]: 5,\n      [CharacterAttr.reaction]: 1,\n      [CharacterAttr.strength]: 9,\n      [CharacterAttr.willpower]: 1,\n      [CharacterAttr.logic]: 1,\n      [CharacterAttr.intuition]: 1,\n      [CharacterAttr.charisma]: 5,\n      [CharacterAttr.edge]: 1,\n      [CharacterAttr.magic]: 6,\n      [CharacterAttr.resonance]: 6,\n      [CharacterAttr.essence]: 6,\n    },\n  },\n]\n","import { Effect } from '../System/Effect'\nimport { Source } from '../System/Source'\nimport { getQuality, Quality, QualityId, QualityOptions } from './Quality'\n\nexport interface CharacterQuality {\n  name: string\n  level?: number\n  cost?: number\n  bonus?: number\n  source?: Source\n  gameEffect?: string\n  effects?: Effect[]\n  notes?: string\n}\n\nexport function toCharQuality (quality: Quality | QualityId, options: QualityOptions = {}): CharacterQuality {\n  if (typeof quality === 'string') quality = getQuality(quality)\n  const level = options.level || 1\n\n  return {\n    name: quality.getName ? quality.getName(options) : quality.name,\n    level: options.level,\n    cost: !options.metaType && quality.cost ? quality.cost * level : undefined,\n    bonus: !options.metaType && quality.bonus ? quality.bonus * level : undefined,\n    source: quality.source,\n    gameEffect: quality.gameEffect,\n    effects: quality.getEffects ? quality.getEffects(options) : [],\n    notes: options.notes,\n  }\n}\n","import { CharacterAttr } from '../Character/CharacterAttr'\nimport { ActiveSkillId as CrbSkillId, ActiveSkills as CrbSkills } from '../data/Rulebooks/CRB'\n\nexport interface ActiveSkill {\n  id: ActiveSkillId\n  name: string\n  untrained: boolean\n  attr: CharacterAttr\n  altAttr?: CharacterAttr\n  specializations: string[]\n  multiSpecialization?: boolean\n}\n\nexport type ActiveSkillId = string;\n\nexport const ActiveSkillIds = {\n  CRB: CrbSkillId,\n}\n\nexport const ActiveSkills: Record<ActiveSkillId, ActiveSkill> = {}\nconst registerSkill = (skill: ActiveSkill) => ActiveSkills[skill.id] = skill\n\nCrbSkills.forEach(registerSkill)\n\nexport function formatSkill (skillId: ActiveSkillId): string {\n  return ActiveSkills[skillId]?.name || ''\n}\n","import { createContext, FC, useContext } from 'react'\n\nimport { AttrList, AttrType, AttrValue } from './Attribute'\n\nconst AttributeContext = createContext<AttrList>({})\n\ninterface AttributeProviderProps {\n  attributes: AttrList\n}\n\nexport const AttributeProvider: FC<AttributeProviderProps> = ({\n  attributes,\n  children,\n}) => {\n  const parentAttrs = useAttributes()\n\n  return (\n    <AttributeContext.Provider value={{ ...parentAttrs, ...attributes }}>\n      {children}\n    </AttributeContext.Provider>\n  )\n}\n\nexport const useAttributes = (keys?: string[]): AttrList => {\n  const allAttributes = useContext(AttributeContext)\n  if (!keys) return allAttributes\n\n  const filtered: AttrList = {}\n  keys.forEach(key => filtered[key] = allAttributes[key])\n  return filtered\n}\n\nexport function useAttribute<T extends AttrValue> (type: AttrType): T {\n  return (useAttributes()[type] as T)\n}\n","import { createContext, FC, useContext, useEffect, useState } from 'react'\n\nimport { RecordId } from '../../Api/Model'\nimport { noOp } from '../../Helpers'\nimport { DamageType } from './DamageType'\n\ntype DamageSetter = (value: number) => void;\n\ntype DamageContextData = {\n  [type in DamageType]?: {\n    value: number\n    setValue?: DamageSetter\n  };\n};\n\nconst DamageContext = createContext<DamageContextData>({})\n\ninterface DamageProviderProps {\n  type: DamageType\n  id: RecordId\n}\n\nexport const DamageProvider: FC<DamageProviderProps> = ({\n  type,\n  id,\n  children,\n}) => {\n  const dmgSessionKey = `dmg.${id}.${type}`\n  const [value, setDmgValue] = useState<number>(0)\n\n  useEffect(() => {\n    const value = parseInt(localStorage.getItem(dmgSessionKey) || '0')\n    setDmgValue(value)\n  }, [dmgSessionKey])\n\n  const onDmgChange = (value: number) => {\n    setDmgValue(value)\n    localStorage.setItem(dmgSessionKey, value.toString())\n  }\n\n  const damages: DamageContextData = {\n    ...useContext(DamageContext),\n    [type]: { value, setValue: onDmgChange },\n  }\n\n  return (\n    <DamageContext.Provider value={damages}>\n      {children}\n    </DamageContext.Provider>\n  )\n}\n\nexport const useDamage = (type: DamageType): number => {\n  return useContext(DamageContext)[type]?.value || 0\n}\n\nexport const useSetDamage = (type: DamageType): DamageSetter => {\n  return useContext(DamageContext)[type]?.setValue || noOp\n}\n\nexport const useDamagePenalty = (types: DamageType[]): number => {\n  const damageData = useContext(DamageContext)\n\n  return types\n    .map(type => damageData[type]?.value || 0)\n    .map(value => Math.floor(value / 3))\n    .reduce((a, b) => a + b, 0)\n}\n","import { ActiveSkillId } from './ActiveSkills'\n\nexport type SkillList = Record<string, CharacterActiveSkill>\n\nexport enum SkillType {\n  active = 'active',\n  language = 'language',\n  knowledge = 'knowledge',\n}\n\nexport interface BasicCharacterSkill {\n  type: SkillType\n}\n\nexport interface CharacterActiveSkill extends BasicCharacterSkill {\n  type: SkillType.active\n  id: ActiveSkillId\n  rank: number\n  specialization?: string\n  expertise?: string\n}\n\nexport interface CharacterLanguageSkill extends BasicCharacterSkill {\n  type: SkillType.language\n  name: string\n  rank: 'basic' | 'speciality' | 'expertise' | 'native'\n}\n\nexport interface CharacterKnowledgeSkill extends BasicCharacterSkill {\n  type: SkillType.knowledge\n  name: string\n}\n\nexport type CharacterSkill =\n  | CharacterActiveSkill\n  | CharacterLanguageSkill\n  | CharacterKnowledgeSkill\n\nexport const hasSpecialty = (skill?: CharacterActiveSkill, specialization?: string): boolean => {\n  if (!specialization || !skill || !skill.specialization) return false\n  return skill.specialization.toLowerCase() === specialization.toLowerCase()\n}\nexport const hasExpertise = (skill?: CharacterActiveSkill, expertise?: string): boolean => {\n  if (!expertise || !skill || !skill.expertise) return false\n  return skill.expertise.toLowerCase() === expertise.toLowerCase()\n}\n\nexport function isActiveSkill (skill: BasicCharacterSkill): skill is CharacterActiveSkill {\n  return skill.type === SkillType.active\n}\n\nexport function isLanguageSkill (skill: BasicCharacterSkill): skill is CharacterLanguageSkill {\n  return skill.type === SkillType.language\n}\n\nexport function isKnowledgeSkill (skill: BasicCharacterSkill): skill is CharacterKnowledgeSkill {\n  return skill.type === SkillType.knowledge\n}\n","import { faWifi } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { Box, Paper } from '@mui/material'\nimport React, { FC } from 'react'\n\nimport { useActiveSkills } from '../Character/CharacterProvider'\nimport { GearData } from '../Gear/GearData'\nimport { ActiveSkillId, CharacterActiveSkill, formatSkill, hasExpertise, hasSpecialty } from '../Skills'\nimport { formatAttr } from '../System/Attribute'\nimport { useAttributes } from '../System/AttributeProvider'\nimport { useDamagePenalty } from '../System/Damage/DamageProvider'\nimport { DamageType } from '../System/Damage/DamageType'\nimport { collectGearEffects, isDicePoolAdj } from '../System/Effect'\n\nexport interface DiceGroup {\n  name: string\n  size: number | undefined\n  default?: number\n  wireless?: boolean\n}\n\nexport const DicePools: FC = ({\n  children,\n}) => {\n  return <Paper variant=\"outlined\" sx={{ padding: 1, display: 'flex', gap: 1, flexWrap: 'wrap' }}>\n    {children}\n  </Paper>\n}\n\nexport interface DicePoolData {\n  name: string\n  poolKey?: string\n  skills?: ActiveSkillId[]\n  attrs?: string[]\n  bonuses?: DiceGroup[]\n  dmgPenaltyTypes?: DamageType[]\n}\n\nexport const skillSpecialtyBonus = (\n  skill: CharacterActiveSkill | undefined,\n  specialtyName: string | undefined,\n): DiceGroup | null => {\n  if (!skill || !specialtyName)\n    return null\n\n  if (hasSpecialty(skill, specialtyName))\n    return { name: 'Specialty', size: 2 }\n\n  if (hasExpertise(skill, specialtyName))\n    return { name: 'Expertise', size: 3 }\n\n  return null\n}\n\nexport const collectEffectBonuses = (gear: GearData[], poolKey: string): DiceGroup[] => {\n  return collectGearEffects(gear)\n    .filter(isDicePoolAdj)\n    .filter(effect => effect.poolType === poolKey)\n    .map(effect => ({ name: effect.name, size: effect.value, wireless: effect.wireless }) as DiceGroup)\n}\n\ntype DicePoolProps = {\n  name: string\n  groups?: DiceGroup[]\n  dmgPenaltyTypes?: DamageType[]\n} & DicePoolData\n\nexport const DicePool: FC<DicePoolProps> = ({\n  name,\n  skills = [],\n  attrs = [],\n  bonuses = [],\n  groups = [],\n  dmgPenaltyTypes = [],\n}) => {\n  const skillList = useActiveSkills(skills)\n  const attrList = useAttributes(attrs)\n  const dmgPenalty = useDamagePenalty(dmgPenaltyTypes)\n\n  groups = [\n    ...groups,\n    ...Object.values(skillList)\n      .map(skill => ({ name: formatSkill(skill.id), size: skill.rank })),\n    ...Object.entries(attrList)\n      .filter(([_, value]) => typeof value === 'number')\n      .map(([attrType, value]) => ({ name: formatAttr(attrType), size: value as number })),\n    ...bonuses,\n  ]\n\n  if (dmgPenalty > 0) {\n    groups = [...groups, { name: 'Dmg. Penalty', size: dmgPenalty * -1 }]\n  }\n\n  const total = Math.max(0, groups.map(g => g.size || g.default || 0).reduce((a, b) => a + b, 0))\n\n  return (\n    <Box sx={{ display: 'inline-flex', flexDirection: 'column' }}>\n      <DiceGroupDisplay name={name} size={total} total />\n      {groups.map(group => (\n        <DiceGroupDisplay\n          key={group.name}\n          name={group.name}\n          size={group.size || group.default || 0}\n          wireless={group.wireless}\n        />\n      ))}\n    </Box>\n  )\n}\n\ninterface DiceGroupDisplayProps {\n  name: string\n  size: number\n  total?: boolean\n  wireless?: boolean\n}\n\nconst DiceGroupDisplay: FC<DiceGroupDisplayProps> = ({\n  name,\n  size,\n  total,\n  wireless = false,\n}) => {\n  const sizeStyles = { display: 'inline-block', padding: 0.5, width: 30, textAlign: 'center' } as const\n  const nameStyles = { display: 'inline-block', padding: 0.5, marginRight: 1 } as const\n\n  return (\n    <Box sx={{ display: 'flex', fontSize: total ? 14 : 12, backgroundColor: total ? '#424242' : undefined }}>\n      <Box sx={sizeStyles}>{size}</Box>\n      <Box sx={nameStyles}>{name}</Box>\n      {wireless && <Box sx={nameStyles}><FontAwesomeIcon icon={faWifi} /></Box>}\n    </Box>\n  )\n}\n","import { Box, Paper, Stack, Typography } from '@mui/material'\nimport { FC } from 'react'\n\nimport { DamageType } from '../System/Damage/DamageType'\nimport { DicePool } from '../UI/DicePool'\nimport { ActiveSkills, formatSkill } from './ActiveSkills'\nimport { CharacterActiveSkill } from './CharacterSkill'\n\ninterface SkillListProps {\n  charSkills: CharacterActiveSkill[]\n}\n\nexport const ActiveSkillList: FC<SkillListProps> = ({\n  charSkills,\n}) => {\n  return (\n    <Stack gap={1} direction=\"row\" sx={{ flexWrap: 'wrap' }}>\n      {charSkills.map(skill => (\n        <ActiveSkillRow key={skill.id} charSkill={skill} />\n      ))}\n    </Stack>\n  )\n}\n\ninterface SkillListRowProps {\n  charSkill: CharacterActiveSkill\n}\n\nconst ActiveSkillRow: FC<SkillListRowProps> = ({\n  charSkill,\n}) => {\n  const activeSkill = ActiveSkills[charSkill.id]\n\n  return (\n    <Box sx={{ width: 175 }}>\n      <div>\n        <Typography sx={{ color: 'primary.main', display: 'inline' }}>{formatSkill(charSkill.id)}</Typography>\n        <Typography sx={{ paddingLeft: 1, display: 'inline' }}>{charSkill.rank}</Typography>\n      </div>\n      <Paper variant=\"outlined\" sx={{ padding: 1 }}>\n        <Stack gap={1}>\n          <DicePool\n            name={formatSkill(activeSkill.id)}\n            poolKey={`activeSkill.${activeSkill.name}.${activeSkill.attr}`}\n            attrs={[activeSkill.attr]}\n            skills={[activeSkill.id]}\n            dmgPenaltyTypes={[DamageType.charPhysical, DamageType.charStun]}\n          />\n\n          {activeSkill.altAttr && (\n            <DicePool\n              name={formatSkill(activeSkill.id)}\n              poolKey={`activeSkill.${activeSkill.name}.${activeSkill.altAttr}`}\n              attrs={[activeSkill.altAttr]}\n              skills={[activeSkill.id]}\n              dmgPenaltyTypes={[DamageType.charPhysical, DamageType.charStun]}\n            />\n          )}\n        </Stack>\n\n        <Typography variant=\"caption\">\n          {charSkill.specialization && <> S. {charSkill.specialization} (+2)</>}\n          {charSkill.expertise && <> E. {charSkill.expertise} (+3)</>}\n        </Typography>\n      </Paper>\n    </Box>\n  )\n}\n","import { Table, TableBody, TableCell, TableHead, TableRow } from '@mui/material'\nimport { FC } from 'react'\n\nimport { CharacterKnowledgeSkill } from './CharacterSkill'\n\ninterface SkillListProps {\n  skills: CharacterKnowledgeSkill[]\n}\n\nexport const KnowledgeSkillList: FC<SkillListProps> = ({\n  skills,\n}) => {\n  return (\n    <Table size=\"small\" aria-label=\"a dense table\">\n      <TableHead>\n        <TableRow>\n          <TableCell>Name</TableCell>\n        </TableRow>\n      </TableHead>\n      <TableBody>\n        {skills.map(skill => <SkillListRow key={skill.name} skill={skill} />)}\n      </TableBody>\n    </Table>\n  )\n}\n\ninterface SkillListRowProps {\n  skill: CharacterKnowledgeSkill\n}\n\nconst SkillListRow: FC<SkillListRowProps> = ({\n  skill,\n}) => {\n  return (\n    <TableRow key={skill.name}>\n      <TableCell colSpan={3}>{skill.name}</TableCell>\n    </TableRow>\n  )\n}\n","import { Table, TableBody, TableCell, TableHead, TableRow } from '@mui/material'\nimport { FC } from 'react'\n\nimport { CharacterLanguageSkill } from './CharacterSkill'\n\ninterface SkillListProps {\n  skills: CharacterLanguageSkill[]\n}\n\nexport const LanguageSkillList: FC<SkillListProps> = ({\n  skills,\n}) => {\n  return (\n    <Table size=\"small\" aria-label=\"a dense table\">\n      <TableHead>\n        <TableRow>\n          <TableCell>Name</TableCell>\n          <TableCell>Rank</TableCell>\n        </TableRow>\n      </TableHead>\n      <TableBody>\n        {skills.map(skill => (\n          <SkillListRow key={skill.name} skill={skill} />\n        ))}\n      </TableBody>\n    </Table>\n  )\n}\n\ninterface SkillListRowProps {\n  skill: CharacterLanguageSkill\n}\n\nconst SkillListRow: FC<SkillListRowProps> = ({\n  skill,\n}) => {\n  return (\n    <TableRow key={skill.name}>\n      <TableCell>{skill.name}</TableCell>\n      <TableCell>{skill.rank}</TableCell>\n    </TableRow>\n  )\n}\n","import { Specializations as CrbSpecializations } from '../data/Rulebooks/CRB'\n\nexport const Specializations = {\n  CRB: CrbSpecializations,\n}\n","import { createContext, FC, useContext } from 'react'\n\nimport { AugmentAttr } from '../Gear/Augments/AugmentAttr'\nimport { isAugment } from '../Gear/Augments/AugmentData'\nimport { GearProvider } from '../Gear/GearContext'\nimport { ActiveSkillId, ActiveSkills, CharacterActiveSkill, isActiveSkill, SkillList, SkillType } from '../Skills'\nimport { calculateAttributes } from '../System/Attribute'\nimport { AttributeProvider } from '../System/AttributeProvider'\nimport { DamageProvider } from '../System/Damage/DamageProvider'\nimport { DamageType } from '../System/Damage/DamageType'\nimport { collectCharacterEffects, isSkillAdj } from '../System/Effect'\nimport { Character } from './Character'\nimport { CharacterAttr } from './CharacterAttr'\nimport { CharacterData } from './CharacterData'\n\nconst CharacterContext = createContext<Character | null>(null)\n\ninterface CharacterProviderProps {\n  character: Character\n}\n\nexport const CharacterProvider: FC<CharacterProviderProps> = ({\n  character,\n  children,\n}) => {\n  const characterData = character.data\n\n  const attributes = calculateAttributes(characterData.attributes, characterData.gear)\n\n  attributes[CharacterAttr.essence] = characterData.gear\n    .filter(isAugment)\n    .map(augment => augment.attributes[AugmentAttr.essenceCost] || 0)\n    .reduce((essence, essenceCost) => essence - essenceCost, 6)\n\n  return (\n    <CharacterContext.Provider value={character}>\n      <AttributeProvider attributes={attributes}>\n        <GearProvider gear={characterData.gear}>\n          <DamageProvider type={DamageType.charPhysical} id={character.id}>\n            <DamageProvider type={DamageType.charStun} id={character.id}>\n              {children}\n            </DamageProvider>\n          </DamageProvider>\n        </GearProvider>\n      </AttributeProvider>\n    </CharacterContext.Provider>\n  )\n}\n\nexport const useCharacter = (): Character | null => {\n  return useContext(CharacterContext)\n}\n\nexport const useCharacterData = (): CharacterData | null => {\n  return useCharacter()?.data || null\n}\n\nexport function useActiveSkills (skills: ActiveSkillId[]): SkillList {\n  const character = useCharacterData()\n  if (!character) return {}\n\n  const skillList: SkillList = {}\n\n  skills.forEach(skill => {\n    const charSkill = getActiveSkill(skill, character)\n    if (charSkill) { skillList[charSkill.id] = charSkill }\n  })\n\n  return skillList\n}\n\nexport function useActiveSkill (skill: ActiveSkillId): CharacterActiveSkill | undefined {\n  const character = useCharacterData()\n  if (!character) return undefined\n\n  return getActiveSkill(skill, character)\n}\n\nexport function getActiveSkill (skillId: ActiveSkillId, character: CharacterData): CharacterActiveSkill | undefined {\n  const activeSkill = ActiveSkills[skillId]\n  if (!activeSkill) { throw new Error(`Unregistered skill ${skillId}`)}\n\n  const charSkill = character.skills\n    .filter(isActiveSkill)\n    .find(charSkill => charSkill.id === skillId)\n\n  if (charSkill) {\n    const rank = collectCharacterEffects(character)\n      .filter(isSkillAdj)\n      .filter(effect => effect.skill === skillId)\n      .reduce((sum, effect) => sum + effect.value, charSkill.rank)\n\n    return { ...charSkill, rank }\n  } else if (activeSkill.untrained) {\n    return { type: SkillType.active, id: skillId, rank: -1 }\n  } else {\n    return undefined\n  }\n}\n","import { FC } from 'react'\n\nexport const PistolSvg: FC = () => {\n  return (\n    <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 306.539 306.539\" enableBackground=\"new 0 0 306.539 306.539\">\n      <g>\n        <path d=\"M298.489,88.77c4.446,0,8.05-3.604,8.05-8.05V54.918c0-4.446-3.604-8.05-8.05-8.05h-13.95v-0.05   c0-4.446-3.604-8.05-8.05-8.05h-60.067c-4.446,0-8.049,3.604-8.049,8.05v13.276c0,3.313-2.687,6-6,6h-69.834c-3.314,0-6-2.687-6-6   V46.819c0-4.446-3.604-8.05-8.05-8.05H18.122C8.114,38.77,0,46.883,0,56.892V88.77H298.489z\"/>\n        <path d=\"m0,100.77v4.443c0,10.009 8.114,18.123 18.122,18.123h3.491l-20.015,106.774c-1.743,9.298 0.744,18.889 6.786,26.169s15.01,11.491 24.47,11.491h48.624c15.303,0 28.437-10.9 31.256-25.942l10.818-57.713c2.965,0.189 5.962,0.296 8.986,0.296 20.268,0 39.479-4.302 54.094-12.111 16.599-8.871 25.74-21.376 25.74-35.21 0-4.777-1.115-9.39-3.226-13.755h67.342c4.446,0 8.05-3.604 8.05-8.05v-14.515h-284.538zm132.539,63.641c-1.783,0-3.536-0.048-5.269-0.124l4.6-24.541c4.677,6.26 10.613,11.876 18.155,16.056 1.535,0.851 3.198,1.255 4.838,1.255 3.518,0 6.93-1.86 8.756-5.155 2.677-4.83 0.931-10.917-3.9-13.594-6.44-3.569-11.231-8.954-14.798-14.973h38.306c5.826,4.289 9.146,9.119 9.146,13.755 0,12.896-25.589,27.321-59.834,27.321z\"/>\n      </g>\n    </svg>\n  )\n}\n","export enum AwakenedType {\n  Mundane = 'Mundane',\n  Full = 'Full',\n  Aspected = 'Aspected',\n  Mystic = 'Mystic',\n  Adept = 'Adept',\n  Technomancer = 'Technomancer',\n}\n","import { ListItem, ListItemIcon, ListItemText, SvgIcon } from '@mui/material'\nimport { FC, ReactElement } from 'react'\nimport { useHistory } from 'react-router-dom'\n\nexport interface NavDrawerProps {\n  open: boolean\n\n  closeDrawer (): void\n}\n\nexport type NavDrawer = FC<NavDrawerProps>\n\ninterface NavButtonProps {\n  icon: ReactElement\n  label: string\n  routeTo: string\n\n  closeDrawer (): void\n}\n\nexport const NavButton: FC<NavButtonProps> = ({\n  icon,\n  label,\n  routeTo,\n  closeDrawer,\n}) => {\n  const history = useHistory()\n\n  const onNavClick = () => {\n    history.push(routeTo)\n    closeDrawer()\n  }\n\n  return (\n    <ListItem button onClick={onNavClick}>\n      <ListItemIcon>\n        <SvgIcon>{icon}</SvgIcon>\n      </ListItemIcon>\n      <ListItemText primary={label} />\n    </ListItem>\n  )\n}\n","import { faUsers } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { Box, Drawer, List } from '@mui/material'\n\nimport { NavButton, NavDrawer } from './index'\n\nexport const DefaultNavDrawer: NavDrawer = ({\n  open,\n  closeDrawer,\n  children,\n}) => {\n  return (\n    <Drawer anchor=\"left\" open={open} onClose={closeDrawer}>\n      {children}\n\n      <Box sx={{ flexGrow: 1 }} />\n\n      <List>\n        <NavButton\n          icon={<FontAwesomeIcon icon={faUsers} />}\n          label=\"Characters\"\n          routeTo={'/characters'}\n          closeDrawer={closeDrawer}\n        />\n      </List>\n    </Drawer>\n  )\n}\n","import { faArchive, faAward, faCarAlt, faCogs, faMagic, faUser, faYenSign } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { Divider, List } from '@mui/material'\n\nimport { CharacterAttr } from '../../Character/CharacterAttr'\nimport { useCharacter } from '../../Character/CharacterProvider'\nimport { PistolSvg } from '../../Gear/Weapons/PistolSvg'\nimport { useAttribute } from '../../System/AttributeProvider'\nimport { DefaultNavDrawer } from './DefaultNavDrawer'\n\nimport { NavButton, NavDrawer } from './index'\n\nexport const CharacterNavDrawer: NavDrawer = ({\n  open,\n  closeDrawer,\n}) => {\n  const character = useCharacter()\n  const showSpells = useAttribute(CharacterAttr.magic) || 0 >= 1\n\n  if (!character) return null\n\n  return (\n    <DefaultNavDrawer open={open} closeDrawer={closeDrawer}>\n      <List>\n        <NavButton\n          icon={<FontAwesomeIcon icon={faUser} />}\n          label={character.name}\n          routeTo={`/${character.id}`}\n          closeDrawer={closeDrawer}\n        />\n        <NavButton\n          icon={<PistolSvg />}\n          label=\"Weapons\"\n          routeTo={`/${character.id}/weapons`}\n          closeDrawer={closeDrawer}\n        />\n        {showSpells && (\n          <NavButton\n            icon={<FontAwesomeIcon icon={faMagic} />}\n            label=\"Spells\"\n            routeTo={`/${character.id}/spells`}\n            closeDrawer={closeDrawer}\n          />\n        )}\n        <NavButton\n          icon={<FontAwesomeIcon icon={faCarAlt} />}\n          label=\"Vehicles\"\n          routeTo={`/${character.id}/vehicles`}\n          closeDrawer={closeDrawer}\n        />\n        <NavButton\n          icon={<FontAwesomeIcon icon={faCogs} />}\n          label=\"Augments\"\n          routeTo={`/${character.id}/augments`}\n          closeDrawer={closeDrawer}\n        />\n        <NavButton\n          icon={<FontAwesomeIcon icon={faArchive} />}\n          label=\"Other\"\n          routeTo={`/${character.id}/misc`}\n          closeDrawer={closeDrawer}\n        />\n        <Divider />\n        <NavButton\n          icon={<FontAwesomeIcon icon={faYenSign} />}\n          label=\"Nyuen\"\n          routeTo={`/${character.id}/Nuyen`}\n          closeDrawer={closeDrawer}\n        />\n        <NavButton\n          icon={<FontAwesomeIcon icon={faAward} />}\n          label=\"Karma\"\n          routeTo={`/${character.id}/karma`}\n          closeDrawer={closeDrawer}\n        />\n      </List>\n    </DefaultNavDrawer>\n  )\n}\n","import { MetatypeId as CrbMetatypeId, Metatypes as CrbMetatypes } from '../data/Rulebooks/CRB'\nimport { CharacterQuality } from '../Qualities/CharacterQuality'\nimport { CharAttributes } from './CharacterData'\n\nexport type MetatypeId = string;\n\nexport interface Metatype {\n  id: MetatypeId\n  name: string\n  qualities: CharacterQuality[]\n  priorityLevels: string[]\n  attrMaximums: CharAttributes\n}\n\nexport const MetatypeIds = {\n  CRB: CrbMetatypeId,\n}\n\nexport const Metatypes: Record<MetatypeId, Metatype> = {}\nconst registerMetatype = (metatype: Metatype) => Metatypes[metatype.id] = metatype\n\nCrbMetatypes.forEach(registerMetatype)\n\nconst MetatypeNames: Record<MetatypeId, string> = Object.entries(Metatypes)\n  .reduce((names, [id, metatype]) => ({ ...names, [id]: metatype.name }), {})\n\nexport function formatMetatype (metatypeId: MetatypeId): string {\n  return MetatypeNames[metatypeId] || ''\n}\n","import { faMinus, faPlus } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { Box, IconButton } from '@mui/material'\nimport { FC } from 'react'\n\nexport interface IncrementorProps {\n  min?: number\n  max?: number\n  value: number\n\n  onChange (value: number): void\n}\n\nexport const Incrementor: FC<IncrementorProps> = ({\n  min = -Infinity,\n  max = Infinity,\n  value,\n  onChange,\n}) => {\n  return (\n    <Box>\n      <IconButton aria-label=\"subtract\" size=\"small\" onClick={() => onChange(Math.max(value - 1, min))} disabled={value <= min}>\n        <FontAwesomeIcon icon={faMinus} />\n      </IconButton>\n      <Box sx={{ display: 'inline-block', padding: '0 4px' }}>{value}</Box>\n      <IconButton aria-label=\"add\" size=\"small\" onClick={() => onChange(Math.min(value + 1, max))} disabled={value >= max}>\n        <FontAwesomeIcon icon={faPlus} />\n      </IconButton>\n    </Box>\n  )\n}\n","import { TableCell, TableRow } from '@mui/material'\nimport { FC } from 'react'\n\nimport { formatAttr } from '../../../System/Attribute'\nimport { Incrementor } from '../../../UI/Incrementor'\nimport { CharacterAttr, specialAttrs } from '../../CharacterAttr'\n\ninterface AttrTableRowProps {\n  attribute: CharacterAttr\n  base: number\n  adjPoints: number\n  attrPoints: number\n  karmaPoints: number\n  maximum: number\n\n  onAdjPointsChange (value: number): void\n\n  onAttrPointsChange (value: number): void\n\n  onKarmaPointsChange (value: number): void\n}\n\nexport const AttrTableRow: FC<AttrTableRowProps> = ({\n  attribute,\n  base,\n  adjPoints,\n  attrPoints,\n  karmaPoints,\n  maximum,\n  onAdjPointsChange,\n  onAttrPointsChange,\n  onKarmaPointsChange,\n}) => {\n  const allowAdjPoints = maximum >= 7 || specialAttrs.includes(attribute)\n  const total = base + adjPoints + attrPoints + karmaPoints\n\n  return (\n    <TableRow>\n      <TableCell>\n        {formatAttr(attribute)}\n      </TableCell>\n      <TableCell sx={{ color: total > maximum ? 'error.main' : undefined }}>\n        {maximum}\n      </TableCell>\n      <TableCell>\n        {base}\n      </TableCell>\n      <TableCell>\n        <AttrIncrementor disabled={!allowAdjPoints} value={adjPoints} onChange={onAdjPointsChange} />\n      </TableCell>\n      <TableCell>\n        <AttrIncrementor value={attrPoints} onChange={onAttrPointsChange} />\n      </TableCell>\n      <TableCell>\n        <AttrIncrementor value={karmaPoints} onChange={onKarmaPointsChange} />\n      </TableCell>\n      <TableCell sx={{ color: total > maximum ? 'error.main' : undefined }}>\n        {total}\n      </TableCell>\n    </TableRow>\n  )\n}\n\ninterface AttrIncrementorProps {\n  disabled?: boolean\n  value: number\n\n  onChange (value: number): void\n}\n\nconst AttrIncrementor: FC<AttrIncrementorProps> = ({\n  disabled,\n  value,\n  onChange,\n}) => {\n  if (disabled) return <>-</>\n  return <Incrementor min={0} value={value} onChange={onChange} />\n}\n","import { Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow } from '@mui/material'\nimport { FC, useState } from 'react'\n\nimport { AwakenedType } from '../../AwakenedType'\nimport { CharacterAttr } from '../../CharacterAttr'\nimport { CharAttributes } from '../../CharacterData'\nimport { MetatypeId, Metatypes } from '../../Metatype'\nimport { AttrTableRow } from './AttrTableRow'\n\nconst defaultAttributes: CharAttributes = {\n  [CharacterAttr.body]: 0,\n  [CharacterAttr.agility]: 0,\n  [CharacterAttr.reaction]: 0,\n  [CharacterAttr.strength]: 0,\n  [CharacterAttr.willpower]: 0,\n  [CharacterAttr.logic]: 0,\n  [CharacterAttr.intuition]: 0,\n  [CharacterAttr.charisma]: 0,\n  [CharacterAttr.edge]: 0,\n  [CharacterAttr.magic]: 0,\n  [CharacterAttr.resonance]: 0,\n  [CharacterAttr.essence]: 0,\n}\n\ninterface AttributesTableProps {\n  metatypeId: MetatypeId\n  awakened: AwakenedType\n  attributePoints: number\n  adjustmentPoints: number\n  magic: number\n\n  onChange (attributes: CharAttributes): void\n}\n\nexport const AttributesTable: FC<AttributesTableProps> = ({\n  metatypeId,\n  awakened,\n  attributePoints,\n  adjustmentPoints,\n  magic,\n  onChange,\n}) => {\n  const [adjPointsSpent, setAdjPointsSpent] = useState<CharAttributes>(defaultAttributes)\n  const [pointsSpent, setPointsSpent] = useState<CharAttributes>(defaultAttributes)\n  const [karmaPoints, setKarmaPoints] = useState<CharAttributes>(defaultAttributes)\n\n  const base: CharAttributes = {\n    [CharacterAttr.body]: 1,\n    [CharacterAttr.agility]: 1,\n    [CharacterAttr.reaction]: 1,\n    [CharacterAttr.strength]: 1,\n    [CharacterAttr.willpower]: 1,\n    [CharacterAttr.logic]: 1,\n    [CharacterAttr.intuition]: 1,\n    [CharacterAttr.charisma]: 1,\n    [CharacterAttr.edge]: 1,\n    [CharacterAttr.magic]: 0,\n    [CharacterAttr.resonance]: 0,\n    [CharacterAttr.essence]: 0,\n  }\n\n  const excludedAttributes: CharacterAttr[] = [\n    CharacterAttr.essence,\n  ]\n\n  switch (awakened) {\n    case AwakenedType.Technomancer:\n      base[CharacterAttr.resonance] = magic\n      excludedAttributes.push(CharacterAttr.magic)\n      break\n    case AwakenedType.Aspected:\n      base[CharacterAttr.magic] = magic + 1\n      excludedAttributes.push(CharacterAttr.resonance)\n      break\n    case AwakenedType.Mundane:\n      excludedAttributes.push(CharacterAttr.magic)\n      excludedAttributes.push(CharacterAttr.resonance)\n      break\n    default:\n      base[CharacterAttr.magic] = magic\n      excludedAttributes.push(CharacterAttr.resonance)\n  }\n\n  const totalAdjPointsSpent = Object.entries(adjPointsSpent)\n    .map(([attr, rank]) => ({ attr: attr as CharacterAttr, rank }))\n    .filter(({ attr }) => !excludedAttributes.includes(attr))\n    .map(({ rank }) => rank)\n    .reduce((sum: number, points: number) => sum + points)\n\n  const totalPointsSpent = Object.entries(pointsSpent)\n    .map(([attr, rank]) => ({ attr: attr as CharacterAttr, rank }))\n    .filter(({ attr }) => !excludedAttributes.includes(attr))\n    .map(({ rank }) => rank)\n    .reduce((sum: number, points: number) => sum + points)\n\n  const totalKarmaCost = calcKaramaCost(karmaPoints, mergePointLists([\n    adjPointsSpent,\n    pointsSpent,\n    base,\n  ]))\n\n  return (\n    <TableContainer component={Paper}>\n      <Table sx={{ '& th, & td': { textAlign: 'center' } }}>\n        <TableHead>\n          <TableRow>\n            <TableCell>\n              Attribute\n            </TableCell>\n            <TableCell>\n              Max\n            </TableCell>\n            <TableCell>\n              Base\n            </TableCell>\n            <TableCell sx={{ color: totalAdjPointsSpent > adjustmentPoints ? 'error.main' : undefined }}>\n              Metatype ({totalAdjPointsSpent}/{adjustmentPoints})\n            </TableCell>\n            <TableCell sx={{ color: totalPointsSpent > attributePoints ? 'error.main' : undefined }}>\n              Points ({totalPointsSpent}/{attributePoints})\n            </TableCell>\n            <TableCell>\n              Karma ({totalKarmaCost} Karma)\n            </TableCell>\n            <TableCell>\n              Total\n            </TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {(Object.keys(base) as CharacterAttr[])\n            .filter(attribute => !excludedAttributes.includes(attribute))\n            .map(attribute => (\n              <AttrTableRow\n                key={attribute}\n                attribute={attribute}\n                base={base[attribute]}\n                adjPoints={adjPointsSpent[attribute]}\n                attrPoints={pointsSpent[attribute]}\n                karmaPoints={karmaPoints[attribute]}\n                maximum={Metatypes[metatypeId].attrMaximums[attribute]}\n                onAdjPointsChange={value => setAdjPointsSpent({ ...adjPointsSpent, [attribute]: value })}\n                onAttrPointsChange={value => setPointsSpent({ ...pointsSpent, [attribute]: value })}\n                onKarmaPointsChange={value => setKarmaPoints({ ...karmaPoints, [attribute]: value })}\n              />\n            ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n\nfunction mergePointLists (lists: CharAttributes[]): CharAttributes {\n  return lists.reduce((total, points) => {\n    for (const attribute of Object.values(CharacterAttr) as CharacterAttr[]) {\n      total = { ...total, [attribute]: (total[attribute] as number) + (points[attribute] as number) }\n    }\n\n    return total\n  })\n}\n\nfunction calcKaramaCost (karmaPoints: CharAttributes, preKarma: CharAttributes) {\n  return Object.entries(preKarma)\n    .map(([attr, rank]) => ({ attr: attr as CharacterAttr, rank }))\n    .filter(({ rank }) => rank && rank !== 0)\n    .map(({ attr, rank }): number => {\n      let cost = 0\n      let points = karmaPoints[attr] || 0\n\n      while (points >= 1) {\n        cost += (rank + 1) * 5\n        rank += 1\n        points -= 1\n      }\n\n      return cost\n    })\n    .reduce((sum, cost) => sum + cost)\n}\n","import { MenuItem, Stack, TextField } from '@mui/material'\nimport { FC } from 'react'\n\nimport { AwakenedType } from '../AwakenedType'\nimport { BioData } from '../CharacterData'\nimport { formatMetatype, Metatypes } from '../Metatype'\n\ninterface BioSectionProps {\n  bio: BioData\n  metatypes: string[]\n  magicPriority: number\n\n  onChange (bio: BioData): void\n}\n\nexport const BioSection: FC<BioSectionProps> = ({\n  bio,\n  metatypes,\n  magicPriority,\n  onChange,\n}) => {\n  const showMetaTypeWarning = metatypes.length >= 1 && !metatypes.includes(bio.metatype)\n\n  console.log(bio.awakened, magicPriority)\n  const showAwakenedWarning =\n    (bio.awakened === AwakenedType.Mundane && magicPriority >= 1)\n    || (bio.awakened !== AwakenedType.Mundane && magicPriority === 0)\n\n  return (\n    <Stack gap={1}>\n      <Stack direction=\"row\" gap={1} sx={{ flexWrap: 'wrap' }}>\n        <TextField\n          sx={{ flexGrow: 1 }}\n          variant=\"standard\"\n          label=\"Alias\"\n          value={bio.alias}\n          onChange={event => onChange({ ...bio, alias: event.target.value })}\n        />\n\n        <TextField\n          sx={{ flexGrow: 1 }}\n          variant=\"standard\"\n          label=\"Name\"\n          value={bio.name}\n          onChange={event => onChange({ ...bio, name: event.target.value })}\n        />\n\n        <TextField\n          sx={{ flexGrow: 1 }}\n          variant=\"standard\"\n          label=\"Metatype\"\n          select\n          value={bio.metatype}\n          onChange={event => onChange({ ...bio, metatype: event.target.value })}\n          focused={showMetaTypeWarning}\n          color={showMetaTypeWarning ? 'warning' : undefined}\n          helperText={showMetaTypeWarning ? 'Metatype unavailable at current priority' : undefined}\n        >\n          {Object.keys(Metatypes).map(metatypeId => (\n            <MenuItem key={metatypeId} value={metatypeId}>{formatMetatype(metatypeId)}</MenuItem>\n          ))}\n        </TextField>\n\n        <TextField\n          sx={{ flexGrow: 1 }}\n          variant=\"standard\"\n          label=\"Role\"\n          value={bio.role}\n          onChange={event => onChange({ ...bio, role: event.target.value })}\n        />\n\n        <TextField\n          sx={{ flexGrow: 1 }}\n          variant=\"standard\"\n          label=\"Awakened\"\n          select\n          value={bio.awakened}\n          onChange={event => onChange({ ...bio, awakened: event.target.value as AwakenedType })}\n          focused={showAwakenedWarning}\n          color={showAwakenedWarning ? 'warning' : undefined}\n          helperText={showAwakenedWarning ? 'Priority mismatch' : undefined}\n        >\n          {Object.values(AwakenedType).map(awakened => (\n            <MenuItem key={awakened} value={awakened}>{awakened}</MenuItem>\n          ))}\n        </TextField>\n      </Stack>\n\n      <Stack direction=\"row\" gap={1} sx={{ flexWrap: 'wrap' }}>\n        <TextField\n          sx={{ flexGrow: 1 }}\n          variant=\"standard\"\n          label=\"Ethnicity\"\n          value={bio.ethnicity}\n          onChange={event => onChange({ ...bio, ethnicity: event.target.value })}\n        />\n\n        <TextField\n          sx={{ flexGrow: 1 }}\n          variant=\"standard\"\n          label=\"Age\"\n          value={bio.age}\n          onChange={event => onChange({ ...bio, age: event.target.value })}\n        />\n\n        <TextField\n          sx={{ flexGrow: 1 }}\n          variant=\"standard\"\n          label=\"Gender\"\n          value={bio.gender}\n          onChange={event => onChange({ ...bio, gender: event.target.value })}\n        />\n\n        <TextField\n          sx={{ flexGrow: 1 }}\n          variant=\"standard\"\n          label=\"Height\"\n          value={bio.height}\n          onChange={event => onChange({ ...bio, height: event.target.value })}\n        />\n\n        <TextField\n          sx={{ flexGrow: 1 }}\n          variant=\"standard\"\n          label=\"Weight\"\n          value={bio.weight}\n          onChange={event => onChange({ ...bio, weight: event.target.value })}\n        />\n      </Stack>\n    </Stack>\n  )\n}\n","import { Metatypes } from '../../Metatype'\n\nexport enum PriorityStat {\n  metatype = 'metatype',\n  attributes = 'attributes',\n  skills = 'skills',\n  nuyen = 'nuyen',\n  magic = 'magic',\n}\n\nexport interface PriorityValues {\n  metatypes: string[]\n  adjustmentPoints: number\n  attributePoints: number\n  skillPoints: number\n  nuyen: number\n  magic: number // 0 = mundane, aspected is +1\n}\n\nexport const priorityValues: Record<string, PriorityValues> = {\n  'A': {\n    metatypes: Object.values(Metatypes)\n      .filter(metatype => metatype.priorityLevels.includes('A'))\n      .map(metatype => metatype.id),\n    adjustmentPoints: 13,\n    attributePoints: 24,\n    skillPoints: 32,\n    magic: 4,\n    nuyen: 450_000,\n  },\n  'B': {\n    metatypes: Object.values(Metatypes)\n      .filter(metatype => metatype.priorityLevels.includes('B'))\n      .map(metatype => metatype.id),\n    adjustmentPoints: 11,\n    attributePoints: 16,\n    skillPoints: 24,\n    magic: 3,\n    nuyen: 275_000,\n  },\n  'C': {\n    metatypes: Object.values(Metatypes)\n      .filter(metatype => metatype.priorityLevels.includes('C'))\n      .map(metatype => metatype.id),\n    adjustmentPoints: 9,\n    attributePoints: 12,\n    skillPoints: 20,\n    magic: 2,\n    nuyen: 150_000,\n  },\n  'D': {\n    metatypes: Object.values(Metatypes)\n      .filter(metatype => metatype.priorityLevels.includes('D'))\n      .map(metatype => metatype.id),\n    adjustmentPoints: 4,\n    attributePoints: 8,\n    skillPoints: 16,\n    magic: 1,\n    nuyen: 50_000,\n  },\n  'E': {\n    metatypes: Object.values(Metatypes)\n      .filter(metatype => metatype.priorityLevels.includes('E'))\n      .map(metatype => metatype.id),\n    adjustmentPoints: 1,\n    attributePoints: 2,\n    skillPoints: 10,\n    magic: 0,\n    nuyen: 8_000,\n  },\n}\n","import { parseISO } from 'date-fns'\n\nimport { useCharacterData } from '../Character/CharacterProvider'\n\nconst nuyenFormatter = new Intl.NumberFormat('en')\nexport const formatNuyen = (cost: number): string => {\n  return nuyenFormatter.format(cost) + ' '\n}\n\nexport const useNuyenBalance = (): number => {\n  const character = useCharacterData()\n  if (!character) return 0\n\n  return character.nuyen\n    .sort((a, b) => parseISO(a.date).getTime() - parseISO(b.date).getTime())\n    .reduce((sum, entry) => sum + entry.value, 0)\n}\n","import { TableCell, TableRow } from '@mui/material'\nimport { FC } from 'react'\n\nimport { formatNuyen } from '../../../System/Nuyen'\nimport { AwakenedType } from '../../AwakenedType'\nimport { formatMetatype, MetatypeId } from '../../Metatype'\nimport { PriorityStat, PriorityValues } from './Priorities'\n\ninterface PriorityRowProps {\n  level: string\n  values: PriorityValues\n  selectedType?: PriorityStat\n  metatypeId: MetatypeId\n  awakened: AwakenedType\n\n  onSelect (level: string, type: PriorityStat): void\n}\n\nexport const PriorityRow: FC<PriorityRowProps> = ({\n  level,\n  values,\n  selectedType,\n  metatypeId,\n  awakened,\n  onSelect,\n}) => {\n  return (\n    <TableRow\n      sx={{\n        '& .priority-cell:hover, & .priority-cell.selected': {\n          backgroundColor: 'primary.dark',\n        },\n      }}\n    >\n      <TableCell align=\"center\">{level}</TableCell>\n      <PriorityCell\n        onClick={() => onSelect(level, PriorityStat.metatype)}\n        selected={selectedType === PriorityStat.metatype}\n      >\n        {values.metatypes.includes(metatypeId) ? (\n          <>{formatMetatype(metatypeId)} ({values.adjustmentPoints})</>\n        ) : (\n          '-'\n        )}\n      </PriorityCell>\n      <PriorityCell\n        onClick={() => onSelect(level, PriorityStat.attributes)}\n        selected={selectedType === PriorityStat.attributes}\n      >\n        {values.attributePoints}\n      </PriorityCell>\n      <PriorityCell\n        onClick={() => onSelect(level, PriorityStat.skills)}\n        selected={selectedType === PriorityStat.skills}\n      >\n        {values.skillPoints}\n      </PriorityCell>\n      <PriorityCell\n        onClick={() => onSelect(level, PriorityStat.magic)}\n        selected={selectedType === PriorityStat.magic}\n      >\n        {values.magic === 0 ? (\n          <>\n            {awakened === AwakenedType.Mundane ? 'Mundane' : '-'}\n          </>\n        ) : (\n          <>\n            {awakened === AwakenedType.Mundane && '-'}\n            {awakened === AwakenedType.Full && values.magic + ' Magic'}\n            {awakened === AwakenedType.Aspected && (values.magic + 1) + ' Magic'}\n            {awakened === AwakenedType.Mystic && values.magic + ' Magic'}\n            {awakened === AwakenedType.Adept && values.magic + ' Magic'}\n            {awakened === AwakenedType.Technomancer && values.magic + ' Resonance'}\n          </>\n        )}\n      </PriorityCell>\n      <PriorityCell\n        onClick={() => onSelect(level, PriorityStat.nuyen)}\n        selected={selectedType === PriorityStat.nuyen}\n      >\n        {formatNuyen(values.nuyen)}\n      </PriorityCell>\n    </TableRow>\n  )\n}\n\ninterface PriorityCellProps {\n  selected?: boolean\n\n  onClick (): void\n}\n\nexport const PriorityCell: FC<PriorityCellProps> = ({\n  selected,\n  onClick,\n  children,\n}) => {\n  return (\n    <TableCell onClick={onClick} className={selected ? 'priority-cell selected' : 'priority-cell'}>{children}\n    </TableCell>\n  )\n}\n","import { Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow } from '@mui/material'\nimport { FC, useState } from 'react'\n\nimport { AwakenedType } from '../../AwakenedType'\nimport { MetatypeId } from '../../Metatype'\nimport { PriorityStat, PriorityValues, priorityValues } from './Priorities'\nimport { PriorityRow } from './PriorityRow'\n\nexport type SelectedPriorities = Record<string, PriorityStat>\n\ninterface PrioritiesTableProps {\n  metatypeId: MetatypeId\n  awakened: AwakenedType\n\n  onChange (priorities: PriorityValues): void\n}\n\nexport const PrioritiesTable: FC<PrioritiesTableProps> = ({\n  metatypeId,\n  awakened,\n  onChange,\n}) => {\n  const [selectedPriorities, setSelectedPriorities] = useState<SelectedPriorities>({})\n\n  const onPriorityChange = (level: string, stat: PriorityStat) => {\n    const priorities = { ...selectedPriorities }\n\n    Object.entries(priorities)\n      .filter(priority => priority[1] === stat)\n      .map(priority => priority[0])\n      .forEach(oldLevel => priorities[oldLevel] = priorities[level])\n\n    priorities[level] = stat\n\n    setSelectedPriorities(priorities)\n    onChange(toPriorityValues(priorities))\n  }\n\n  return (\n    <TableContainer component={Paper}>\n      <Table sx={{ '& th, & td': { textAlign: 'center' } }}>\n        <TableHead>\n          <TableRow>\n            <TableCell variant=\"head\" align=\"center\">Priority</TableCell>\n            <TableCell variant=\"head\" align=\"center\">Metatype</TableCell>\n            <TableCell variant=\"head\" align=\"center\">Attributes</TableCell>\n            <TableCell variant=\"head\" align=\"center\">Skills</TableCell>\n            <TableCell variant=\"head\" align=\"center\">\n              {awakened === AwakenedType.Technomancer ? 'Resonance' : 'Magic'}\n            </TableCell>\n            <TableCell variant=\"head\" align=\"center\">Resources</TableCell>\n          </TableRow>\n        </TableHead>\n\n        <TableBody>\n          {Object.entries(priorityValues).map(([level, values]) => (\n            <PriorityRow\n              key={level}\n              level={level}\n              values={values}\n              selectedType={selectedPriorities[level]}\n              onSelect={onPriorityChange}\n              metatypeId={metatypeId}\n              awakened={awakened}\n            />\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n\nexport function toPriorityValues (selectedPriorities: SelectedPriorities): PriorityValues {\n  const values: PriorityValues = {\n    metatypes: [],\n    adjustmentPoints: 0,\n    attributePoints: 0,\n    skillPoints: 0,\n    magic: 0,\n    nuyen: 0,\n  }\n\n  for (const [level, stat] of Object.entries(selectedPriorities)) {\n    const levelValues = priorityValues[level]\n\n    switch (stat) {\n      case PriorityStat.metatype:\n        values.metatypes = levelValues.metatypes\n        values.adjustmentPoints = levelValues.adjustmentPoints\n        break\n      case PriorityStat.attributes:\n        values.attributePoints = levelValues.attributePoints\n        break\n      case PriorityStat.skills:\n        values.skillPoints = levelValues.skillPoints\n        break\n      case PriorityStat.magic:\n        values.magic = levelValues.magic\n        break\n      case PriorityStat.nuyen:\n        values.nuyen = levelValues.nuyen\n        break\n    }\n  }\n\n  return values\n}\n","import { faMinusCircle } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  Autocomplete,\n  IconButton,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TextField,\n} from '@mui/material'\nimport { FC, useState } from 'react'\n\nimport { ActiveSkill, ActiveSkillId, ActiveSkills, CharacterActiveSkill, SkillType } from '../../../Skills'\nimport { formatAttr } from '../../../System/Attribute'\nimport { Incrementor } from '../../../UI/Incrementor'\n\nexport const SkillsSection: FC = () => {\n  const [charSkills, setCharSkills] = useState<Record<ActiveSkillId, CharacterActiveSkill>>({})\n\n  const availableSkills: ActiveSkill[] = Object.values(ActiveSkills)\n    .filter(skill => !Object.keys(charSkills).includes(skill.name))\n\n  const onAddSkill = (skillId: ActiveSkillId) => {\n    setCharSkills({\n      ...charSkills,\n      [skillId]: { type: SkillType.active, id: skillId, rank: 1 },\n    })\n  }\n\n  const onRemoveSkill = (skill: ActiveSkillId) => {\n    const skills = { ...charSkills }\n    delete skills[skill]\n    setCharSkills(skills)\n  }\n\n  const onChangeSkill = (skill: CharacterActiveSkill) => {\n    setCharSkills({\n      ...charSkills,\n      [skill.id]: skill,\n    })\n  }\n\n  return (\n    <TableContainer component={Paper}>\n      <Table sx={{ '& th, & td': { textAlign: 'center' } }}>\n        <TableHead>\n          <TableRow>\n            <TableCell variant=\"head\" align=\"center\" />\n            <TableCell variant=\"head\" align=\"center\">Skill</TableCell>\n            <TableCell variant=\"head\" align=\"center\">Attr</TableCell>\n            <TableCell variant=\"head\" align=\"center\">Rank</TableCell>\n            <TableCell variant=\"head\" align=\"center\">Specialization</TableCell>\n            <TableCell variant=\"head\" align=\"center\">Expertise</TableCell>\n          </TableRow>\n        </TableHead>\n\n        <TableBody>\n          {Object.values(charSkills).map(charSkill => (\n            <SkillsTableRow\n              key={charSkill.id}\n              charSkill={charSkill}\n              onRemove={(skill) => onRemoveSkill(skill.id)}\n              onChange={(skill) => onChangeSkill(skill)}\n            />\n          ))}\n\n          <TableRow>\n            <TableCell colSpan={2}>\n              <Autocomplete\n                autoComplete\n                includeInputInList\n                blurOnSelect\n                clearOnBlur\n                value={null}\n                onChange={(_, skillId: ActiveSkillId | null) => skillId && onAddSkill(skillId)}\n                options={availableSkills.map(skill => skill.name)}\n                renderInput={params => (\n                  <TextField\n                    {...params}\n                    placeholder={'Add Skill'}\n                    variant={'standard'}\n                  />\n                )}\n              />\n            </TableCell>\n\n            <TableCell colSpan={2} />\n          </TableRow>\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n\ninterface SkillsTableRowProps {\n  charSkill: CharacterActiveSkill\n\n  onChange (charSkill: CharacterActiveSkill): void\n\n  onRemove (charSkill: CharacterActiveSkill): void\n}\n\nconst SkillsTableRow: FC<SkillsTableRowProps> = ({\n  charSkill,\n  onChange,\n  onRemove,\n}) => {\n  const activeSkill = ActiveSkills[charSkill.id]\n\n  return (\n    <TableRow>\n      <TableCell>\n        <IconButton onClick={() => onRemove(charSkill)}>\n          <FontAwesomeIcon icon={faMinusCircle} />\n        </IconButton>\n      </TableCell>\n      <TableCell>\n        {activeSkill.name}\n      </TableCell>\n      <TableCell>\n        {formatAttr(activeSkill.attr)}\n        {activeSkill.altAttr && ', ' + formatAttr(activeSkill.altAttr)}\n      </TableCell>\n      <TableCell>\n        <Incrementor\n          min={1}\n          value={charSkill.rank}\n          onChange={(rank) => onChange({ ...charSkill, rank })}\n        />\n      </TableCell>\n      <TableCell>\n        <TextField\n          variant={'standard'}\n          value={charSkill.specialization}\n          placeholder={'None'}\n          onChange={(event) =>\n            onChange({ ...charSkill, specialization: event.target.value })\n          }\n        />\n      </TableCell>\n      <TableCell>\n        <TextField\n          variant={'standard'}\n          value={charSkill.expertise}\n          placeholder={'None'}\n          onChange={(event) =>\n            onChange({ ...charSkill, expertise: event.target.value })\n          }\n        />\n      </TableCell>\n    </TableRow>\n  )\n}\n","import { Paper, Stack, Typography } from '@mui/material'\nimport { FC, useState } from 'react'\n\nimport { RootLayout } from '../../Pages/RootLayout'\nimport { CharacterNavDrawer } from '../../UI/NavDrawer/CharacterNavDrawer'\nimport { AwakenedType } from '../AwakenedType'\nimport { CharacterAttr } from '../CharacterAttr'\nimport { CharacterData } from '../CharacterData'\nimport { MetatypeIds } from '../Metatype'\nimport { AttributesTable } from './Attributes/AttributesTable'\nimport { BioSection } from './BioSection'\nimport { PriorityValues } from './Priorities/Priorities'\nimport { PrioritiesTable } from './Priorities/PrioritiesTable'\nimport { SkillsSection } from './Skills/SkillsSection'\n\nconst defaultCharacter: CharacterData = {\n  dataVersion: 3,\n\n  bio: {\n    name: '',\n    metatype: MetatypeIds.CRB.human,\n    awakened: AwakenedType.Mundane,\n    role: '',\n    alias: '',\n    ethnicity: '',\n    age: '',\n    gender: '',\n    height: '',\n    weight: '',\n  },\n\n  karma: [],\n  nuyen: [],\n\n  attributes: {\n    [CharacterAttr.body]: 0,\n    [CharacterAttr.agility]: 0,\n    [CharacterAttr.reaction]: 0,\n    [CharacterAttr.strength]: 0,\n    [CharacterAttr.willpower]: 0,\n    [CharacterAttr.logic]: 0,\n    [CharacterAttr.intuition]: 0,\n    [CharacterAttr.charisma]: 0,\n    [CharacterAttr.edge]: 0,\n    [CharacterAttr.magic]: 0,\n    [CharacterAttr.resonance]: 0,\n    [CharacterAttr.essence]: 0,\n  },\n\n  heat: '',\n  reputation: '',\n  lifestyle: { grade: '', prepaid: 0, upkeep: 0 },\n\n  qualities: [],\n  skills: [],\n  contacts: [],\n\n  gear: [],\n}\n\nexport const BuilderPage: FC = () => {\n  const [priorities, setPriorities] = useState<PriorityValues>({\n    adjustmentPoints: 0,\n    attributePoints: 0,\n    magic: 0,\n    metatypes: [],\n    nuyen: 0,\n    skillPoints: 0,\n  })\n  const [characterData, setCharacterData] = useState<CharacterData>(defaultCharacter)\n\n  return (\n    <RootLayout NavDrawer={CharacterNavDrawer}>\n      <Stack gap={1}>\n        <Paper variant=\"outlined\" sx={{ padding: 1 }}>\n          <Typography variant=\"h3\">Bio</Typography>\n          <BioSection\n            bio={characterData.bio}\n            onChange={bio => setCharacterData({ ...characterData, bio })}\n            metatypes={priorities.metatypes}\n            magicPriority={priorities.magic}\n          />\n        </Paper>\n\n        <Paper variant=\"outlined\" sx={{ padding: 1 }}>\n          <Typography variant=\"h3\">Priorities</Typography>\n          <PrioritiesTable\n            metatypeId={characterData.bio.metatype}\n            awakened={characterData.bio.awakened}\n            onChange={setPriorities}\n          />\n        </Paper>\n\n        <Paper variant=\"outlined\" sx={{ padding: 1 }}>\n          <Typography variant=\"h3\">Attributes</Typography>\n          <AttributesTable\n            metatypeId={characterData.bio.metatype}\n            awakened={characterData.bio.awakened}\n            attributePoints={priorities.attributePoints}\n            adjustmentPoints={priorities.adjustmentPoints}\n            magic={priorities.magic}\n            onChange={attributes => setCharacterData({ ...characterData, attributes })}\n          />\n        </Paper>\n\n        <Paper variant=\"outlined\" sx={{ padding: 1 }}>\n          <Typography variant=\"h3\">Skills</Typography>\n          <SkillsSection />\n        </Paper>\n      </Stack>\n    </RootLayout>\n  )\n}\n","import { Migration } from './index'\n\nexport const InitialMigration: Migration = {\n  version: 1,\n  run: (character) => character,\n}\n","import { FC } from 'react'\n\nimport { CharacterAttr } from '../../Character/CharacterAttr'\nimport { useActiveSkill } from '../../Character/CharacterProvider'\nimport { ActiveSkillIds } from '../../Skills'\nimport { DamageType } from '../../System/Damage/DamageType'\nimport { collectEffectBonuses, DiceGroup, DicePool, skillSpecialtyBonus } from '../../UI/DicePool'\nimport { AugmentAttr } from '../Augments/AugmentAttr'\nimport { AugmentData, AugmentType } from '../Augments/AugmentData'\nimport { useAllNestedGear, useFindGear } from '../GearContext'\nimport { useTargetingAutosoft } from '../Software/Autosoft/AutosoftProvider'\nimport { VehicleAttr } from '../Vehicles/VehicleAttr'\nimport { WeaponData } from './WeaponData'\n\nexport enum WeaponPoolKeys {\n  basicAttack = 'weapon.basicAttack',\n  droneAttack = 'weapon.droneAttack',\n  mountedAttack = 'weapon.mountedAttack',\n  riggedAttack = 'weapon.riggedAttack',\n}\n\ninterface FirearmPoolProps {\n  weapon: WeaponData\n}\n\nexport const BasicAttackPool: FC<FirearmPoolProps> = ({\n  weapon,\n}) => {\n  const skill = useActiveSkill(weapon.skill)\n  const nestedGear = useAllNestedGear(weapon.id)\n\n  let bonuses: DiceGroup[] = []\n\n  const gearBonuses = collectEffectBonuses(nestedGear, WeaponPoolKeys.basicAttack)\n  if (gearBonuses) bonuses = [...bonuses, ...gearBonuses]\n\n  const specialtyBonus = skillSpecialtyBonus(skill, weapon.specialtyName)\n  if (specialtyBonus) bonuses = [...bonuses, specialtyBonus]\n\n  return <DicePool\n    poolKey={WeaponPoolKeys.basicAttack}\n    name={'Basic Attack'}\n    attrs={[CharacterAttr.agility]}\n    skills={[weapon.skill]}\n    bonuses={bonuses}\n    dmgPenaltyTypes={[DamageType.charPhysical, DamageType.charStun]}\n  />\n}\n\nexport const DroneAttackPool: FC<FirearmPoolProps> = ({\n  weapon,\n}) => {\n  const targetingAutosoft = useTargetingAutosoft(weapon.name) || -1\n  const targetingGroup: DiceGroup = { name: 'Targeting', size: targetingAutosoft }\n  const nestedGear = useAllNestedGear(weapon.id)\n\n  return <DicePool\n    poolKey={WeaponPoolKeys.droneAttack}\n    name={'Drone Attack'}\n    attrs={[VehicleAttr.sensor]}\n    groups={[targetingGroup]}\n    bonuses={collectEffectBonuses(nestedGear, WeaponPoolKeys.droneAttack)}\n    dmgPenaltyTypes={[DamageType.vehiclePhysical]}\n  />\n}\n\nexport const VehicleAttackPool: FC<FirearmPoolProps> = ({\n  weapon,\n}) => {\n  const nestedGear = useAllNestedGear(weapon.id)\n\n  return <DicePool\n    poolKey={WeaponPoolKeys.mountedAttack}\n    name={'Mounted Attack'}\n    attrs={[CharacterAttr.logic]}\n    skills={[ActiveSkillIds.CRB.engineering]}\n    bonuses={collectEffectBonuses(nestedGear, WeaponPoolKeys.mountedAttack)}\n    dmgPenaltyTypes={[DamageType.charPhysical, DamageType.charStun]}\n  />\n}\n\nexport const RiggedAttackPool: FC<FirearmPoolProps> = ({\n  weapon,\n}) => {\n  const nestedGear = useAllNestedGear(weapon.id)\n\n  const controlRig = useFindGear<AugmentData>(gear => gear.augmentType === AugmentType.controlRig)\n  if (!controlRig) return null\n\n  return <DicePool\n    poolKey={WeaponPoolKeys.riggedAttack}\n    name={'Rigged Attack'}\n    attrs={[CharacterAttr.logic]}\n    skills={[ActiveSkillIds.CRB.engineering]}\n    bonuses={[\n      { name: 'Control Rig', size: controlRig.attributes[AugmentAttr.rating] },\n      ...collectEffectBonuses(nestedGear, WeaponPoolKeys.riggedAttack),\n    ]}\n    dmgPenaltyTypes={[DamageType.charPhysical, DamageType.charStun, DamageType.vehiclePhysical]}\n  />\n}\n","import { RecordId } from '../../Api/Model'\nimport { Character } from '../Character'\nimport { InitialMigration } from './1-Inital'\n\nexport interface Migration {\n  version: number\n\n  run (data: SavedCharacter): SavedCharacter\n}\n\nexport interface SavedCharacter {\n  name: string\n  id: RecordId\n\n  data: {\n    dataVersion: number\n    [key: string]: unknown\n  }\n}\n\nexport const migrateCharacter = (character: Character | SavedCharacter): Character => {\n  for (const migration of migrations) {\n    if (character.data.dataVersion >= migration.version) continue\n    character = migration.run(character as SavedCharacter)\n    character.data.dataVersion = migration.version\n  }\n\n  return character as Character\n}\n\nconst migrations: Migration[] = [\n  InitialMigration,\n].sort((a, b) => a.version - b.version)\n","import { createContext, FC, useContext } from 'react'\n\nimport { AutosoftAttr } from './AutosoftAttr'\nimport { AutosoftData } from './AutosoftData'\n\nconst AutosoftContext = createContext<AutosoftData[]>([])\n\ninterface AutosoftProviderProps {\n  autosofts: AutosoftData[]\n}\n\nexport const AutosoftProvider: FC<AutosoftProviderProps> = ({\n  autosofts,\n  children,\n}) => {\n  return (\n    <AutosoftContext.Provider value={autosofts}>{children}</AutosoftContext.Provider>\n  )\n}\n\nexport const useAutosoft = (name: string): AutosoftData | undefined => {\n  const autosofts = useContext(AutosoftContext)\n  return autosofts.find(autosoft => autosoft.name === name)\n}\n\nexport const useTargetingAutosoft = (weaponName: string): number | undefined => {\n  return useContext(AutosoftContext)\n    .find(autosoft => autosoft.attributes[AutosoftAttr.weapon] === weaponName)\n    ?.attributes[AutosoftAttr.rating]\n}\n","import { BaseGearData, GearType } from '../GearData'\n\nexport enum WeaponModAttr {\n\n}\n\nexport interface WeaponModData extends BaseGearData {\n  gearType: GearType.weaponMod\n  slot: WeaponModSlot | null\n  removable?: boolean\n}\n\nexport enum WeaponModSlot {\n  top = 'Top',\n  barrel = 'Barrel',\n  under = 'Under',\n  topOrUnder = 'Top or Under'\n}\n","import { CharacterData } from '../../Character/CharacterData'\nimport { GearData } from '../../Gear/GearData'\nimport { OtherGearData } from '../../Gear/OtherGearData'\n\nconst usedIds = new Set<string>()\n\nexport function addGear<T extends GearData = OtherGearData> (\n  character: CharacterData,\n  gear: T,\n  attachedGear: GearData[] = [],\n): T {\n  if (gear.id === null) { throw new Error(`Null gear id for ${gear.name}`)}\n  usedIds.add(gear.id)\n  character.gear.push(gear)\n  attachedGear.map(item => item.attachedTo = gear.id)\n  return gear\n}\n","import { CharacterData } from '../../../Character/CharacterData'\nimport { GearType } from '../../../Gear/GearData'\nimport { AutosoftAttr } from '../../../Gear/Software/Autosoft/AutosoftAttr'\nimport { AutosoftData } from '../../../Gear/Software/Autosoft/AutosoftData'\nimport { VehicleAttr } from '../../../Gear/Vehicles/VehicleAttr'\nimport { VehicleData } from '../../../Gear/Vehicles/VehicleData'\nimport { ModType, SlotType, VehicleModAttr, VehicleModData } from '../../../Gear/Vehicles/VehicleModData'\nimport { WeaponAttr } from '../../../Gear/Weapons/WeaponAttr'\nimport { WeaponData } from '../../../Gear/Weapons/WeaponData'\nimport { ActiveSkillIds, Specializations } from '../../../Skills'\nimport { EffectType } from '../../../System/Effect'\nimport { addGear } from '../index'\n\nimport { Artemis, rcc } from './index'\n\nconst fnHar: WeaponData = {\n  id: null,\n  gearType: GearType.weapon,\n  name: 'FN-HAR',\n  type: 'Rifle',\n  avail: {rarity: 3, license: true},\n  cost: 2_100,\n  attributes: {\n    [WeaponAttr.dv]: '5P',\n    [WeaponAttr.modes]: 'SA/BF/FA',\n    [WeaponAttr.attackRatings]: '3/11/10/6/1',\n    [WeaponAttr.ammo]: '35(c)',\n  },\n\n  skill: ActiveSkillIds.CRB.firearms,\n  specialtyName: Specializations.CRB.Firearms.Rifles,\n}\n\nconst riggerInterface: VehicleModData = {\n  id: null,\n  gearType: GearType.vehicleMod,\n  modType: ModType.riggerInterface,\n  name: 'Rigger Interface',\n  type: 'vehicle mod',\n  avail: {rarity: 2, license: true},\n  cost: 1_000,\n}\n\nconst stdWeaponMount: VehicleModData = {\n  id: null,\n  gearType: GearType.vehicleMod,\n  modType: ModType.stdWeaponMount,\n  name: 'Standard Weapon Mount',\n  type: 'vehicle mod',\n  avail: {rarity: 4, illegal: true},\n  cost: 2_500,\n}\n\nexport function addDrones(character: CharacterData): void {\n  addGear<VehicleData>(character, {\n    id: '4a5eb8d5-004b-4cdd-bce5-e0db64a33639',\n    gearType: GearType.vehicle,\n    name: 'Range Rover Model 2080',\n    type: 'Van',\n    cost: 73_000,\n    avail: {rarity: 2},\n\n    attributes: {\n      [VehicleAttr.handling]: '4/5',\n      [VehicleAttr.accel]: 12,\n      [VehicleAttr.speedInterval]: 20,\n      [VehicleAttr.topSpeed]: 160,\n      [VehicleAttr.body]: 16,\n      [VehicleAttr.armor]: 10,\n      [VehicleAttr.pilot]: 4,\n      [VehicleAttr.sensor]: 4,\n      [VehicleAttr.seat]: 4,\n    },\n\n    slavedTo: rcc.id,\n    pilotingSpeciality: 'Ground Craft',\n  }, [\n    addGear(character, {...riggerInterface, id: 'cebc1ac9-e097-44f6-9394-bc342a7f71a3'}),\n    addGear(character, {\n      id: '1497c961-81f4-4b75-aed6-90c345671188',\n      name: 'Medium Drone Rack',\n      gearType: GearType.vehicleMod,\n      type: 'Core Mod',\n      attributes: {\n        [VehicleModAttr.hardpointSize]: 'Large',\n        'Drone Capacity': '8 Medium',\n      },\n    }),\n  ])\n\n  addGear<VehicleData>(character, {\n    id: '120f2464-312a-4a2f-a53a-22aa9effa85c',\n    name: 'Ross',\n    gearType: GearType.vehicle,\n    type: 'Medium Crawler Drone',\n    cost: 65_000,\n\n    attributes: {\n      [VehicleAttr.handling]: 3,\n      [VehicleAttr.accel]: 8,\n      [VehicleAttr.speedInterval]: 15,\n      [VehicleAttr.topSpeed]: 30,\n      [VehicleAttr.body]: 8,\n      [VehicleAttr.armor]: 6,\n      [VehicleAttr.pilot]: 4,\n      [VehicleAttr.sensor]: 4,\n      [VehicleAttr.seat]: 0,\n    },\n\n    slavedTo: rcc.id,\n    pilotingSpeciality: 'Ground Craft',\n  }, [\n    addGear(character, {\n      id: '40e6106a-0f52-4f85-80e5-593b04dbcc76',\n      gearType: GearType.vehicleMod,\n      modType: ModType.stdWeaponMount,\n      name: 'Heavy Weapon Mount',\n      type: 'vehicle mod',\n      avail: {rarity: 4, illegal: true},\n      cost: 5_000,\n    }, [\n      addGear(character, {\n        id: '199d265e-d203-4df4-b3ef-6225f8c4b8da',\n        gearType: GearType.weapon,\n        name: 'Panther XXL',\n        type: 'Machine Gun',\n        avail: {rarity: 6, illegal: true},\n        cost: 2_100,\n        attributes: {\n          [WeaponAttr.dv]: '7P',\n          [WeaponAttr.modes]: 'SA',\n          [WeaponAttr.attackRatings]: '1/9/12/8/6',\n          [WeaponAttr.ammo]: '15(c)',\n        },\n\n        skill: ActiveSkillIds.CRB.firearms,\n        specialtyName: Specializations.CRB.Firearms.MachineGuns,\n      }),\n    ]),\n    addGear(character, {\n      id: '1efa148b-c110-4688-ab96-bc3f59d46405',\n      gearType: GearType.vehicleMod,\n      name: 'Increased Structural Integrity',\n      type: 'Core Mod',\n      attributes: {\n        [VehicleModAttr.rating]: 4,\n        [VehicleModAttr.slotType]: SlotType.chassis,\n        [VehicleModAttr.slotCost]: 4,\n      },\n\n      effects: [\n        { type: EffectType.attrBonus, attr: VehicleAttr.body, value: 4 },\n      ],\n    }),\n    addGear(character, {...riggerInterface, id: '3e5e33d7-6e17-4334-8c38-4068106230a5'}),\n    addGear<AutosoftData>(Artemis, {\n      id: 'f78ae905-b77f-44a9-be57-56caa2e3629b',\n      gearType: GearType.autosoft,\n      name: 'Panther XXL Targeting',\n      type: 'Targeting Autosoft',\n      avail: { rarity: 9 },\n      cost: 4_500,\n\n      attributes: {\n        [AutosoftAttr.rating]: 9,\n        [AutosoftAttr.weapon]: 'Panther XXL',\n        [AutosoftAttr.attr]: 'Sensor',\n      },\n    }),\n  ])\n\n  const rotoDrone: VehicleData = {\n    id: '55887cc1-89b1-4b6d-8fc5-88560d32d31d',\n    gearType: GearType.vehicle,\n    type: 'Medium Rotor Drone',\n    name: 'MCT-Nissan Roto-drone',\n    cost: 5_000,\n    avail: {rarity: 2},\n\n    attributes: {\n      [VehicleAttr.handling]: 3,\n      [VehicleAttr.accel]: 20,\n      [VehicleAttr.speedInterval]: 30,\n      [VehicleAttr.topSpeed]: 160,\n      [VehicleAttr.body]: 5,\n      [VehicleAttr.armor]: 6,\n      [VehicleAttr.pilot]: 3,\n      [VehicleAttr.sensor]: 2,\n      [VehicleAttr.seat]: null,\n    },\n\n    slavedTo: rcc.id,\n    pilotingSpeciality: 'Aircraft',\n  }\n\n  addGear<VehicleData>(character, {\n    ...rotoDrone,\n    id: '55887cc1-89b1-4b6d-8fc5-88560d32d31d',\n    name: 'MCT-Nissan Roto-drone 1',\n  }, [\n    addGear(character, {...stdWeaponMount, id: 'f2b1186d-6832-4532-95e9-c627037fcf9d'}, [\n      addGear(character, {...fnHar, id: '853a03bb-18fd-42c3-9247-df59e1438904'}),\n    ]),\n    addGear(character, {...riggerInterface, id: 'ae26eaa6-0e99-41db-b548-383e989865a3'}),\n  ])\n\n  addGear<VehicleData>(character, {\n    ...rotoDrone,\n    id: '17fe3632-c927-4def-91eb-7376ea1cdd3f',\n    name: 'MCT-Nissan Roto-drone 2',\n  }, [\n    addGear(character, {...stdWeaponMount, id: '7a1c1485-0f2f-4434-b216-3379c0b47e83'}, [\n      addGear(character, {...fnHar, id: 'c068d8c7-de94-41d6-91c1-45c55fa58a93'}),\n    ]),\n    addGear(character, {...riggerInterface, id: '0dfe8000-84db-430b-8cd6-7684b18ac5da'}),\n  ])\n\n  addGear<VehicleData>(character, {\n    ...rotoDrone,\n    id: '2be9530b-621f-4f50-9188-722d3843f1c4',\n    name: 'MCT-Nissan Roto-drone 3',\n  }, [\n    addGear(character, {...stdWeaponMount, id: '39eb01e7-f91d-4a16-9332-02818904fbd6'}, [\n      addGear(character, {...fnHar, id: '842b9dbc-61da-4ec5-a71c-707121f12d00'}),\n    ]),\n    addGear(character, {...riggerInterface, id: '00038dff-c385-46f9-a9d0-9f83464ea691'}),\n  ])\n\n  const crawlerDrone: VehicleData = {\n    id: null,\n    gearType: GearType.vehicle,\n    name: 'Aztech Crawler',\n    type: 'Small Anthro Drone',\n    cost: 4_500,\n    avail: {rarity: 2},\n\n    attributes: {\n      [VehicleAttr.handling]: '3/4',\n      [VehicleAttr.accel]: 8,\n      [VehicleAttr.speedInterval]: 10,\n      [VehicleAttr.topSpeed]: 30,\n      [VehicleAttr.body]: 6,\n      [VehicleAttr.armor]: 2,\n      [VehicleAttr.pilot]: 2,\n      [VehicleAttr.sensor]: 2,\n      [VehicleAttr.seat]: null,\n    },\n\n    slavedTo: rcc.id,\n    pilotingSpeciality: 'Ground Craft',\n  }\n\n  addGear<VehicleData>(character, {\n    ...crawlerDrone,\n    id: 'b02313b9-c024-4c5b-a661-9e23fbc6e816',\n    name: 'Aztech Crawler 1',\n  }, [\n    addGear(character, {...stdWeaponMount, id: '91afef0a-9401-46eb-9c3a-66ac3a55a2fb'}, [\n      addGear(character, {...fnHar, id: 'd70a4b40-c220-497b-b6ef-460e48477071'}),\n    ]),\n    addGear(character, {...riggerInterface, id: '2801f808-849f-4226-bbb6-6db12fe6ddb9'}),\n  ])\n\n  addGear<VehicleData>(character, {\n    ...crawlerDrone,\n    id: '2853c62d-ac20-4bb3-beed-de9d6861aeb6',\n    name: 'Aztech Crawler 2',\n  }, [\n    addGear(character, {...stdWeaponMount, id: 'ac52b133-3fdd-489d-af2f-88a69e9eeb71'}, [\n      addGear(character, {...fnHar, id: 'a4deeead-3438-4d6d-89b1-5c1ff0b2dc38'}),\n    ]),\n    addGear(character, {...riggerInterface, id: '48cc7529-edce-430a-a966-0d739eada633'}),\n  ])\n\n  addGear<VehicleData>(character, {\n    ...crawlerDrone,\n    id: 'aa6ed552-e891-4c50-b603-b54ccbbaaa16',\n    name: 'Aztech Crawler 3',\n  }, [\n    addGear(character, {...stdWeaponMount, id: 'cc99eb85-de3c-4b24-b23e-2fcc2a4c7434'}, [\n      addGear(character, {...fnHar, id: 'c769571d-b78f-407f-925d-c1b4f39f2204'}),\n    ]),\n    addGear(character, {...riggerInterface, id: 'd6005cd3-36ce-4507-9bd2-c1101df73ad8'}),\n  ])\n\n  addGear<VehicleData>(character, {\n    ...crawlerDrone,\n    id: '1293ade1-6849-47ba-a1fe-e1e5b9fdced0',\n    name: 'Aztech Crawler 4',\n  }, [\n    addGear(character, {...stdWeaponMount, id: '6f0b22cd-2cb7-404b-9b18-3ea8a7ae2199'}, [\n      addGear(character, {...fnHar, id: 'e9730f68-5a22-4aa0-8677-496a2178a6f0'}),\n    ]),\n    addGear(character, {...riggerInterface, id: 'cf4c20d4-fcef-4ee1-aa16-03404f502199'}),\n  ])\n\n  addGear<VehicleData>(character, {\n    ...crawlerDrone,\n    id: '5be40ba8-8f72-4f0b-903f-b4950f3712e3',\n    name: 'Aztech Crawler 5',\n  }, [\n    addGear(character, {...stdWeaponMount, id: '5fb480c0-7d6c-4f40-9f19-de2bb6768798'}, [\n      addGear(character, {...fnHar, id: 'a96ecc3a-edff-45ff-9378-14df89dffe6a'}),\n    ]),\n    addGear(character, {...riggerInterface, id: '6a671163-3b7a-4715-8533-9c989e872fd0'}),\n  ])\n\n  addGear<VehicleData>(character, {\n    ...crawlerDrone,\n    id: '3d68b147-bc40-4418-a647-45e39ab08676',\n    name: 'Aztech Crawler 6',\n  }, [\n    addGear(character, {...stdWeaponMount, id: '0950cc03-fda4-4879-8049-b112d1e3d04a'}, [\n      addGear(character, {...fnHar, id: '66b31a9d-47de-4241-b114-5dc6aea00de2'}),\n    ]),\n    addGear(character, {...riggerInterface, id: 'aab1e2fe-f0a2-4a68-887b-0ea2b671ca10'}),\n  ])\n\n  addGear<VehicleData>(character, {\n    id: '9159eaaa-f444-4f54-ac01-db6b65464764',\n    gearType: GearType.vehicle,\n    type: 'Small Rotor Drone',\n    name: 'Cyberspace Designs Quadrotor',\n    cost: 5_000,\n    avail: {rarity: 2},\n\n    attributes: {\n      [VehicleAttr.handling]: 2,\n      [VehicleAttr.accel]: 15,\n      [VehicleAttr.speedInterval]: 20,\n      [VehicleAttr.topSpeed]: 120,\n      [VehicleAttr.body]: 3,\n      [VehicleAttr.armor]: 1,\n      [VehicleAttr.pilot]: 3,\n      [VehicleAttr.sensor]: 2,\n      [VehicleAttr.seat]: null,\n    },\n\n    slavedTo: rcc.id,\n    pilotingSpeciality: 'Aircraft',\n  }, [\n    addGear(character, {...riggerInterface, id: 'f1118f16-1105-428f-ba17-67d90e00377a'}),\n  ])\n\n  addGear<VehicleData>(character, {\n    id: 'fbbbd8b6-7e5a-46c4-ad0c-5b8c7cadb1f3',\n    gearType: GearType.vehicle,\n    type: 'Micro Rotor Drone',\n    name: 'MCT Gnat',\n    cost: 800,\n    quantity: 8,\n    avail: {rarity: 2},\n\n    attributes: {\n      [VehicleAttr.handling]: 3,\n      [VehicleAttr.accel]: 4,\n      [VehicleAttr.speedInterval]: 10,\n      [VehicleAttr.topSpeed]: 30,\n      [VehicleAttr.body]: 0,\n      [VehicleAttr.armor]: 0,\n      [VehicleAttr.pilot]: 2,\n      [VehicleAttr.sensor]: 1,\n      [VehicleAttr.seat]: null,\n    },\n\n    slavedTo: rcc.id,\n    pilotingSpeciality: 'Aircraft',\n  }, [\n    addGear(character, {...riggerInterface, id: 'b4ba0a55-150b-47b4-b391-cc1da213d48a'}),\n  ])\n}\n","import {BalanceLog} from '../../../System/BalanceLog'\n\nexport const karma: BalanceLog = [\n  {\n    date: '2021-01-02T16:01',\n    value: 2,\n    note: 'Session reward',\n  },\n  {\n    date: '2022-01-02T12:00',\n    value: -10,\n    note: 'Karma => Nuyen (Ron)',\n  },\n  {\n    date: '2021-12-19T16:01',\n    value: 5,\n    note: 'Mission reward',\n  },\n  {\n    date: '2021-12-19T16:00',\n    value: 3,\n    note: 'Session reward',\n  },\n  {\n    date: '2021-12-05T16:00',\n    value: 5,\n    note: 'Session reward',\n  },\n  {\n    date: '2021-11-27T16:00',\n    value: 4,\n    note: 'Session reward',\n  },\n  {\n    date: '2021-11-21T15:05',\n    value: 3,\n    note: 'Session reward',\n  },\n  {\n    date: '2021-11-07T16:00',\n    value: 3,\n    note: 'Session reward',\n  },\n  {\n    date: '2021-10-17T16:00',\n    value: 5,\n    note: 'Session reward',\n  },\n  {\n    date: '2021-10-03T16:00',\n    value: 3,\n    note: 'Session reward',\n  },\n  {\n    date: '2021-09-26T16:00',\n    value: 4,\n    note: 'Session reward',\n  },\n  {\n    date: '2021-09-19T22:00',\n    value: -10,\n    note: 'Body 1 => 2',\n  },\n  {\n    date: '2021-09-19T16:00',\n    value: 5,\n    note: 'Session reward',\n  },\n  {\n    date: '2021-09-11',\n    value: 2,\n    note: 'Session reward',\n  },\n  {\n    date: '2021-08-28',\n    value: 14,\n    note: 'Balance import',\n  },\n]\n","import { AwakenedType } from '../../../Character/AwakenedType'\nimport { CharacterAttr } from '../../../Character/CharacterAttr'\nimport { CharacterData } from '../../../Character/CharacterData'\nimport { ArmorAttr } from '../../../Gear/Armor/ArmorAttr'\nimport { ArmorData } from '../../../Gear/Armor/ArmorData'\nimport { AugmentAttr } from '../../../Gear/Augments/AugmentAttr'\nimport { AugmentData, AugmentGrade, AugmentSlot, AugmentType } from '../../../Gear/Augments/AugmentData'\nimport { GearType } from '../../../Gear/GearData'\nimport { LicenseAttr } from '../../../Gear/License/LicenseAttr'\nimport { LicenseData } from '../../../Gear/License/LicenseData'\nimport { SinAttr } from '../../../Gear/License/SinAttr'\nimport { SinData } from '../../../Gear/License/SinData'\nimport { RccAttr } from '../../../Gear/Rcc/RccAttr'\nimport { RccData } from '../../../Gear/Rcc/RccData'\nimport { AutosoftAttr } from '../../../Gear/Software/Autosoft/AutosoftAttr'\nimport { AutosoftData } from '../../../Gear/Software/Autosoft/AutosoftData'\nimport { WeaponPoolKeys } from '../../../Gear/Weapons/DicePools'\nimport { WeaponAttr } from '../../../Gear/Weapons/WeaponAttr'\nimport { WeaponData } from '../../../Gear/Weapons/WeaponData'\nimport { WeaponModData, WeaponModSlot } from '../../../Gear/Weapons/WeaponModData'\nimport { toCharQuality } from '../../../Qualities/CharacterQuality'\nimport { Qualities, QualityIds } from '../../../Qualities/Quality'\nimport { ActiveSkillIds, SkillType, Specializations } from '../../../Skills'\nimport { EffectType } from '../../../System/Effect'\nimport { addGear } from '../index'\nimport { addDrones } from './drones'\nimport { karma } from './karma'\nimport { nuyen } from './nuyen'\n\nexport const Artemis: CharacterData = {\n  dataVersion: 3,\n\n  bio: {\n    name: 'Jessica Nelson',\n    alias: 'Artemis',\n    role: 'Rigger',\n    gender: 'Female',\n    metatype: 'Elf',\n    awakened: AwakenedType.Mundane,\n    age: '26',\n    height: '190cm',\n  },\n\n  karma,\n  nuyen,\n\n  lifestyle: {\n    grade: 'middle',\n    upkeep: 5_000,\n    prepaid: 3,\n  },\n\n  attributes: {\n    [CharacterAttr.body]: 2,\n    [CharacterAttr.agility]: 6,\n    [CharacterAttr.reaction]: 5,\n    [CharacterAttr.strength]: 1,\n    [CharacterAttr.willpower]: 1,\n    [CharacterAttr.logic]: 7,\n    [CharacterAttr.intuition]: 5,\n    [CharacterAttr.charisma]: 2,\n    [CharacterAttr.edge]: 4,\n    [CharacterAttr.magic]: 0,\n    [CharacterAttr.resonance]: 0,\n    [CharacterAttr.essence]: 6,\n  },\n\n  contacts: [\n    {\n      name: 'James Serif',\n      connection: 2,\n      loyalty: 2,\n      description: 'Drone Parts Dealer',\n    },\n    {\n      name: 'Frank',\n      connection: 2,\n      loyalty: 2,\n      description: 'Matrix Developer',\n    },\n    {\n      name: 'George Crabtree',\n      connection: 2,\n      loyalty: 2,\n      description: 'Lone Star officer',\n    },\n  ],\n\n  skills: [\n    {\n      type: SkillType.active,\n      id: ActiveSkillIds.CRB.electronics,\n      rank: 3,\n    },\n    {\n      type: SkillType.active,\n      id: ActiveSkillIds.CRB.firearms,\n      rank: 5,\n    },\n    {\n      type: SkillType.active,\n      id: ActiveSkillIds.CRB.piloting,\n      rank: 5,\n      specialization: 'Ground Craft',\n    },\n    {\n      type: SkillType.active,\n      id: ActiveSkillIds.CRB.engineering,\n      rank: 7,\n    },\n    {\n      type: SkillType.language,\n      name: 'English',\n      rank: 'native',\n    },\n    {\n      type: SkillType.language,\n      name: 'Elven',\n      rank: 'speciality',\n    },\n    {\n      type: SkillType.knowledge,\n      name: 'Drone Models',\n    },\n    {\n      type: SkillType.knowledge,\n      name: '80/90s Pop Culture',\n    },\n    {\n      type: SkillType.knowledge,\n      name: 'Trideo Series',\n    },\n    {\n      type: SkillType.knowledge,\n      name: 'Security Systems',\n    },\n    {\n      type: SkillType.knowledge,\n      name: 'Virtual Nightclubs',\n    },\n    {\n      type: SkillType.knowledge,\n      name: 'Tech Companies',\n    },\n  ],\n\n  gear: [],\n\n  qualities: [\n    toCharQuality(Qualities[QualityIds.CRB.exceptional], { type: CharacterAttr.logic }),\n    toCharQuality(Qualities[QualityIds.CRB.socialStress], { type: 'Large Groups' }),\n    toCharQuality(Qualities[QualityIds.CRB.juryrigger]),\n    toCharQuality(Qualities[QualityIds.CRB.photographicMemory]),\n    toCharQuality(Qualities[QualityIds.CRB.analyticalMind]),\n    toCharQuality(Qualities[QualityIds.CRB.ambidextrous]),\n  ],\n}\n\naddGear<ArmorData>(Artemis, {\n  id: '84596cc0-754e-457e-b862-c6935f028f62',\n  gearType: GearType.armor,\n  name: 'Armored Jacket',\n  type: 'Armor',\n  source: { book: 'CRB', page: 265 },\n  avail: { rarity: 2 },\n  cost: 1_000,\n\n  effects: [\n    { type: EffectType.defRatingAdj, value: 4 },\n  ],\n\n  attributes: {\n    [ArmorAttr.defenseBonus]: 4,\n    [ArmorAttr.capacity]: 8,\n  },\n})\n\nconst smartGunIntMod: WeaponModData = {\n  id: null,\n  source: { book: 'CRB', page: 260 },\n  gearType: GearType.weaponMod,\n  name: 'Smart Gun Int.',\n  type: 'Weapon Mod',\n  cost: 500,\n\n  slot: null,\n  removable: false,\n  wirelessBonus: {\n    enabled: true,\n    description:\n      'You gain a +1 dice pool bonus. Gain a bonus Minor Action on a turn when ' +\n      'you use the Reload Smartgun or Change Device Mode actions to eject a ' +\n      'clip or change fire mode.',\n  },\n  effects: [\n    {\n      wireless: true,\n      name: 'Smart Gun',\n      type: EffectType.dicePoolAdj,\n      poolType: WeaponPoolKeys.basicAttack,\n      value: 1,\n    },\n  ],\n}\n\naddGear<AugmentData>(Artemis, {\n  id: '37f9da35-c67f-46fd-9e79-3929db823816',\n  gearType: GearType.augment,\n  name: 'Control Rig',\n  type: 'Headwear Augment',\n  avail: { rarity: 3, license: true },\n  cost: 72_000,\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.used,\n    [AugmentAttr.essenceCost]: 1.6,\n    [AugmentAttr.slot]: AugmentSlot.headware,\n    [AugmentAttr.rating]: 2,\n  },\n\n  augmentType: AugmentType.controlRig,\n})\n\naddGear<AugmentData>(Artemis, {\n  id: 'd89aafe6-111f-4e60-9fe2-fe5c1c3f94b8',\n  gearType: GearType.augment,\n  name: 'Cerebral Booster',\n  type: 'Cultured Bioware Augment',\n  avail: { rarity: 4 },\n  cost: 47_250,\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.used,\n    [AugmentAttr.essenceCost]: 0.66,\n    [AugmentAttr.slot]: AugmentSlot.bioware,\n    [AugmentAttr.rating]: 3,\n  },\n\n  effects: [\n    { type: EffectType.attrBonus, attr: CharacterAttr.logic, value: 3 },\n  ],\n})\n\naddGear<AugmentData>(Artemis, {\n  id: 'de13c340-89b3-4bc9-b6f4-29288cff00bc',\n  gearType: GearType.augment,\n  name: 'Sleep Regulator',\n  type: 'Cultured Bioware Augment',\n  avail: { rarity: 4 },\n  source: { book: 'CRB', page: 293 },\n  cost: 6_000,\n\n  description: (`\n    You need less sleep per day, and the sleep you get is deep and restful (and harder\n    to wake up from). The sleep regulator lets you get by with three hours of sleep\n    each night, and you can stay awake for twice as long as normal without acquiring \n    the Fatigued status. Resting hours for healing purposes are not affected.\n  `),\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.used,\n    [AugmentAttr.essenceCost]: 0.11,\n    [AugmentAttr.slot]: AugmentSlot.bioware,\n  },\n})\n\naddGear<WeaponData>(Artemis, {\n  id: 'e7f70f35-8d96-43be-8b19-fc9d8718ed95',\n  source: { book: 'CRB', page: 254 },\n  gearType: GearType.weapon,\n  name: 'FN P93 Predator',\n  type: 'Submachine Gun',\n  avail: { rarity: 4, license: true },\n  cost: 925,\n\n  attributes: {\n    [WeaponAttr.dv]: '4P',\n    [WeaponAttr.modes]: 'SA/BF/FA',\n    [WeaponAttr.attackRatings]: '9/12/7/-/-',\n    [WeaponAttr.ammo]: '50(c)',\n  },\n\n  skill: ActiveSkillIds.CRB.firearms,\n  specialtyName: Specializations.CRB.Firearms.SubmachineGuns,\n}, [\n  addGear(Artemis, {\n    id: 'f8d19b04-8767-4693-9774-195ff92ed8df',\n    source: { book: 'CRB', page: 254 },\n    gearType: GearType.weaponMod,\n    name: 'Rigid Stock',\n    type: 'Weapon Mod',\n\n    slot: null,\n    removable: false,\n  }),\n  addGear(Artemis, {\n    id: '02fbb521-e039-4c06-9aaf-cead333e3885',\n    source: { book: 'CRB', page: 254 },\n    gearType: GearType.weaponMod,\n    name: 'Laser sight',\n    type: 'Weapon Mod',\n\n    slot: WeaponModSlot.topOrUnder,\n  }),\n  addGear(Artemis, {\n    id: '21d66c66-4615-49d6-b330-e4c25eea631a',\n    source: { book: 'CRB', page: 254 },\n    gearType: GearType.weaponMod,\n    name: 'Flashlight',\n    type: 'Weapon Mod',\n\n    slot: WeaponModSlot.topOrUnder,\n  }),\n  addGear(Artemis, { ...smartGunIntMod, id: '429f440e-ffc3-459d-b08f-b013af1648dc' }),\n])\n\naddGear<WeaponData>(Artemis, {\n  id: 'ae2baf27-bd6f-43e2-8198-a19e37231b7d',\n  source: { book: 'CRB', page: 252 },\n  gearType: GearType.weapon,\n  name: 'Colt America L36',\n  type: 'Light Pistol',\n  avail: { rarity: 2, license: true },\n  cost: 230,\n\n  attributes: {\n    [WeaponAttr.dv]: '2P',\n    [WeaponAttr.modes]: 'SA',\n    [WeaponAttr.attackRatings]: '8/8/6/-/-',\n    [WeaponAttr.ammo]: '11(c)',\n  },\n  wirelessBonus: {\n    enabled: true,\n    description:\n      'The user can alter ownership with a Minor Action',\n  },\n\n  skill: ActiveSkillIds.CRB.firearms,\n  specialtyName: Specializations.CRB.Firearms.LightPistols,\n}, [\n  addGear(Artemis, { ...smartGunIntMod, id: '7c94f42b-e770-472f-85d8-992cde7e2606' }),\n])\n\nconst autosofts: AutosoftData[] = [\n  addGear<AutosoftData>(Artemis, {\n    id: 'de5e973c-134d-427e-9a3a-205422341b7b',\n    gearType: GearType.autosoft,\n    name: 'FN-HAR Targeting',\n    type: 'Targeting Autosoft',\n    avail: { rarity: 8 },\n    cost: 4_000,\n\n    attributes: {\n      [AutosoftAttr.rating]: 8,\n      [AutosoftAttr.weapon]: 'FN-HAR',\n      [AutosoftAttr.attr]: 'Sensor',\n    },\n  }),\n  addGear<AutosoftData>(Artemis, {\n    id: 'a0af5540-37c7-44ca-af2a-03cb21efd83a',\n    gearType: GearType.autosoft,\n    name: 'Clearsight',\n    type: 'Autosoft',\n    avail: { rarity: 8 },\n    cost: 4_000,\n\n    attributes: {\n      [AutosoftAttr.rating]: 8,\n      [AutosoftAttr.skill]: 'Perception',\n      [AutosoftAttr.attr]: 'Sensor',\n    },\n  }),\n  addGear<AutosoftData>(Artemis, {\n    id: '3a459c98-5354-4fa1-a230-dfe77b199ffa',\n    gearType: GearType.autosoft,\n    name: 'Evasion',\n    type: 'Autosoft',\n    avail: { rarity: 8 },\n    cost: 4_000,\n\n    attributes: {\n      [AutosoftAttr.rating]: 8,\n      [AutosoftAttr.skill]: 'Evasion',\n      [AutosoftAttr.attr]: 'Pilot',\n    },\n  }),\n  addGear<AutosoftData>(Artemis, {\n    id: '78a5f82e-636f-468a-85e3-5af73304b7c0',\n    gearType: GearType.autosoft,\n    name: 'Maneuvering',\n    type: 'Autosoft',\n    avail: { rarity: 8 },\n    cost: 4_000,\n\n    attributes: {\n      [AutosoftAttr.rating]: 8,\n      [AutosoftAttr.skill]: 'Piloting',\n      [AutosoftAttr.attr]: 'Pilot',\n    },\n  }),\n  addGear<AutosoftData>(Artemis, {\n    id: 'a5b8c866-38cb-40a2-a136-d3feb39ea68d',\n    gearType: GearType.autosoft,\n    name: 'Electronic Warfare',\n    type: 'Autosoft',\n    avail: { rarity: 8 },\n    cost: 4_000,\n\n    attributes: {\n      [AutosoftAttr.rating]: 8,\n      [AutosoftAttr.skill]: 'Cracking',\n      [AutosoftAttr.attr]: 'Sensor',\n    },\n  }),\n  addGear<AutosoftData>(Artemis, {\n    id: '0b3dae26-a9d1-4752-a298-db024d13476b',\n    gearType: GearType.autosoft,\n    name: 'Black Knight Targeting',\n    type: 'Targeting Autosoft',\n    avail: { rarity: 8 },\n    cost: 4_000,\n\n    attributes: {\n      [AutosoftAttr.rating]: 8,\n      [AutosoftAttr.weapon]: 'Ingram Black Knight',\n      [AutosoftAttr.attr]: 'Sensor',\n    },\n  }),\n]\n\nconst rccHeadwear = addGear<AugmentData>(Artemis, {\n  id: '1f8b016d-a36f-45b6-8099-7527e2986093',\n  gearType: GearType.augment,\n  name: 'RCC Headwear',\n  type: 'Headwear Augment',\n  avail: { rarity: 2, license: true },\n  source: { book: 'DC', page: 145 },\n  cost: 2_000,\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.used,\n    [AugmentAttr.essenceCost]: 0.33,\n    [AugmentAttr.slot]: AugmentSlot.headware,\n    [AugmentAttr.capacityCost]: 3,\n  },\n})\n\nexport const rcc = addGear<RccData>(Artemis, {\n  id: 'bb6e3208-418d-41b8-85c3-447e6328aa5bs',\n  gearType: GearType.rcc,\n  name: 'Proteus Poseidon',\n  type: 'RCC',\n  avail: { rarity: 6, license: true },\n  cost: 68_000,\n\n  attributes: {\n    [RccAttr.deviceRating]: 5,\n    [RccAttr.dataProcessing]: 5,\n    [RccAttr.firewall]: 5,\n  },\n\n  slavedAutosofts: [\n    'de5e973c-134d-427e-9a3a-205422341b7b',\n    'a0af5540-37c7-44ca-af2a-03cb21efd83a',\n    '3a459c98-5354-4fa1-a230-dfe77b199ffa',\n    '78a5f82e-636f-468a-85e3-5af73304b7c0',\n    'a5b8c866-38cb-40a2-a136-d3feb39ea68d',\n  ],\n\n  attachedTo: rccHeadwear.id,\n})\n\nautosofts.forEach(soft => soft.attachedTo = rcc.id)\naddDrones(Artemis)\n\naddGear<AugmentData>(Artemis, {\n  id: '62c928a2-2a1e-4195-83ee-c760b6f93e1b',\n  gearType: GearType.augment,\n  name: 'Cybereyes',\n  type: 'Augment',\n  source: { book: 'CRB', page: 285 },\n  avail: { rarity: 4 },\n  cost: 12_000,\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.alpha,\n    [AugmentAttr.rating]: 4,\n    [AugmentAttr.capacity]: 12,\n    [AugmentAttr.essenceCost]: 0.32,\n    [AugmentAttr.slot]: AugmentSlot.eyeware,\n  },\n}, [\n  addGear<AugmentData>(Artemis, {\n    id: 'a19ea646-4212-49a2-908c-1da5f3ab498f',\n    gearType: GearType.augment,\n    name: 'Smartlink',\n    type: 'Cybereye Augment',\n    source: { book: 'CRB', page: 275 },\n    avail: { rarity: 4, license: true },\n    cost: 4_800,\n\n    attributes: {\n      [AugmentAttr.grade]: AugmentGrade.alpha,\n      [AugmentAttr.essenceCost]: 0.16,\n      [AugmentAttr.slot]: AugmentSlot.eyeware,\n      [AugmentAttr.capacityCost]: 3,\n    },\n  }),\n  addGear<AugmentData>(Artemis, {\n    id: '31e7ddd1-dca5-4f99-a67d-2fecadcf2853',\n    gearType: GearType.augment,\n    name: 'Imagelink',\n    type: 'Cybereye Augment',\n    source: { book: 'CRB', page: 275 },\n    avail: { rarity: 3 },\n    cost: 960,\n\n    attributes: {\n      [AugmentAttr.grade]: AugmentGrade.alpha,\n      [AugmentAttr.slot]: AugmentSlot.eyeware,\n      [AugmentAttr.capacityCost]: 0,\n    },\n  }),\n  addGear<AugmentData>(Artemis, {\n    id: '1660efc9-98d5-4ed1-b2da-651e7ea578c5',\n    gearType: GearType.augment,\n    name: 'Low-Light Vision',\n    type: 'Cybereye Augment',\n    source: { book: 'CRB', page: 275 },\n    avail: { rarity: 3 },\n    cost: 900,\n\n    attributes: {\n      [AugmentAttr.grade]: AugmentGrade.alpha,\n      [AugmentAttr.capacityCost]: 2,\n      [AugmentAttr.slot]: AugmentSlot.eyeware,\n    },\n  }),\n  addGear<AugmentData>(Artemis, {\n    id: '31189433-ba37-4186-a453-6e236d915caa',\n    gearType: GearType.augment,\n    name: 'Vision Enhancement',\n    type: 'Cybereye Augment',\n    source: { book: 'CRB', page: 275 },\n    avail: { rarity: 4 },\n    cost: 4_800,\n\n    attributes: {\n      [AugmentAttr.grade]: AugmentGrade.alpha,\n      [AugmentAttr.capacityCost]: 2,\n      [AugmentAttr.slot]: AugmentSlot.eyeware,\n    },\n  }),\n  addGear<AugmentData>(Artemis, {\n    id: '1b6cdf25-9374-4a09-b2a1-76ed1a9be01b',\n    gearType: GearType.augment,\n    name: 'Vision Magnification',\n    type: 'Cybereye Augment',\n    source: { book: 'CRB', page: 275 },\n    avail: { rarity: 4 },\n    cost: 2_400,\n\n    attributes: {\n      [AugmentAttr.grade]: AugmentGrade.alpha,\n      [AugmentAttr.capacityCost]: 2,\n      [AugmentAttr.slot]: AugmentSlot.eyeware,\n    },\n  }),\n])\n\naddGear<AugmentData>(Artemis, {\n  id: '89192a52-adf6-41d1-8978-0f0787185b5a',\n  gearType: GearType.augment,\n  name: 'Commlink',\n  type: 'Headware Augment',\n  source: { book: 'CRB', page: 283 },\n  avail: { rarity: 1 },\n  cost: 1_000,\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.used,\n    [AugmentAttr.essenceCost]: 0.11,\n    [AugmentAttr.slot]: AugmentSlot.headware,\n  },\n}, [\n  addGear(Artemis, {\n    id: '8c2e404d-5678-4dad-8cdd-dcda26e9d866',\n    gearType: GearType.other,\n    name: 'Hermes Ikon',\n    type: 'Commlink',\n    source: { book: 'CRB', page: 267 },\n    avail: { rarity: 3 },\n    cost: 5_000,\n\n    attributes: {\n      'commlink.deviceRating': 5,\n      'commlink.attributes': '3/0',\n      'commlink.programSlots': 2,\n    },\n  }),\n])\n\naddGear<AugmentData>(Artemis, {\n  id: '3803d92f-1869-41b0-975a-dbdd929af4d7',\n  name: 'Synaptic Booster',\n  type: 'Cultured Bioware Augment',\n  gearType: GearType.augment,\n  source: { book: 'CRB', page: 293 },\n  avail: { rarity: 4, license: true },\n  cost: 95_000,\n\n  description: (`\n    The nerve cells making up the spinal cord are both broadened and replicated \n    with this bioware, allowing for neural bandwidth. The result is a much faster \n    reaction time. The booster confers a bonus of +1 Reaction (and the accompanying \n    adjustment to Initiative Score), 1 additional Initiative Die, and 1 additional\n    Minor Action per point of Rating. The synaptic booster cannot be combined with \n    any other form of Reaction or Initiative enhancement. Unlike other enhancements,\n    this cannot be turned off, leaving the user in a perpetual state of being in\n    surrounded by slow motion.  \n  `),\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.used,\n    [AugmentAttr.essenceCost]: 1.1,\n    [AugmentAttr.slot]: AugmentSlot.bioware,\n    [AugmentAttr.rating]: 2,\n  },\n\n  enabled: true,\n  effects: [\n    { type: EffectType.attrBonus, attr: CharacterAttr.reaction, value: 2 },\n    { type: EffectType.initAdj, value: 2 },\n  ],\n})\n\naddGear<SinData>(Artemis, {\n  id: '110a3b00-ac94-4698-a60c-7cf34d829bcb',\n  gearType: GearType.sin,\n  name: 'Sara McCabe',\n  type: 'Fake SIN',\n  source: { book: 'CRB', page: 273 },\n  avail: { rarity: 4, illegal: true },\n  cost: 15_000,\n\n  description: 'General use SIN',\n\n  attributes: {\n    [SinAttr.rating]: 6,\n  },\n})\n\naddGear<SinData>(Artemis, {\n  id: '25a3030a-4850-4f68-914f-95276c893352',\n  gearType: GearType.sin,\n  name: 'Jadzia Dax',\n  type: 'Fake SIN',\n  source: { book: 'CRB', page: 273 },\n  avail: { rarity: 4, illegal: true },\n  cost: 10_000,\n\n  description: 'Runner SIN',\n\n  attributes: {\n    [SinAttr.rating]: 4,\n  },\n}, [\n  addGear<LicenseData>(Artemis, {\n    id: 'eae7b822-7dee-4734-8e7b-1c1ebd7aa46d',\n    gearType: GearType.license,\n    name: 'Driver License (Semi-Truck)',\n    type: 'Fake License',\n    source: { book: 'CRB', page: 273 },\n    avail: { rarity: 5, illegal: true },\n    cost: 1_000,\n\n    attributes: {\n      [LicenseAttr.rating]: 5,\n    },\n  }),\n])\n\naddGear<SinData>(Artemis, {\n  id: '50f91ebf-e206-4843-be29-ac1bcb3a45ba',\n  gearType: GearType.sin,\n  name: 'Jane Smith',\n  type: 'Fake SIN',\n  source: { book: 'CRB', page: 273 },\n  avail: { rarity: 4, illegal: true },\n  cost: 5_000,\n\n  description: 'Burner SIN',\n\n  attributes: {\n    [SinAttr.rating]: 2,\n  },\n})\n\naddGear(Artemis, {\n  id: 'f2b9526c-5db1-4076-81c0-c0bf52280e8a',\n  gearType: GearType.other,\n  name: 'Engineering Shop',\n  type: 'Shop',\n  source: { book: 'CRB', page: 273 },\n  avail: { rarity: 4 },\n  cost: 5_000,\n})\n","import {BalanceLog} from '../../../System/BalanceLog'\n\nexport const nuyen: BalanceLog = [\n  {\n    date: '2022-01-02T15:20',\n    value: 65_000,\n    note: 'Parts to build Ross',\n  },\n  {\n    date: '2022-01-02T15:20',\n    value: 20_000,\n    note: 'Loan from Slicus',\n  },\n  {\n    date: '2022-01-02T13:57',\n    value: 10_388,\n    note: 'Sell Onis',\n  },\n  {\n    date: '2022-01-02T12:06',\n    value: -39_600,\n    note: 'std Weapon Mount x6, FN HAR x6',\n  },\n  {\n    date: '2022-01-02T12:00',\n    value: 20_000,\n    note: 'Karma => Nuyen (Ron)',\n  },\n  {\n    date: '2021-12-19T16:00',\n    value: 40_000,\n    note: 'Mission Reward',\n  },\n  {\n    date: '2021-10-24T16:03',\n    value: -9_200 * 2,\n    note: 'Ingram Black Knight x2',\n  },\n  {\n    date: '2021-10-24T16:02',\n    value: 500,\n    note: 'Loan from Slicus',\n  },\n  {\n    date: '2021-10-24T16:01',\n    value: -4_000,\n    note: 'Ingram Black Knight Targeting Autosoft',\n  },\n  {\n    date: '2021-10-24T16:00',\n    value: -5_000 * 2,\n    note: 'Heavy Weapon Mount x2',\n  },\n  {\n    date: '2021-10-17T16:00',\n    value: 11_400,\n    note: 'Session reward',\n  },\n  {\n    date: '2021-09-26T16:00',\n    value: 10_166,\n    note: 'Session reward',\n  },\n  {\n    date: '2021-09-26T15:02',\n    value: 300,\n    note: 'Buy forklift rental',\n  },\n  {\n    date: '2021-09-26T15:01',\n    value: 500,\n    note: 'Buy Semi-truck rental',\n  },\n  {\n    date: '2021-09-26T15:00',\n    value: 1_000,\n    note: 'Buy Semi-truck driver license',\n  },\n  {\n    date: '2021-09-19T22:00',\n    value: -22_500,\n    note: 'Buy Reaction Enhancers',\n  },\n  {\n    date: '2021-09-19T16:00',\n    value: 25_000,\n    note: 'Session Reward',\n  },\n  {\n    date: '2021-08-28T00:04',\n    value: 18_070,\n    note: 'Session Reward',\n  },\n  {\n    date: '2021-08-28T00:02',\n    value: -445_665,\n    note: 'Starting Gear',\n  },\n  {\n    date: '2021-08-28T00:01',\n    value: 450_000,\n    note: 'Character Creation',\n  },\n]\n","import { ContactData } from '../../../Contacts/ContactData'\n\nexport const contacts: ContactData[] = [\n\n]\n","export enum SpellCategory {\n  Combat = 'Combat',\n  Detection = 'Detection',\n  Health = 'Health',\n  Illusion = 'Illusion',\n  Manipulation = 'Manipulation'\n}\n","export enum SpellType {\n  Physical = 'Physical',\n  Mana = 'Mana',\n}\n","import { GearData, GearType } from '../../../Gear/GearData'\nimport { WeaponAttr } from '../../../Gear/Weapons/WeaponAttr'\nimport { WeaponModSlot } from '../../../Gear/Weapons/WeaponModData'\nimport { ActiveSkillIds, Specializations } from '../../../Skills'\n\nexport const weapons: GearData[] = [\n  {\n    id: '54f42560-89e0-4373-b105-4504aacb7df8',\n    source: { book: 'CRB', page: 254 },\n    gearType: GearType.weapon,\n    name: 'Browning Ultra Power',\n    type: 'Heavy Pistol',\n    avail: { rarity: 2, license: true },\n    cost: 315,\n\n    attributes: {\n      [WeaponAttr.dv]: '3P',\n      [WeaponAttr.modes]: 'SA',\n      [WeaponAttr.attackRatings]: '10/9/6/-/-',\n      [WeaponAttr.ammo]: '10(c)',\n    },\n\n    skill: ActiveSkillIds.CRB.firearms,\n    specialtyName: Specializations.CRB.Firearms.HeavyPistols,\n  },\n  {\n    id: 'a20d6a99-d6e3-4827-b1d4-b0fc250d0370',\n    source: { book: 'CRB', page: 254 },\n    gearType: GearType.weaponMod,\n    name: 'Laser Sight',\n    type: 'Weapon Mod',\n    slot: WeaponModSlot.top,\n    removable: false,\n\n    attachedTo: '54f42560-89e0-4373-b105-4504aacb7df8',\n\n    description: `\n      This device uses a laser beam to project a visible dot (normal, low-light, \n      or thermographic) on the target. This increases the weapons Attack Rating\n      by 1, not cumulative with smartlink modifiers. The laser sight can be \n      mounted as either an underbarrel mount or top mount. Activating or \n      deactivating a laser sight is a Minor Action. \n      \n      Note that in weapons with a laser sight included as standard equipment, \n      this bonus is already calculated into the Attack Rating\n    `,\n\n    wirelessBonus: {\n      enabled: true,\n      description: `\n        The bonus to the Attack Rating increases to 2. You gain a bonus Minor \n        Action on a turn when you activate or deactivate the laser sight.\n      `,\n    },\n  },\n]\n","import { ArmorAttr } from '../../../Gear/Armor/ArmorAttr'\nimport { CommlinkAttr } from '../../../Gear/Commlink/CommlinkAttr'\nimport { GearData, GearType } from '../../../Gear/GearData'\nimport { EffectType } from '../../../System/Effect'\nimport { weapons } from './weapons'\n\nexport const gear: GearData[] = [\n  ...weapons,\n  {\n    id: 'd6321f23-cc7d-4828-b4db-650ba9abcddd',\n    gearType: GearType.armor,\n    name: 'Armored Jacket',\n    type: 'Armor',\n    source: { book: 'CRB', page: 265 },\n    avail: { rarity: 2 },\n    cost: 1_000,\n\n    effects: [\n      { type: EffectType.defRatingAdj, value: 4 },\n    ],\n\n    attributes: {\n      [ArmorAttr.defenseBonus]: 4,\n      [ArmorAttr.capacity]: 8,\n    },\n  },\n  {\n    id: 'db4e62f3-7ad8-4604-bdd7-d70a03590501',\n    gearType: GearType.other,\n    name: 'Spellcasting Foci',\n    type: 'Spell Foci, Spellcasting',\n    cost: 4_000,\n    source: { book: 'CRB', page: 194 },\n    avail: { rarity: 1, license: true },\n\n    attributes: {\n      'Category': 'Combat',\n      'Force': 1,\n    },\n  },\n  {\n    id: '694d1107-e1fc-47fe-a15b-9927341b9e94',\n    gearType: GearType.other,\n    name: 'Renraku Sensei',\n    type: 'Commlink',\n    cost: 1_000,\n    source: { book: 'CRB', page: 267 },\n    avail: { rarity: 2 },\n\n    attributes: {\n      [CommlinkAttr.deviceRating]: 3,\n      [CommlinkAttr.attributes]: '2/0',\n      [CommlinkAttr.programSlots]: '1',\n    },\n  },\n]\n","import { SpellCategory } from '../../../Spells/SpellCategory'\nimport { SpellData } from '../../../Spells/SpellData'\nimport { SpellType } from '../../../Spells/SpellType'\n\nexport const spells: SpellData[] = [\n  {\n    id: '3fe6eed8-76eb-4652-a5ca-46021d42a521',\n    name: 'Increase Attribute',\n    source: { book: 'CRB', page: 137 },\n    category: SpellCategory.Health,\n    range: 'Touch',\n    type: SpellType.Physical,\n    duration: 'Sustained',\n    drainValue: 3,\n    effect: `\n      The touch of the mage strengthens, speeds, or enlightens the target,\n      temporarily raising one of their attributes. The caster decides which\n      attribute to target before casting the spell. The caster rolls a\n      Sorcery + Magic (5 - essence) test. They can select how many net hits\n      they actually apply to the target to increase the selected attribute, \n      at a rate of 1 point of increase per net hit (maximum bonus +4); for\n      each net hit applied beyond the first, the Drain Value of the spell\n      increases by 1. The spell cannot affect Edge, Essence, Magic, or\n      Resonance.\n    `,\n  },\n  {\n    id: 'fd112538-96cc-41cd-b20f-e9f0d83948ef',\n    name: 'Increase Reflexes',\n    source: { book: 'CRB', page: 137 },\n    category: SpellCategory.Health,\n    range: 'Touch',\n    type: SpellType.Physical,\n    duration: 'Sustained',\n    drainValue: 5,\n    effect: `\n      The reaction time and speed of the target increase, making them better \n      able to anticipate and respond to others. The caster rolls a Sorcery + \n      Magic (5  Essence) test. They can select how many net hits they actually \n      apply to the target to increase both their Reaction score and the number \n      of Initiative Dice, at a rate of 1 point of increase and 1 Initiative Die \n      per net hit; for each net hit applied beyond the first, the Drain Value \n      of the spell increases by 1.\n    `,\n  },\n  {\n    id: 'e7cc9291-3f01-49c2-93c9-bb2c3221f23f',\n    name: 'Heal',\n    source: { book: 'CRB', page: 136 },\n    category: SpellCategory.Health,\n    range: 'Touch',\n    type: SpellType.Physical,\n    duration: 'Permanent',\n    drainValue: 3,\n    effect: `\n      Shadowrunning comes with bumps, bruises, and bullet wounds, and\n      magic is perhaps the quickest and most effective way to repair it.\n      When casting this spell, roll Sorcery + Magic with a threshold of (5 -\n      Essence). Heal 1 box of Stun, Physical, or Overflow damage per net hit.\n      Injuries can only be affected once by any Heal spell (including\n      Cleansing Heal, Colling Heal, and Warming Heal).\n    `,\n  },\n  {\n    id: '9ac200ec-e301-401a-a1f4-a9cebbdadc0b',\n    name: 'Invisibility',\n    source: { book: 'CRB', page: 138 },\n    category: SpellCategory.Illusion,\n    senseType: 'Single-Sense',\n    range: 'Touch',\n    type: SpellType.Mana,\n    duration: 'Sustained',\n    drainValue: 3,\n    effect: `\n      The target fades from view, becoming transparent so that they can move \n      unnoticed. Invisibility gives the targeted character the Invisible (#) \n      status (CRB p.52), where the number after the status becomes the threshold\n      on any tests to see the character.\n    `,\n  },\n  {\n    id: '63f34c4d-adf0-4f94-ad60-63f8dc5ebd18',\n    name: 'Ice Spear',\n    source: { book: 'CRB', page: 138 },\n    category: SpellCategory.Combat,\n    damageType: 'Indirect',\n    range: 'LoS',\n    type: SpellType.Physical,\n    duration: 'Instant',\n    drainValue: 5,\n    area: false,\n    damage: 'P, Special',\n    effect: `\n      When every corp security goon you run into starts wearing flame-retardant \n      underwear, its time to throw a changeup at them and hit them with the \n      other temperature extreme. These spells blast targets with freezing cold, \n      doing Cold elemental damage (CRB p.110) along with the normal damage and \n      imposing the Chilled status (CRB p.51) for a number of combat rounds equal \n      to net hits on the Spellcasting test.\n    `,\n  },\n]\n","export enum CharacterPoolTypes {\n  dodge = 'character.dodge',\n  dmgResist = 'character.dmgResist',\n  composure = 'character.composure',\n  judgeIntent = 'character.judgeIntent',\n  memory = 'character.memory',\n  liftCarry = 'character.liftCarry',\n  firstAid = 'character.firstAid',\n}\n","export enum KitType {\n  firstAid = 'kit.firstAid',\n  medKit = 'kit.medKit',\n}\n","import { AwakenedType } from '../../../Character/AwakenedType'\nimport { CharacterAttr } from '../../../Character/CharacterAttr'\nimport { CharacterData } from '../../../Character/CharacterData'\nimport { toCharQuality } from '../../../Qualities/CharacterQuality'\nimport { QualityIds } from '../../../Qualities/Quality'\nimport { ActiveSkillIds, SkillType } from '../../../Skills'\nimport { contacts } from './contacts'\nimport { gear } from './gear'\nimport { karma } from './karma'\nimport { nuyen } from './nuyen'\nimport { spells } from './spells'\n\nexport const Dusk: CharacterData = {\n  dataVersion: 3,\n\n  bio: {\n    name: 'Dusk',\n    role: 'Mage',\n    gender: 'Male',\n    metatype: 'Elf',\n    awakened: AwakenedType.Full,\n  },\n\n  lifestyle: {\n    grade: 'Low',\n    prepaid: 0,\n    upkeep: 2_000,\n  },\n\n  attributes: {\n    [CharacterAttr.body]: 3,\n    [CharacterAttr.agility]: 7,\n    [CharacterAttr.reaction]: 5,\n    [CharacterAttr.strength]: 1,\n    [CharacterAttr.willpower]: 5,\n    [CharacterAttr.logic]: 1,\n    [CharacterAttr.intuition]: 5,\n    [CharacterAttr.charisma]: 9,\n    [CharacterAttr.edge]: 4,\n    [CharacterAttr.magic]: 6,\n    [CharacterAttr.resonance]: 0,\n    [CharacterAttr.essence]: 6,\n  },\n\n  qualities: [\n    toCharQuality(QualityIds.CRB.lowLightVision, { metaType: true }),\n    toCharQuality(QualityIds.CRB.focusedConcentration, { level: 3 }),\n    toCharQuality(QualityIds.CRB.aptitude, { type: ActiveSkillIds.CRB.sorcery }),\n    toCharQuality(QualityIds.CRB.exceptional, { type: CharacterAttr.charisma }),\n    toCharQuality(QualityIds.CRB.quickHealer),\n    toCharQuality(QualityIds.CRB.arVertigo),\n    toCharQuality(QualityIds.CRB.impairedAttr, { type: CharacterAttr.logic }),\n  ],\n\n  skills: [\n    {\n      type: SkillType.active,\n      id: ActiveSkillIds.CRB.sorcery,\n      rank: 7,\n    },\n    {\n      type: SkillType.active,\n      id: ActiveSkillIds.CRB.astral,\n      rank: 4,\n    },\n    {\n      type: SkillType.active,\n      id: ActiveSkillIds.CRB.con,\n      rank: 4,\n    },\n    {\n      type: SkillType.active,\n      id: ActiveSkillIds.CRB.influence,\n      rank: 6,\n    },\n    {\n      type: SkillType.active,\n      id: ActiveSkillIds.CRB.firearms,\n      rank: 3,\n    },\n    {\n      type: SkillType.language,\n      name: 'English',\n      rank: 'native',\n    },\n  ],\n\n  karma,\n  nuyen,\n  contacts,\n  gear,\n  spells,\n}\n","import { BalanceLog } from '../../../System/BalanceLog'\n\nexport const karma: BalanceLog = [\n  {\n    date: '2021-01-02T16:01',\n    value: 2,\n    note: 'Session reward',\n  },\n  {\n    date: '2021-12-22T12:58',\n    value: 0,\n    note: 'Balance Import',\n  },\n]\n","import { BalanceLog } from '../../../System/BalanceLog'\n\nexport const nuyen: BalanceLog = [\n  {\n    date: '2021-12-22T12:58',\n    value: 0,\n    note: 'Balance Import',\n  },\n]\n","import { AwakenedType } from '../../Character/AwakenedType'\nimport { CharacterAttr } from '../../Character/CharacterAttr'\nimport { CharacterData } from '../../Character/CharacterData'\nimport { CharacterPoolTypes } from '../../Character/CharacterPoolTypes'\nimport { ArmorAttr } from '../../Gear/Armor/ArmorAttr'\nimport { ArmorData } from '../../Gear/Armor/ArmorData'\nimport { AugmentAttr } from '../../Gear/Augments/AugmentAttr'\nimport { AugmentData, AugmentGrade, AugmentSlot } from '../../Gear/Augments/AugmentData'\nimport { CommlinkAttr } from '../../Gear/Commlink/CommlinkAttr'\nimport { GearType } from '../../Gear/GearData'\nimport { KitAttr } from '../../Gear/Kit/KitAttr'\nimport { KitType } from '../../Gear/Kit/KitType'\nimport { LicenseAttr } from '../../Gear/License/LicenseAttr'\nimport { SinAttr } from '../../Gear/License/SinAttr'\nimport { SinData } from '../../Gear/License/SinData'\nimport { OtherGearAttr } from '../../Gear/OtherGearData'\nimport { VehicleAttr } from '../../Gear/Vehicles/VehicleAttr'\nimport { VehicleData } from '../../Gear/Vehicles/VehicleData'\nimport { ModType } from '../../Gear/Vehicles/VehicleModData'\nimport { WeaponPoolKeys } from '../../Gear/Weapons/DicePools'\nimport { WeaponAttr } from '../../Gear/Weapons/WeaponAttr'\nimport { WeaponData } from '../../Gear/Weapons/WeaponData'\nimport { WeaponModData, WeaponModSlot } from '../../Gear/Weapons/WeaponModData'\nimport { toCharQuality } from '../../Qualities/CharacterQuality'\nimport { Qualities, QualityIds } from '../../Qualities/Quality'\nimport { ActiveSkillIds, SkillType, Specializations } from '../../Skills'\nimport { EffectType } from '../../System/Effect'\n\nimport { addGear } from './index'\n\nexport const Silicus: CharacterData = {\n  dataVersion: 3,\n\n  bio: {\n    name: 'Silicus',\n    metatype: 'Elf',\n    awakened: AwakenedType.Mundane,\n    gender: 'male',\n    role: 'Street Samurai',\n  },\n\n  karma: [\n    {\n      date: '2021-01-02T16:01',\n      value: 2,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-12-19T16:03',\n      value: -28,\n      note: 'Karma => Nuyen (Ron)',\n    },\n    {\n      date: '2021-12-19T16:02',\n      value: -20,\n      note: 'Buy off Bad Luck',\n    },\n    {\n      date: '2021-12-19T16:01',\n      value: 5,\n      note: 'Mission reward',\n    },\n    {\n      date: '2021-12-19T16:00',\n      value: 3,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-12-05T16:00',\n      value: 5,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-11-27T16:00',\n      value: 4,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-11-21T15:05',\n      value: 3,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-11-07T16:00',\n      value: 3,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-10-17T16:00',\n      value: 5,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-10-03T16:00',\n      value: 3,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-09-19T16:00',\n      value: 5,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-09-12',\n      value: 2,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-08-29T16:05',\n      value: -10,\n      note: 'Buy reaction 1 -> 2',\n    },\n    {\n      date: '2021-08-29T16:04',\n      value: -25,\n      note: 'Buy charisma 1 -> 3',\n    },\n    {\n      date: '2021-08-29T16:03',\n      value: -12,\n      note: 'Buy Exceptional (Agility)',\n    },\n    {\n      date: '2021-08-29T16:02',\n      value: -3,\n      note: 'Buy Analytical Mind',\n    },\n    {\n      date: '2021-08-29T16:01',\n      value: 10,\n      note: 'Gain Bad Luck',\n    },\n    {\n      date: '2021-08-29T16:00',\n      value: 50,\n      note: 'Character Creation',\n    },\n  ],\n\n  nuyen: [\n    {\n      date: '2022-01-02T15:20',\n      value: -20_000,\n      note: 'Loan to Artemis',\n    },\n    {\n      date: '2021-12-19T16:02',\n      value: -30_000,\n      note: 'Orthoskin 2 => 4',\n    },\n    {\n      date: '2021-12-19T16:01',\n      value: 70_000,\n      note: 'Karma => Nuyen from Ron',\n    },\n    {\n      date: '2021-12-19T16:00',\n      value: 40_000,\n      note: 'Mission Reward',\n    },\n    {\n      date: '2021-10-24T16:01',\n      value: -500,\n      note: 'Loan to Artemis',\n    },\n    {\n      date: '2021-10-24T16:00',\n      value: 2_050 + 75 + 500,\n      note: 'Ranger Arms AA-16',\n    },\n    {\n      date: '2021-10-17T16:00',\n      value: 11_400,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-10-03T16:00',\n      value: -30_000,\n      note: 'Orthoskin',\n    },\n    {\n      date: '2021-09-26T16:00',\n      value: 10_166,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-09-25T13:45',\n      value: 2 * 100,\n      note: 'Medical Supplies',\n    },\n    {\n      date: '2021-09-25T13:44',\n      value: 8 * 500,\n      note: 'Trauma Patch',\n    },\n    {\n      date: '2021-09-19T16:00',\n      value: 25_000,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-08-28T00:03',\n      value: -9_000,\n      note: '3 months lifestyle (middle)',\n    },\n    {\n      date: '2021-08-28T00:02',\n      value: -439_575,\n      note: 'Char creation Gear',\n    },\n    {\n      date: '2021-08-28T00:01',\n      value: 450_000,\n      note: 'Char creation',\n    },\n  ],\n\n  lifestyle: {\n    grade: 'middle',\n    upkeep: 5_000,\n    prepaid: 3,\n  },\n\n  attributes: {\n    [CharacterAttr.body]: 4,\n    [CharacterAttr.agility]: 8,\n    [CharacterAttr.reaction]: 2,\n    [CharacterAttr.strength]: 1,\n    [CharacterAttr.willpower]: 1,\n    [CharacterAttr.logic]: 5,\n    [CharacterAttr.intuition]: 4,\n    [CharacterAttr.charisma]: 3,\n    [CharacterAttr.edge]: 4,\n    [CharacterAttr.magic]: 0,\n    [CharacterAttr.resonance]: 0,\n    [CharacterAttr.essence]: 6,\n  },\n\n  contacts: [\n    {\n      name: 'Hunter Morgan',\n      connection: 3,\n      loyalty: 3,\n      description: 'Researcher at Kamino Biotech',\n    },\n    {\n      name: 'Johennes',\n      connection: 3,\n      loyalty: 3,\n      description: 'Fence',\n    },\n    {\n      name: 'Dr. Weber',\n      connection: 3,\n      loyalty: 3,\n      description: 'Ripperdoc',\n    },\n  ],\n\n  skills: [\n    {\n      type: SkillType.active,\n      id: ActiveSkillIds.CRB.biotech,\n      rank: 5,\n      expertise: Specializations.CRB.Biotech.FirstAid,\n    },\n    {\n      type: SkillType.active,\n      id: ActiveSkillIds.CRB.firearms,\n      rank: 6,\n      specialization: Specializations.CRB.Firearms.SubmachineGuns,\n    },\n    {\n      type: SkillType.active,\n      id: ActiveSkillIds.CRB.perception,\n      rank: 3,\n    },\n    {\n      type: SkillType.active,\n      id: ActiveSkillIds.CRB.closeCombat,\n      rank: 5,\n    },\n    {\n      type: SkillType.language,\n      name: 'English',\n      rank: 'native',\n    },\n    {\n      type: SkillType.knowledge,\n      name: 'Law Enforcement Corps',\n    },\n    {\n      type: SkillType.knowledge,\n      name: 'Security Systems',\n    },\n    {\n      type: SkillType.knowledge,\n      name: 'Tech Companies',\n    },\n    {\n      type: SkillType.knowledge,\n      name: 'Weapon Manufacturers',\n    },\n    {\n      type: SkillType.knowledge,\n      name: 'Local Gangs',\n    },\n  ],\n\n  gear: [],\n\n  qualities: [\n    toCharQuality(Qualities[QualityIds.CRB.analyticalMind]),\n    toCharQuality(Qualities[QualityIds.CRB.exceptional], { type: CharacterAttr.agility }),\n  ],\n}\n\nconst smartGunIntMod: WeaponModData = {\n  id: null,\n  source: { book: 'CRB', page: 260 },\n  gearType: GearType.weaponMod,\n  name: 'Smart Gun Int.',\n  type: 'Weapon Mod',\n  cost: 500,\n\n  slot: null,\n  removable: false,\n  wirelessBonus: {\n    enabled: true,\n    description:\n      'You gain a +1 dice pool bonus. Gain a bonus Minor Action on a turn when ' +\n      'you use the Reload Smartgun or Change Device Mode actions to eject a ' +\n      'clip or change fire mode.',\n  },\n  effects: [\n    {\n      wireless: true,\n      name: 'Smart Gun',\n      type: EffectType.dicePoolAdj,\n      poolType: WeaponPoolKeys.basicAttack,\n      value: 1,\n    },\n  ],\n}\n\naddGear<WeaponData>(Silicus, {\n  id: 'c77afa27-e7f2-4fa5-ab8f-53830ce79f1d',\n  source: { book: 'FSQ', page: 22 },\n  gearType: GearType.weapon,\n  name: 'Ranger Arms AA-16',\n  type: 'Shotgun',\n  avail: { rarity: 6, illegal: true },\n  cost: 2_050,\n\n  attributes: {\n    [WeaponAttr.dv]: '5P',\n    [WeaponAttr.modes]: 'SA/BF/FA',\n    [WeaponAttr.attackRatings]: '5/11/7/-/-',\n    [WeaponAttr.ammo]: '12(c)',\n  },\n\n  skill: ActiveSkillIds.CRB.firearms,\n  specialtyName: Specializations.CRB.Firearms.Shotguns,\n}, [\n  addGear(Silicus, {\n    ...smartGunIntMod,\n    id: '7be1a881-fa5a-4a24-83db-0d8f3af8e738',\n    removable: false,\n  }),\n  addGear(Silicus, {\n    id: 'ac4025a9-3e0c-4702-971f-a52cc56100a0',\n    source: { book: 'FSQ', page: 22 },\n    gearType: GearType.weaponMod,\n    name: 'Foregrip',\n    type: 'Weapon Mod',\n\n    slot: null,\n    removable: false,\n  }),\n  addGear(Silicus, {\n    id: 'c2c50d7e-ec56-469f-903c-a5d84a109779',\n    source: { book: 'FSQ', page: 71 },\n    cost: 75,\n    gearType: GearType.weaponMod,\n    name: 'Detachable Drum Magazine',\n    type: 'Weapon Mod',\n\n    slot: WeaponModSlot.under,\n  }),\n  addGear(Silicus, {\n    id: 'c5abefe0-575b-4a5f-8e5f-a39723faffc8',\n    source: { book: 'CRB', page: 259 },\n    gearType: GearType.weaponMod,\n    name: 'Gas Vent',\n    type: 'Weapon Mod',\n    avail: { rarity: 3 },\n    cost: 500,\n\n    description: 'Removes the attack rating penalty for Semi-Automatic fire, and reduces it to 2 for Burst Fire',\n\n    slot: WeaponModSlot.barrel,\n    removable: false,\n  }),\n])\n\naddGear<WeaponData>(Silicus, {\n  id: 'd7aac7b6-6113-41e0-8087-53515753e9a3',\n  source: { book: 'CRB', page: 254 },\n  gearType: GearType.weapon,\n  name: 'FN P93 Predator',\n  type: 'Submachine Gun',\n  avail: { rarity: 4, license: true },\n  cost: 925,\n\n  attributes: {\n    [WeaponAttr.dv]: '4P',\n    [WeaponAttr.modes]: 'SA/BF/FA',\n    [WeaponAttr.attackRatings]: '9/12/7/-/-',\n    [WeaponAttr.ammo]: '50(c)',\n  },\n\n  skill: ActiveSkillIds.CRB.firearms,\n  specialtyName: Specializations.CRB.Firearms.SubmachineGuns,\n}, [\n  addGear(Silicus, {\n    id: '81ef8a86-6cdf-49fc-a01e-b059c9757fed',\n    source: { book: 'CRB', page: 254 },\n    gearType: GearType.weaponMod,\n    name: 'Rigid Stock',\n    type: 'Weapon Mod',\n\n    slot: null,\n    removable: false,\n  }),\n  addGear(Silicus, {\n    id: '77fe6e86-2189-47a9-972d-61077b90c242',\n    source: { book: 'CRB', page: 254 },\n    gearType: GearType.weaponMod,\n    name: 'Laser sight',\n    type: 'Weapon Mod',\n\n    slot: WeaponModSlot.topOrUnder,\n  }),\n  addGear(Silicus, {\n    id: '86c75812-6258-40d7-8d9a-539e297cbb2a',\n    source: { book: 'CRB', page: 254 },\n    gearType: GearType.weaponMod,\n    name: 'Flashlight',\n    type: 'Weapon Mod',\n\n    slot: null,\n    removable: false,\n  }),\n  addGear(Silicus, {\n    ...smartGunIntMod,\n    id: '291a7eae-7369-4add-843f-73b68d3e1fe2',\n  }),\n  addGear(Silicus, {\n    id: 'ec2415cc-832b-4fda-bbd1-b19516cc389f',\n    source: { book: 'CRB', page: 259 },\n    gearType: GearType.weaponMod,\n    name: 'Gas Vent',\n    type: 'Weapon Mod',\n    avail: { rarity: 3 },\n    cost: 500,\n\n    description: 'Removes the attack rating penalty for Semi-Automatic fire, and reduces it to 2 for Burst Fire',\n\n    slot: WeaponModSlot.barrel,\n    removable: false,\n  }),\n])\n\naddGear<WeaponData>(Silicus, {\n  id: '2c28bae0-15fc-4564-826e-84397c260a1c',\n  source: { book: 'FS', page: 36 },\n  gearType: GearType.weapon,\n  name: 'Krime Thumper',\n  type: 'Launcher',\n  avail: { rarity: 3, license: true },\n  cost: 1_500,\n\n  attributes: {\n    [WeaponAttr.dv]: 'Grenade',\n    [WeaponAttr.modes]: 'SA',\n    [WeaponAttr.attackRatings]: '-/8/7/5/-',\n    [WeaponAttr.ammo]: '30(m)',\n  },\n\n  skill: ActiveSkillIds.CRB.exoticWeapons,\n  specialtyName: 'Launchers',\n}, [\n  addGear(Silicus, {\n    id: '76d1fc48-02c9-41b6-ae81-87bee8ad9b9e',\n    gearType: GearType.weapon,\n    name: 'Shotgun configuration',\n    type: 'Weapon configuration',\n\n    attributes: {\n      [WeaponAttr.dv]: '4P',\n      [WeaponAttr.modes]: 'SS',\n      [WeaponAttr.attackRatings]: '12/6/3/-/-',\n    },\n\n    removable: false,\n    skill: ActiveSkillIds.CRB.exoticWeapons,\n    specialtyName: 'Launchers',\n  }),\n])\n\naddGear<WeaponData>(Silicus, {\n  id: '7a055ec1-6048-4b36-a555-445f28fdfdbf',\n  source: { book: 'CRB', page: 255 },\n  gearType: GearType.weapon,\n  name: 'Ares Viper Silvergun',\n  type: 'Heavy Pistol',\n  avail: { rarity: 4, license: true },\n  cost: 610,\n\n  attributes: {\n    [WeaponAttr.dv]: '4P(f)',\n    [WeaponAttr.modes]: 'SA/BF',\n    [WeaponAttr.attackRatings]: '12/8/6/-/-',\n    [WeaponAttr.ammo]: '30(c)',\n  },\n\n  skill: ActiveSkillIds.CRB.firearms,\n  specialtyName: Specializations.CRB.Firearms.HeavyPistols,\n}, [\n  addGear(Silicus, {\n    ...smartGunIntMod,\n    id: '322b3cb5-c37f-4600-a47e-c9c48d68cd87',\n  }),\n  addGear(Silicus, {\n    id: 'b987971b-814f-489d-b0f4-ffc5f8602069',\n    source: { book: 'CRB', page: 260 },\n    gearType: GearType.weaponMod,\n    name: 'Quick Draw Holster',\n    type: 'Weapon Mod',\n    avail: { rarity: 2 },\n    cost: 175,\n\n    description: 'Use of a Quick-Draw holster provides a bonus Minor action when the Quick-Draw Action is taken',\n    slot: null,\n  }),\n])\n\naddGear<WeaponData>(Silicus, {\n  id: '6d431911-4038-4c64-b543-13af0b9cab5f',\n  source: { book: 'CRB', page: 255 },\n  gearType: GearType.weapon,\n  name: 'Defiance SuperShocker',\n  type: 'Taser',\n  avail: { rarity: 1 },\n  cost: 340,\n\n  attributes: {\n    [WeaponAttr.dv]: '6S(e)',\n    [WeaponAttr.modes]: 'SS',\n    [WeaponAttr.attackRatings]: '10/6/-/-/-',\n    [WeaponAttr.ammo]: '4(m)',\n    [WeaponAttr.maxRange]: '20m',\n  },\n\n  skill: ActiveSkillIds.CRB.firearms,\n  specialtyName: Specializations.CRB.Firearms.Tasers,\n}, [\n  addGear(Silicus, {\n    ...smartGunIntMod,\n    id: '08cd19d1-94c2-4e51-9a8b-89bc34c34212',\n  }),\n])\n\naddGear<WeaponData>(Silicus, {\n  id: 'c99f8aba-d4d6-4880-8d4d-866dace1eb75',\n  source: { book: 'CRB', page: 254 },\n  gearType: GearType.weapon,\n  name: 'Survival Knife',\n  type: 'Blade',\n  avail: { rarity: 2 },\n  cost: 250,\n\n  attributes: {\n    [WeaponAttr.dv]: '3P',\n    [WeaponAttr.modes]: 'SA/BF/FA',\n    [WeaponAttr.attackRatings]: '8/2/-/-/-',\n    [WeaponAttr.maxRange]: '20m',\n  },\n\n  skill: ActiveSkillIds.CRB.closeCombat,\n  specialtyName: 'Blades',\n})\n\naddGear<WeaponData>(Silicus, {\n  id: '604ab904-d3e7-4f4e-9da0-182495de68a1',\n  source: { book: 'CRB', page: 254 },\n  gearType: GearType.weapon,\n  name: 'Shock Gloves',\n  type: 'Other Melee',\n  avail: { rarity: 4 },\n  cost: 790,\n\n  attributes: {\n    [WeaponAttr.type]: 'Unarmed',\n    [WeaponAttr.dv]: '4S(e)',\n    [WeaponAttr.attackRatings]: '5/-/-/-/-',\n  },\n\n  skill: ActiveSkillIds.CRB.closeCombat,\n  specialtyName: 'Blades',\n})\n\naddGear<AugmentData>(Silicus, {\n  id: 'b8d896da-e201-4e6b-96e6-adefd3c8d1a3',\n  name: 'Synaptic Booster',\n  type: 'Cultured Bioware Augment',\n  gearType: GearType.augment,\n  source: { book: 'CRB', page: 293 },\n  avail: { rarity: 4, license: true },\n  cost: 142_500,\n\n  description: (`\n    The nerve cells making up the spinal cord are both broadened and replicated \n    with this bioware, allowing for neural bandwidth. The result is a much faster \n    reaction time. The booster confers a bonus of +1 Reaction (and the accompanying \n    adjustment to Initiative Score), 1 additional Initiative Die, and 1 additional\n    Minor Action per point of Rating. The synaptic booster cannot be combined with \n    any other form of Reaction or Initiative enhancement. Unlike other enhancements,\n    this cannot be turned off, leaving the user in a perpetual state of being in\n    surrounded by slow motion.  \n  `),\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.used,\n    [AugmentAttr.essenceCost]: 1.65,\n    [AugmentAttr.slot]: AugmentSlot.bioware,\n    [AugmentAttr.rating]: 3,\n  },\n\n  enabled: true,\n  effects: [\n    { type: EffectType.attrBonus, attr: CharacterAttr.reaction, value: 3 },\n    { type: EffectType.initAdj, value: 3 },\n  ],\n})\n\naddGear<AugmentData>(Silicus, {\n  id: '62c28948-dc2b-42cc-95ee-22732203fe04',\n  gearType: GearType.augment,\n  name: 'Platelet Factories',\n  type: 'Bioware Augment',\n  source: { book: 'CRB', page: 292 },\n  avail: { rarity: 3 },\n  cost: 8_500,\n\n  description: (`\n    Any time you would take 2 or more boxes of damage to your Physical Condition \n    Monitor, reduce the damage by 1 box.\n  `),\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.used,\n    [AugmentAttr.essenceCost]: 0.22,\n    [AugmentAttr.slot]: AugmentSlot.bioware,\n  },\n})\n\naddGear<AugmentData>(Silicus, {\n  id: '89a8b4ed-8e1b-4ab0-84c5-e0fb4bfdd437',\n  gearType: GearType.augment,\n  name: 'Muscle Toner',\n  type: 'Bioware Augment',\n  source: { book: 'CRB', page: 292 },\n  avail: { rarity: 3, license: true },\n  cost: 64_000,\n\n  description: (`\n    Muscle Toner adds it's rating to your Agility attribute. This bioware is incompatible\n    with augmentations that increase Agility, including the muscle replacement cyberware\n    and enhanced articulations bioware\n  `),\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.used,\n    [AugmentAttr.rating]: 4,\n    [AugmentAttr.essenceCost]: 0.88,\n    [AugmentAttr.slot]: AugmentSlot.bioware,\n  },\n\n  enabled: true,\n  effects: [\n    { type: EffectType.attrBonus, attr: CharacterAttr.agility, value: 4 },\n  ],\n})\n\naddGear<AugmentData>(Silicus, {\n  id: '3addb3cb-d1f2-42c0-b1ea-59aa267c34e2',\n  gearType: GearType.augment,\n  name: 'Bone Density',\n  type: 'Bioware Augment',\n  source: { book: 'CRB', page: 291 },\n  avail: { rarity: 3, license: true },\n  cost: 24_000,\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.alpha,\n    [AugmentAttr.rating]: 4,\n    [AugmentAttr.essenceCost]: 0.48,\n    [AugmentAttr.slot]: AugmentSlot.bioware,\n  },\n\n  description: (`\n      Increases Body during damage resistance test by rating. \n      Melee damage: 3P, Atk. Rating: +2\n  `),\n\n  effects: [\n    { type: EffectType.dicePoolAdj, name: 'Bone Density', poolType: CharacterPoolTypes.dmgResist, value: 4 },\n    // Melee damage: 3P\n    // Melee Atk. Rating: +2\n  ],\n})\n\naddGear<AugmentData>(Silicus, {\n  id: '8bbf6a1b-ccf2-4fc8-828a-ec2170e67c84',\n  name: 'Pain Editor',\n  type: 'Cultured Bioware Augment',\n  gearType: GearType.augment,\n  source: { book: 'CRB', page: 293 },\n  avail: { rarity: 5, illegal: true },\n  cost: 72_000,\n\n  description: (`\n    This cluster of specialized nervous tissue is designed to filter sensory stimuli.\n    If the pain editor is active, this allows you to ignore all injury modifiers, \n    and you can even stay conscious when your stun condition monitor is completely \n    full. You feel no painyou're blissfully, dangerously, recklessly unaware of\n    the extent of the damage you've taken without either performing a self-examination\n    (Observe in Detail action) or being informed by a biomonitor. While active, the\n    pain editor increases your willpower by 1 and decreases your intuition by 1;\n    additionally, all tactile Perception tests you make have their threshold increased\n    by 1. \n  `),\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.beta,\n    [AugmentAttr.essenceCost]: 0.21,\n    [AugmentAttr.slot]: AugmentSlot.bioware,\n  },\n\n  enabled: true,\n  effects: [\n    { type: EffectType.attrBonus, attr: CharacterAttr.willpower, value: 1 },\n    { type: EffectType.attrBonus, attr: CharacterAttr.intuition, value: -1 },\n  ],\n})\n\naddGear<AugmentData>(Silicus, {\n  id: '6b343cba-32e4-4177-899c-eab7deabdb6d',\n  name: 'Orthoskin',\n  type: 'Bioware Augment',\n  gearType: GearType.augment,\n  source: { book: 'CRB', page: 292 },\n  avail: { rarity: 7, license: true },\n  cost: 60_000,\n\n  description: (`\n    A web of biofibers in the skin provides the\n    equivalent of personal armor while being virtually\n    indistinguishable from natural skin. Orthoskin\n    provides a bonus equal to its rating to your Defense\n    Rating. Orthoskin cannot be combined with\n    skin augmentations, including dermal plating. \n  `),\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.delta,\n    [AugmentAttr.essenceCost]: 0.50,\n    [AugmentAttr.slot]: AugmentSlot.bioware,\n    [AugmentAttr.rating]: 4,\n  },\n\n  effects: [\n    { type: EffectType.defRatingAdj, value: 4 },\n  ],\n})\n\naddGear<AugmentData>(Silicus, {\n  id: 'eb40f7f5-0037-43e1-bb3e-422513555003',\n  gearType: GearType.augment,\n  name: 'Reflex Recorder (Firearms)',\n  type: 'Cultured Bioware Augment',\n  source: { book: 'CRB', page: 293 },\n  avail: { rarity: 4 },\n  cost: 7_000,\n\n  description: (`\n    This system uses extra nervous tissue linked to\n    specific areas of the body to improve muscle memory.\n    The reflex recorder adds 1 to the rating of a\n    skill linked to a Physical attribute. Multiple recorders\n    may be taken for multiple skills, but you cant\n    implant two reflex recorders for the same skill.\n  `),\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.used,\n    [AugmentAttr.essenceCost]: 0.11,\n    [AugmentAttr.slot]: AugmentSlot.bioware,\n  },\n\n  enabled: true,\n  effects: [\n    { type: EffectType.skillAdj, skill: ActiveSkillIds.CRB.firearms, value: 1 },\n  ],\n})\n\naddGear<AugmentData>(Silicus, {\n  id: '951f4aa6-76f4-4626-bd0c-ca33da7569d9',\n  gearType: GearType.augment,\n  name: 'Cerebral Booster',\n  type: 'Cultured Bioware Augment',\n  source: { book: 'CRB', page: 293 },\n  avail: { rarity: 5 },\n  cost: 47_250,\n\n  description: (`\n    The convolutions and gyri of your cerebrum\n    are augmented and amplified with additional\n    nervous tissue, improving overall brain function.\n    Your cerebral booster increases your Logic attribute\n    by its rating.\n  `),\n\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.used,\n    [AugmentAttr.rating]: 3,\n    [AugmentAttr.essenceCost]: 0.66,\n    [AugmentAttr.slot]: AugmentSlot.bioware,\n  },\n\n  enabled: true,\n  effects: [\n    { type: EffectType.attrBonus, attr: CharacterAttr.logic, value: 3 },\n  ],\n})\n\naddGear(Silicus, {\n  id: '1962503b-a324-4fe2-8dde-06bf534da060',\n  gearType: GearType.other,\n  name: 'Sony Emperor',\n  type: 'Commlink',\n  source: { book: 'CRB', page: 267 },\n  avail: { rarity: 2 },\n  cost: 700,\n\n  attributes: {\n    [CommlinkAttr.deviceRating]: 2,\n    [CommlinkAttr.attributes]: '1/1',\n    [CommlinkAttr.programSlots]: 1,\n  },\n})\n\naddGear(Silicus, {\n  id: '6b7d26a5-47de-48b7-a6b6-c8b5c1b483e9',\n  gearType: GearType.other,\n  name: 'Biomonitor',\n  type: 'Biotech',\n  source: { book: 'CRB', page: 281 },\n  avail: { rarity: 2 },\n  cost: 300,\n})\n\naddGear(Silicus, {\n  id: 'b9f302ee-7018-44d3-bf31-93438259ca3b',\n  gearType: GearType.other,\n  name: 'Glasses',\n  type: 'Clothing',\n  source: { book: 'CRB', page: 285 },\n  avail: { rarity: 2 },\n  cost: 400,\n\n  attributes: {\n    [OtherGearAttr.capacity]: 4,\n  },\n}, [\n  addGear(Silicus, {\n    id: 'cc67fef4-05a5-4be3-a671-20df801d04a6',\n    gearType: GearType.other,\n    name: 'Smartlink',\n    type: 'Visual Enhancement',\n    source: { book: 'CRB', page: 275 },\n    avail: { rarity: 2 },\n    cost: 2_000,\n\n    attributes: {\n      [OtherGearAttr.capacityCost]: 2,\n    },\n  }),\n  addGear(Silicus, {\n    id: '0f074916-55c1-4889-8fae-61228b5c71c2',\n    gearType: GearType.other,\n    name: 'Imagelink',\n    type: 'Visual Enhancement',\n    source: { book: 'CRB', page: 275 },\n    avail: { rarity: 1 },\n    cost: 25,\n\n    attributes: {\n      [OtherGearAttr.capacityCost]: 1,\n    },\n  }),\n  addGear(Silicus, {\n    id: 'e11702ae-1c89-451e-8d6e-04597abc157a',\n    gearType: GearType.other,\n    name: 'Thermographic Vision',\n    type: 'Visual Enhancement',\n    source: { book: 'CRB', page: 275 },\n    avail: { rarity: 2 },\n    cost: 500,\n\n    attributes: {\n      [OtherGearAttr.capacityCost]: 1,\n    },\n  }),\n])\n\naddGear<ArmorData>(Silicus, {\n  id: '9e95c3e8-216f-4576-95ee-0fc33ef2c3df',\n  gearType: GearType.armor,\n  name: 'Armored Jacket',\n  type: 'Armor',\n  source: { book: 'CRB', page: 265 },\n  avail: { rarity: 2 },\n  cost: 1_000,\n\n  effects: [\n    { type: EffectType.defRatingAdj, value: 4 },\n  ],\n\n  attributes: {\n    [ArmorAttr.defenseBonus]: 4,\n    [ArmorAttr.capacity]: 8,\n  },\n})\n\naddGear(Silicus, {\n  id: '843f901e-49df-41ad-8f5d-494038a96b98',\n  gearType: GearType.armor,\n  name: 'Auctioneer Business Clothes',\n  type: 'Armor',\n  source: { book: 'CRB', page: 265 },\n  avail: { rarity: 2 },\n  cost: 1_500,\n\n  attributes: {\n    'armor.defenseBonus': 2,\n    'armor.capacity': 6,\n  },\n}, [\n  addGear(Silicus, {\n    id: 'cc7ed3c8-3b21-4406-a954-0cabf5232be2',\n    gearType: GearType.armorMod,\n    name: 'Concealed Hostler',\n    type: 'Armor Mod',\n    source: { book: 'CRB', page: 259 },\n\n    wirelessBonus: {\n      enabled: true,\n      description: 'Increases cancellability threshold by 1',\n    },\n  }),\n])\n\naddGear(Silicus, {\n  id: 'cb0f423e-44ab-48f5-bebd-41164def3b50',\n  gearType: GearType.other,\n  name: 'Medkit',\n  type: 'Biotech',\n  source: { book: 'CRB', page: 281 },\n  avail: { rarity: 3 },\n  cost: 1_500,\n\n  attributes: {\n    [KitAttr.medkitRating]: 6,\n  },\n\n  wirelessBonus: {\n    enabled: true,\n    description: (`\n      The medkit provides a +1 dice pool modifier to healing tests\n    `),\n  },\n\n  kit: KitType.medKit,\n}, [\n  addGear(Silicus, {\n    id: '8b766655-5394-4a88-b37e-b8ecfe481e06',\n    gearType: GearType.other,\n    name: 'Medkit Supplies',\n    type: 'Supplies',\n    source: { book: 'CRB', page: 273 },\n    avail: { rarity: 1 },\n    cost: 100,\n    quantity: 5,\n  }),\n])\n\naddGear(Silicus, {\n  id: '4160259c-a62e-402b-b94d-c7c92b0c2370',\n  gearType: GearType.other,\n  name: 'First Aid Kit',\n  type: 'Kit',\n  source: { book: 'CRB', page: 273 },\n  avail: { rarity: 1 },\n  cost: 500,\n\n  kit: KitType.firstAid,\n})\n\naddGear(Silicus, {\n  id: '8f7bd7b0-7521-4f30-abe5-a6c09826a610',\n  gearType: GearType.other,\n  name: 'Trauma Patch',\n  type: 'Slap Patch',\n  source: { book: 'CRB', page: 282 },\n  avail: { rarity: 3 },\n  cost: 500,\n  quantity: 10,\n  description: (`\n    If placed on a patient with Overflow Damage, the patient is automatically stabilized.\n    These patches are always wireless, and connect to the matrix the moment they are applied.\n  `),\n})\n\naddGear<VehicleData>(Silicus, {\n  id: 'eac7b24b-fa6d-4ab8-8f09-b1083e6054ae',\n  gearType: GearType.vehicle,\n  name: 'Suzuki Mirage',\n  type: 'Bike',\n  cost: 12_000,\n  avail: { rarity: 2 },\n  source: { book: 'CRB', page: 295 },\n\n  attributes: {\n    [VehicleAttr.handling]: '2/6',\n    [VehicleAttr.accel]: 29,\n    [VehicleAttr.speedInterval]: 30,\n    [VehicleAttr.topSpeed]: 260,\n    [VehicleAttr.body]: 4,\n    [VehicleAttr.armor]: 2,\n    [VehicleAttr.pilot]: 1,\n    [VehicleAttr.sensor]: 1,\n    [VehicleAttr.seat]: 1,\n  },\n\n  pilotingSpeciality: 'Ground Craft',\n})\n\naddGear<VehicleData>(Silicus, {\n  id: 'c55a0573-670d-4f31-993b-60f151f30e86',\n  gearType: GearType.vehicle,\n  name: 'Hyundai Shin-Hyung',\n  type: 'Car',\n  cost: 20_000,\n  avail: { rarity: 2 },\n  source: { book: 'CRB', page: 295 },\n\n  attributes: {\n    [VehicleAttr.handling]: '3/5',\n    [VehicleAttr.accel]: 12,\n    [VehicleAttr.speedInterval]: 25,\n    [VehicleAttr.topSpeed]: 200,\n    [VehicleAttr.body]: 7,\n    [VehicleAttr.armor]: 1,\n    [VehicleAttr.pilot]: 1,\n    [VehicleAttr.sensor]: 1,\n    [VehicleAttr.seat]: 3,\n  },\n\n  pilotingSpeciality: 'Ground Craft',\n}, [\n  addGear(Silicus, {\n    id: 'd8e171f9-c1b1-4b22-bf28-bebcee03e859',\n    gearType: GearType.vehicleMod,\n    modType: ModType.riggerInterface,\n    name: 'Rigger Interface',\n    type: 'vehicle mod',\n    avail: { rarity: 2, license: true },\n    cost: 1_000,\n  }),\n])\n\naddGear<SinData>(Silicus, {\n  id: '97ec7a5b-358e-4cfd-b2ab-040934ec1f88',\n  gearType: GearType.sin,\n  name: 'Jake Ozbourne',\n  type: 'Fake SIN',\n  source: { book: 'CRB', page: 273 },\n  avail: { rarity: 4, illegal: true },\n  cost: 15_000,\n\n  description: 'General use SIN',\n\n  attributes: {\n    [SinAttr.rating]: 6,\n  },\n}, [\n  addGear(Silicus, {\n    id: '5b529806-1ab6-4363-9218-00846f1c86d2',\n    gearType: GearType.license,\n    name: 'License: Concealed Carry',\n    type: 'Fake License',\n    source: { book: 'CRB', page: 273 },\n    avail: { rarity: 4, illegal: true },\n    cost: 1_000,\n\n    attributes: {\n      [LicenseAttr.rating]: 5,\n    },\n  }),\n  addGear(Silicus, {\n    id: '33cd2f9a-2c84-412e-9081-16c916f53eff',\n    gearType: GearType.license,\n    name: 'License: Firearm Carry',\n    type: 'Fake License',\n    source: { book: 'CRB', page: 273 },\n    avail: { rarity: 4, illegal: true },\n    cost: 1_000,\n\n    attributes: {\n      [LicenseAttr.rating]: 5,\n    },\n  }),\n  addGear(Silicus, {\n    id: '989639ae-1592-46b9-b7b8-cdd7dad6b958',\n    gearType: GearType.license,\n    name: 'License: Ares Viper Silvergun',\n    type: 'Fake License',\n    source: { book: 'CRB', page: 273 },\n    avail: { rarity: 4, illegal: true },\n    cost: 1_000,\n\n    attributes: {\n      [LicenseAttr.rating]: 5,\n    },\n  }),\n])\n\naddGear<SinData>(Silicus, {\n  id: '7cd3e825-ca8f-40b6-ad50-ae2af68fa91c',\n  gearType: GearType.sin,\n  name: 'Julian Bashir',\n  type: 'Fake SIN',\n  source: { book: 'CRB', page: 273 },\n  avail: { rarity: 4, illegal: true },\n  cost: 10_000,\n\n  description: 'Runner use SIN',\n\n  attributes: {\n    [SinAttr.rating]: 4,\n  },\n})\n","import {AwakenedType} from '../../Character/AwakenedType'\nimport {CharacterAttr} from '../../Character/CharacterAttr'\nimport {CharacterData} from '../../Character/CharacterData'\nimport {ArmorAttr} from '../../Gear/Armor/ArmorAttr'\nimport {AugmentAttr} from '../../Gear/Augments/AugmentAttr'\nimport {AugmentData, AugmentGrade, AugmentSlot} from '../../Gear/Augments/AugmentData'\nimport {CommlinkAttr} from '../../Gear/Commlink/CommlinkAttr'\nimport {GearType} from '../../Gear/GearData'\nimport {SinAttr} from '../../Gear/License/SinAttr'\nimport {SinData} from '../../Gear/License/SinData'\nimport {OtherGearAttr} from '../../Gear/OtherGearData'\nimport {VehicleAttr} from '../../Gear/Vehicles/VehicleAttr'\nimport {VehicleData} from '../../Gear/Vehicles/VehicleData'\nimport {WeaponPoolKeys} from '../../Gear/Weapons/DicePools'\nimport {WeaponAttr} from '../../Gear/Weapons/WeaponAttr'\nimport {WeaponModData, WeaponModSlot} from '../../Gear/Weapons/WeaponModData'\nimport {toCharQuality} from '../../Qualities/CharacterQuality'\nimport {Qualities, QualityIds} from '../../Qualities/Quality'\nimport {ActiveSkillIds, SkillType, Specializations} from '../../Skills'\nimport {EffectType} from '../../System/Effect'\n\nimport {addGear} from './index'\n\nexport const Spike: CharacterData = {\n  dataVersion: 3,\n\n  bio: {\n    name: 'Spike',\n    metatype: 'Elf',\n    awakened: AwakenedType.Mundane,\n    gender: 'male',\n    role: 'Street Samurai',\n  },\n\n  karma: [\n    {\n      date: '2021-01-02T16:01',\n      value: 2,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-12-19T16:01',\n      value: 5,\n      note: 'Mission reward',\n    },\n    {\n      date: '2021-12-19T16:00',\n      value: 3,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-12-05T16:00',\n      value: 5,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-12-05',\n      value: 27,\n      note: 'Balance import',\n    },\n  ],\n\n  nuyen: [\n    {\n      date: '2021-12-19T16:00',\n      value: 40_000,\n      note: 'Mission Reward',\n    },\n    {\n      date: '2021-12-05',\n      value: 13_066,\n      note: 'Balance import',\n    },\n  ],\n\n  lifestyle: {\n    grade: 'low',\n    upkeep: 2_000,\n    prepaid: 1,\n  },\n\n  attributes: {\n    [CharacterAttr.body]: 5,\n    [CharacterAttr.agility]: 8,\n    [CharacterAttr.reaction]: 5,\n    [CharacterAttr.strength]: 1,\n    [CharacterAttr.willpower]: 5,\n    [CharacterAttr.logic]: 1,\n    [CharacterAttr.intuition]: 5,\n    [CharacterAttr.charisma]: 4,\n    [CharacterAttr.edge]: 5,\n    [CharacterAttr.magic]: 0,\n    [CharacterAttr.resonance]: 0,\n    [CharacterAttr.essence]: 6,\n  },\n\n  contacts: [\n    {\n      name: 'Roy',\n      connection: 4,\n      loyalty: 4,\n      description: 'Weapons Dealer',\n    },\n    {\n      name: 'Jackie',\n      connection: 4,\n      loyalty: 4,\n      description: 'Mobster',\n    },\n    {\n      name: 'Michi',\n      connection: 4,\n      loyalty: 4,\n      description: 'Ripper Doc',\n    },\n  ],\n\n  skills: [\n    {\n      type: SkillType.active,\n      id: ActiveSkillIds.CRB.firearms,\n      rank: 7,\n      specialization: Specializations.CRB.Firearms.SubmachineGuns,\n    },\n    {\n      type: SkillType.active,\n      id: ActiveSkillIds.CRB.stealth,\n      rank: 3,\n    },\n    {\n      type: SkillType.active,\n      id: ActiveSkillIds.CRB.athletics,\n      rank: 4,\n    },\n    {\n      type: SkillType.active,\n      id: ActiveSkillIds.CRB.piloting,\n      rank: 1,\n    },\n    {\n      type: SkillType.active,\n      id: ActiveSkillIds.CRB.perception,\n      rank: 4,\n    },\n    {\n      type: SkillType.active,\n      id: ActiveSkillIds.CRB.con,\n      rank: 2,\n    },\n\n    {\n      type: SkillType.language,\n      name: 'English',\n      rank: 'native',\n    },\n  ],\n\n  qualities: [\n    toCharQuality(Qualities[QualityIds.CRB.lowLightVision]),\n    toCharQuality(Qualities[QualityIds.CRB.exceptional], {type: CharacterAttr.agility}),\n    toCharQuality(Qualities[QualityIds.CRB.aptitude], {type: ActiveSkillIds.CRB.firearms}),\n    toCharQuality(Qualities[QualityIds.CRB.highPainTolerance]),\n    toCharQuality(Qualities[QualityIds.CRB.catlike]),\n    toCharQuality(Qualities[QualityIds.CRB.allergy], {type: 'Sun, Moderate', level: 14}),\n    toCharQuality(Qualities[QualityIds.CRB.addiction], {type: 'Deepweed, 1 Day', level: 3}),\n  ],\n\n  gear: [],\n}\n\naddGear(Spike, {\n  id: '2dd5ed6d-14aa-450b-b5f2-85e1d7ca5063',\n  source: {book: 'CRB', page: 265},\n  gearType: GearType.armor,\n  name: 'Chameleon Suit',\n  type: 'Armor',\n  avail: {rarity: 4, illegal: true},\n  cost: 2_000,\n  attributes: {\n    [ArmorAttr.defenseBonus]: 2,\n    [ArmorAttr.capacity]: 4,\n  },\n  description: `\n    Available in all manner of styles, it offers good protection without \n    catching too much attention. But dont think of wearing one to a \n    social event or government building.\n  `,\n  wirelessBonus: {\n    enabled: true,\n    description: 'Raises defense rating by 2 thanks to improved hiding ability',\n    effects: [\n      {type: EffectType.defRatingAdj, bonus: 2},\n    ],\n  },\n}, [\n  addGear(Spike, {\n    attachedTo: '2dd5ed6d-14aa-450b-b5f2-85e1d7ca5063',\n    id: '91aa36e4-a048-41c9-9652-3b84b99468e9',\n    gearType: GearType.armorMod,\n    name: 'Electricity Resistance',\n    type: 'Armor Mod',\n    source: {book: 'CRB', page: 266},\n    avail: {rarity: 3},\n    cost: 1_000,\n    attributes: {'Rating': 4, 'Uses': 4},\n    description: 'Cancels the Zapped status up to 4 times, then is worn away',\n  }),\n])\n\nconst smartGunIntMod: WeaponModData = {\n  id: null,\n  source: {book: 'CRB', page: 260},\n  gearType: GearType.weaponMod,\n  name: 'Smart Gun Int.',\n  type: 'Weapon Mod',\n  cost: 500,\n\n  slot: null,\n  removable: false,\n  wirelessBonus: {\n    enabled: true,\n    description:\n      'You gain a +1 dice pool bonus. Gain a bonus Minor Action on a turn when ' +\n      'you use the Reload Smartgun or Change Device Mode actions to eject a ' +\n      'clip or change fire mode.',\n  },\n  effects: [\n    {\n      wireless: true,\n      name: 'Smart Gun',\n      type: EffectType.dicePoolAdj,\n      poolType: WeaponPoolKeys.basicAttack,\n      value: 1,\n    },\n  ],\n}\n\naddGear(Spike, {\n  id: 'c64c19a8-ada0-4f4a-9bdd-df10da7ea1b2',\n  gearType: GearType.weapon,\n  name: 'Ruger 101',\n  type: 'Rifle',\n  source: {book: 'CRB', page: 258},\n  avail: {rarity: 2, license: true},\n  cost: 11_100,\n  attributes: {\n    [WeaponAttr.dv]: '5P',\n    [WeaponAttr.attackRatings]: '2/6/10/12/11',\n    [WeaponAttr.modes]: 'SA',\n    [WeaponAttr.ammo]: '8(m)',\n  },\n  skill: ActiveSkillIds.CRB.firearms,\n  specialtyName: Specializations.CRB.Firearms.Rifles,\n}, [\n  addGear(Spike, {\n    ...smartGunIntMod,\n    id: '5c6a5325-1f21-435e-b39d-559b8d7367ba',\n  }),\n  addGear(Spike, {\n    id: 'ff521abf-4f69-43bc-8842-42c70fa57677',\n    gearType: GearType.weaponMod,\n    name: 'Rigid Stock with shock pad',\n    type: 'Weapon Mod',\n    slot: WeaponModSlot.under,\n  }),\n  addGear(Spike, {\n    id: '604f8e10-23ee-49c0-9e03-47129f56f984',\n    gearType: GearType.weaponMod,\n    name: 'Imaging Scope',\n    type: 'Weapon Mod',\n    slot: WeaponModSlot.top,\n    removable: true,\n  }),\n])\n\naddGear(Spike, {\n  id: 'fe479daa-c729-41d5-9b25-e8d60c375a86',\n  gearType: GearType.weapon,\n  name: 'Ares Desert Strike',\n  type: 'Rifle',\n  source: {book: 'CRB', page: 258},\n  avail: {rarity: 4, illegal: true},\n  cost: 11_000,\n  attributes: {\n    [WeaponAttr.dv]: '5P',\n    [WeaponAttr.attackRatings]: '3/10/10/10/10',\n    [WeaponAttr.modes]: 'SA/BF/FA',\n    [WeaponAttr.ammo]: '14(c)',\n  },\n  skill: ActiveSkillIds.CRB.firearms,\n  specialtyName: Specializations.CRB.Firearms.Rifles,\n}, [\n  addGear(Spike, {\n    ...smartGunIntMod,\n    id: '34253074-4c73-4e12-9434-856d363a394c',\n  }),\n  addGear(Spike, {\n    id: 'd3f6211d-9057-498b-8c52-9f137a63a248',\n    gearType: GearType.weaponMod,\n    name: 'Rigid Stock with shock pad',\n    type: 'Weapon Mod',\n    slot: WeaponModSlot.under,\n  }),\n  addGear(Spike, {\n    id: '71e863dc-c0e8-4b71-b0a4-69ce58e5e4d1',\n    gearType: GearType.weaponMod,\n    name: 'Imaging Scope',\n    type: 'Weapon Mod',\n    slot: WeaponModSlot.top,\n    removable: true,\n  }),\n])\n\naddGear(Spike, {\n  id: 'fb5d82be-83eb-4cab-afaf-2cabbcd4dabd',\n  gearType: GearType.weapon,\n  name: 'Ingram Smartgun XI',\n  type: 'Submachine Gun',\n  source: {book: 'CRB', page: 255},\n  avail: {rarity: 3, license: true},\n  cost: 750,\n  attributes: {\n    [WeaponAttr.dv]: '3P',\n    [WeaponAttr.attackRatings]: '11/9/6/-/-',\n    [WeaponAttr.modes]: 'SA/BF',\n    [WeaponAttr.ammo]: '32(c)',\n  },\n  skill: ActiveSkillIds.CRB.firearms,\n  specialtyName: Specializations.CRB.Firearms.SubmachineGuns,\n}, [\n  addGear(Spike, {\n    ...smartGunIntMod,\n    id: '3443bc88-c268-4b39-940e-d3c4adf1bfe9',\n  }),\n  addGear(Spike, {\n    id: 'a746b9e4-8076-4ca9-9ee9-bb6f6bea0e15',\n    gearType: GearType.weaponMod,\n    name: 'Gas Vent System',\n    type: 'Weapon Mod',\n    slot: WeaponModSlot.barrel,\n    removable: false,\n  }),\n  addGear(Spike, {\n    id: 'f47ecf4d-36bc-4a16-8abb-7006dcfc1461',\n    gearType: GearType.weaponMod,\n    name: 'Silencer',\n    type: 'Weapon Mod',\n    slot: WeaponModSlot.barrel,\n    removable: false,\n  }),\n])\n\naddGear(Spike, {\n  id: 'c0985b9f-2e82-4e7e-9038-4e4bae5bda14',\n  gearType: GearType.weapon,\n  name: 'Fichetti Security 600',\n  type: 'Light Pistol',\n  source: {book: 'CRB', page: 255},\n  avail: {rarity: 3, license: true},\n  cost: 390,\n  attributes: {\n    [WeaponAttr.dv]: '2P',\n    [WeaponAttr.attackRatings]: '10/9/6/-/-',\n    [WeaponAttr.modes]: 'SA',\n    [WeaponAttr.ammo]: '30(c)',\n  },\n  skill: ActiveSkillIds.CRB.firearms,\n  specialtyName: Specializations.CRB.Firearms.LightPistols,\n}, [\n  addGear(Spike, {\n    ...smartGunIntMod,\n    id: '9d32fd3a-25ed-4954-9d69-e27f6f153830',\n  }),\n  addGear(Spike, {\n    id: '1a8c4cb4-f56c-41df-9884-36373fbf698f',\n    gearType: GearType.weaponMod,\n    name: 'Folding Stock',\n    type: 'Weapon Mod',\n    slot: WeaponModSlot.under,\n  }),\n  addGear(Spike, {\n    id: '5001b8fc-817f-41fc-afee-118e39a0bbea',\n    gearType: GearType.weaponMod,\n    name: 'Laser Sight',\n    type: 'Weapon Mod',\n    slot: WeaponModSlot.barrel,\n  }),\n])\n\naddGear<AugmentData>(Spike, {\n  id: '4e9b405a-34c3-4048-b2dc-292136759017',\n  gearType: GearType.augment,\n  name: 'Muscle Replacement',\n  type: 'Bodyware Augment',\n  source: {book: 'CRB', page: 287},\n  avail: {rarity: 3, license: true},\n  cost: 60_000,\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.used,\n    [AugmentAttr.rating]: 3,\n    [AugmentAttr.essenceCost]: 2.31,\n    [AugmentAttr.slot]: AugmentSlot.bioware,\n  },\n  description: `\n    Vat-grown synthetic muscles replace or augment your own, and calcium \n    treatments and skeletal reinforcement contribute to your overall strength. \n    It increases both your Strength and Agility attributes by its rating. It\n    cannot be combined with other augmentations to the muscles, including muscle\n    augmentation or muscle toner bioware\n  `,\n  effects: [\n    {type: EffectType.attrBonus, attr: CharacterAttr.strength, value: 3},\n    {type: EffectType.attrBonus, attr: CharacterAttr.agility, value: 3},\n  ],\n})\n\naddGear<AugmentData>(Spike, {\n  id: 'e3f46b05-c6a8-4bbc-9044-2dd98695d332',\n  gearType: GearType.augment,\n  name: 'Wired Reflexes',\n  type: 'Bodyware Augment',\n  source: {book: 'CRB', page: 287},\n  avail: {rarity: 3, license: true},\n  cost: 60_000,\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.standard,\n    [AugmentAttr.rating]: 2,\n    [AugmentAttr.essenceCost]: 2.0,\n    [AugmentAttr.slot]: AugmentSlot.bodyware,\n  },\n  enabled: true,\n  description: `\n    This highly invasive, painful, life-changing operation adds a multitude of \n    neural boosters and adrenaline stimulators in strategic locations throughout \n    your body to catapult you into a whole new world where everything around you \n    seems to move in slow motion. The system includes both manual and wireless \n    triggers to turn the wired reflexes on and off; activating or deactivating \n    the trigger manually requires a Major Action, while doing so wirelessly is a\n    Minor Action. When activated, each rating point of wired reflexes gives you\n    +1 Reaction (with accompanying bonus to your Initiative Score) and 1 \n    additional Initiative Die (with accompanying Minor Action). Wired reflexes \n    are incompatible with augmentations that affect Reaction or Initiative\n  `,\n  effects: [\n    {type: EffectType.attrBonus, attr: CharacterAttr.reaction, value: 2},\n    {type: EffectType.initAdj, value: 2},\n  ],\n  wirelessBonus: {\n    enabled: true,\n    description: `\n      The system is compatible with wireless reaction enhancers, and activation\n      or deactivation requires a minor action\n    `,\n  },\n})\n\naddGear<AugmentData>(Spike, {\n  id: 'eb203072-4a18-4866-b6ec-04c3769396f8',\n  gearType: GearType.augment,\n  name: 'Orthoskin',\n  type: 'Bioware Augment',\n  source: {book: 'CRB', page: 292},\n  avail: {rarity: 7, license: true},\n  cost: 15_000,\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.delta,\n    [AugmentAttr.rating]: 1,\n    [AugmentAttr.essenceCost]: 0.125,\n    [AugmentAttr.slot]: AugmentSlot.bioware,\n  },\n  description: `\n    A web of biofibers in the skin provides the equivalent of personal armor \n    while being virtually indistinguishable from natural skin. Orthoskin \n    provides a bonus equal to its rating to your Defense Rating. Orthoskin \n    cannot be combined with skin augmentations, including dermal plating.\n  `,\n  effects: [\n    {type: EffectType.defRatingAdj, value: 1},\n  ],\n})\n\naddGear<AugmentData>(Spike, {\n  id: 'deeb37c3-beee-4cf7-ab69-7dd75aad52ad',\n  gearType: GearType.augment,\n  name: 'Symbiotes',\n  type: 'Bioware Augment',\n  source: {book: 'CRB', page: 292},\n  avail: {rarity: 4},\n  cost: 17_500,\n  attributes: {\n    [AugmentAttr.grade]: AugmentGrade.delta,\n    [AugmentAttr.rating]: 2,\n    [AugmentAttr.essenceCost]: 0.2,\n    [AugmentAttr.slot]: AugmentSlot.bioware,\n  },\n  description: `\n    Tailored micro-organisms in your bloodstream greatly enhance your healing. \n    Add the rating of the symbiotes as a dice pool modifier on healing tests \n    (Physical and Stun). However, the symbiotes have unusual dietary \n    requirements that must be met to keep them alive. You need to pay (Rating x \n    200) nuyen per month for special symbiote food, although if you have a High \n    Lifestyle or better, its covered. If they are not fed, they die in a month.\n  `,\n})\n\naddGear<VehicleData>(Spike, {\n  id: 'c455159b-cc52-4cf6-af44-3b25f7ad349b',\n  gearType: GearType.vehicle,\n  name: 'Suzuki Mirage',\n  type: 'Bike',\n  cost: 12_000,\n  avail: {rarity: 2},\n  source: {book: 'CRB', page: 295},\n\n  attributes: {\n    [VehicleAttr.handling]: '2/6',\n    [VehicleAttr.accel]: 29,\n    [VehicleAttr.speedInterval]: 30,\n    [VehicleAttr.topSpeed]: 260,\n    [VehicleAttr.body]: 4,\n    [VehicleAttr.armor]: 2,\n    [VehicleAttr.pilot]: 1,\n    [VehicleAttr.sensor]: 1,\n    [VehicleAttr.seat]: 1,\n  },\n\n  pilotingSpeciality: 'Ground Craft',\n})\n\naddGear(Spike, {\n  id: '35828ade-2256-401b-b99a-cf6c4d4b0712',\n  source: {book: 'CRB', page: 267},\n  gearType: GearType.other,\n  name: 'Renraku Sensei',\n  type: 'Commlink',\n  avail: {rarity: 2},\n  cost: 1_000,\n  attributes: {\n    [CommlinkAttr.deviceRating]: 3,\n    [CommlinkAttr.attributes]: '2/0',\n    [CommlinkAttr.programSlots]: 1,\n  },\n})\n\naddGear(Spike, {\n  id: 'b08ecea5-1373-4f6e-9ad0-4e37a2625505',\n  gearType: GearType.other,\n  name: 'Glasses',\n  type: 'Clothing',\n  source: {book: 'CRB', page: 285},\n  avail: {rarity: 2},\n  cost: 300,\n\n  attributes: {\n    [OtherGearAttr.capacity]: 3,\n  },\n}, [\n  addGear(Spike, {\n    id: 'b7163b5c-a354-49f2-b776-82f66871d1a4',\n    gearType: GearType.other,\n    name: 'Smartlink',\n    type: 'Visual Enhancement',\n    source: {book: 'CRB', page: 275},\n    avail: {rarity: 2},\n    cost: 2_000,\n\n    attributes: {\n      [OtherGearAttr.capacityCost]: 2,\n    },\n  }),\n  addGear(Spike, {\n    id: 'ec45ddcb-fd6a-4752-a9f0-57aacd8bb8cd',\n    gearType: GearType.other,\n    name: 'Imagelink',\n    type: 'Visual Enhancement',\n    source: {book: 'CRB', page: 275},\n    avail: {rarity: 1},\n    cost: 25,\n\n    attributes: {\n      [OtherGearAttr.capacityCost]: 1,\n    },\n  }),\n])\n\naddGear<SinData>(Spike, {\n  id: '378b33ff-2f6a-4000-8fd4-c9f17120f205',\n  gearType: GearType.sin,\n  name: 'Shiro Omagi',\n  type: 'Fake SIN',\n  source: {book: 'CRB', page: 273},\n  avail: {rarity: 4, illegal: true},\n  cost: 10_000,\n\n  description: 'Runner use SIN',\n\n  attributes: {\n    [SinAttr.rating]: 4,\n  },\n})\n","import { AwakenedType } from '../../Character/AwakenedType'\nimport { CharacterAttr } from '../../Character/CharacterAttr'\nimport { CharacterData } from '../../Character/CharacterData'\nimport { ArmorAttr } from '../../Gear/Armor/ArmorAttr'\nimport { CommlinkAttr } from '../../Gear/Commlink/CommlinkAttr'\nimport { GearType } from '../../Gear/GearData'\nimport { WeaponAttr } from '../../Gear/Weapons/WeaponAttr'\nimport { toCharQuality } from '../../Qualities/CharacterQuality'\nimport { Qualities, QualityIds } from '../../Qualities/Quality'\nimport { ActiveSkillIds, SkillType, Specializations } from '../../Skills'\nimport { SpellCategory } from '../../Spells/SpellCategory'\nimport { SpellType } from '../../Spells/SpellType'\nimport { EffectType } from '../../System/Effect'\n\nexport const Xendris: CharacterData = {\n  dataVersion: 3,\n\n  bio: {\n    name: 'Xendris',\n    metatype: 'Human',\n    awakened: AwakenedType.Full,\n    gender: 'male',\n    role: 'Hermetic Mage',\n  },\n\n  karma: [\n    {\n      date: '2021-01-02T16:01',\n      value: 2,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-12-19T16:00',\n      value: 5,\n      note: 'Mission reward',\n    },\n    {\n      date: '2021-12-05T16:00',\n      value: 5,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-11-27T16:00',\n      value: 4,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-11-21T15:05',\n      value: 3,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-11-07T16:00',\n      value: 3,\n      note: 'Session reward',\n    },\n    {\n      date: '2021-11-21T12:17',\n      value: 2,\n      note: 'Character Creation',\n    },\n  ],\n  nuyen: [\n    {\n      date: '2021-12-19T16:00',\n      value: 40_000,\n      note: 'Mission Reward',\n    },\n    {\n      date: '2021-11-21T16:00',\n      value: 2_000,\n      note: 'Stream income',\n    },\n    {\n      date: '2021-11-21T12:21',\n      value: -5_000,\n      note: 'Lifestyle (1 month)',\n    },\n    {\n      date: '2021-11-21T12:20',\n      value: -2_450,\n      note: 'Char creation Gear',\n    },\n    {\n      date: '2021-11-21T12:19',\n      value: 8_000,\n      note: 'Char creation',\n    },\n  ],\n\n  lifestyle: {\n    grade: 'middle',\n    upkeep: 5_000,\n    prepaid: 1,\n  },\n\n  attributes: {\n    [CharacterAttr.body]: 6,\n    [CharacterAttr.agility]: 4,\n    [CharacterAttr.reaction]: 2,\n    [CharacterAttr.strength]: 2,\n    [CharacterAttr.willpower]: 3,\n    [CharacterAttr.logic]: 5,\n    [CharacterAttr.intuition]: 1,\n    [CharacterAttr.charisma]: 2,\n    [CharacterAttr.edge]: 4,\n    [CharacterAttr.magic]: 5,\n    [CharacterAttr.resonance]: 0,\n    [CharacterAttr.essence]: 6,\n  },\n\n  contacts: [\n    {\n      name: 'Tracy Caldwell',\n      connection: 2,\n      loyalty: 2,\n      description: 'Arcane Professor',\n    },\n    {\n      name: 'Wish',\n      connection: 2,\n      loyalty: 2,\n      description: 'Black Market Dealer',\n    },\n    {\n      name: 'Sparky',\n      connection: 2,\n      loyalty: 2,\n      description: 'Smuggler',\n    },\n  ],\n\n  skills: [\n    {\n      type: SkillType.active,\n      id: ActiveSkillIds.CRB.closeCombat,\n      rank: 7,\n      specialization: Specializations.CRB.CloseCombat.Blades,\n    },\n    {\n      type: SkillType.active,\n      id: ActiveSkillIds.CRB.sorcery,\n      rank: 6,\n    },\n    {\n      type: SkillType.active,\n      id: ActiveSkillIds.CRB.firearms,\n      rank: 6,\n    },\n    {\n      type: SkillType.language,\n      name: 'English',\n      rank: 'native',\n    },\n  ],\n\n  qualities: [\n    toCharQuality(Qualities[QualityIds.CRB.highPainTolerance]),\n    toCharQuality(Qualities[QualityIds.CRB.analyticalMind]),\n    toCharQuality(Qualities[QualityIds.CRB.builtTough], { level: 3 }),\n    toCharQuality(Qualities[QualityIds.CRB.longReach]),\n  ],\n\n  gear: [\n    {\n      id: '501f13ec-01c5-4369-8e2b-c61381ca3555',\n      source: { book: 'CRB', page: 265 },\n      gearType: GearType.armor,\n      name: 'Armored Jacket',\n      type: 'Armor',\n      avail: { rarity: 2 },\n      cost: 1_000,\n      attributes: {\n        [ArmorAttr.defenseBonus]: 4,\n        [ArmorAttr.capacity]: 8,\n      },\n      effects: [\n        { type: EffectType.defRatingAdj, value: 4 },\n      ],\n      description: `\n        Available in all manner of styles, it offers good protection without \n        catching too much attention. But dont think of wearing one to a \n        social event or government building.\n      `,\n    },\n    {\n      id: '0795383b-4050-4979-9623-0ad057d14422',\n      source: { book: 'CRB', page: 267 },\n      gearType: GearType.other,\n      name: 'Sony Emperor',\n      type: 'Commlink',\n      avail: { rarity: 2 },\n      cost: 700,\n      attributes: {\n        [CommlinkAttr.deviceRating]: 2,\n        [CommlinkAttr.attributes]: '1/1',\n        [CommlinkAttr.programSlots]: 1,\n      },\n    },\n    {\n      id: '0e6bd0a9-822b-4e5e-931b-82fdab1f4ec8',\n      source: { book: 'CRB', page: 267 },\n      gearType: GearType.weapon,\n      name: 'Ares Predator VI',\n      type: 'Heavy Pistol',\n      avail: { rarity: 2, license: true },\n      cost: 750,\n      attributes: {\n        [WeaponAttr.dv]: '3P',\n        [WeaponAttr.modes]: 'SA/BF',\n        [WeaponAttr.attackRatings]: '10/10/8/-/-',\n        [WeaponAttr.ammo]: '15(c)',\n      },\n      skill: ActiveSkillIds.CRB.firearms,\n      specialtyName: Specializations.CRB.Firearms.HeavyPistols,\n    },\n    {\n      id: 'c6b2b887-c31c-4ba4-8fa2-fe6e3b5b1f19',\n      source: { book: 'CRB', page: 247 },\n      gearType: GearType.weapon,\n      name: 'Katana',\n      type: 'Blade Weapon',\n      avail: { rarity: 3 },\n      cost: 350,\n      attributes: {\n        [WeaponAttr.dv]: '4P',\n        [WeaponAttr.attackRatings]: '10/-/-/-/-',\n      },\n      skill: ActiveSkillIds.CRB.closeCombat,\n      specialtyName: Specializations.CRB.CloseCombat.Blades,\n    },\n  ],\n\n  spellDrainAttr: CharacterAttr.logic,\n  spells: [\n    {\n      id: '56e45b2d-d181-4d48-94f4-c343bd324815',\n      name: 'Manabolt',\n      source: { book: 'CRB', page: 133 },\n      category: SpellCategory.Combat,\n      range: 'LOS',\n      type: SpellType.Mana,\n      duration: 'Instant',\n      drainValue: 4,\n      damage: 'P',\n      damageType: 'Direct',\n      area: false,\n      effect: `\n        Essential spellcasting, shaping mana to crack skulls. Who can argue\n        with the purity? Manabolt targets individuals, while Manaball is area\n        effect.\n      `,\n    },\n    {\n      id: 'e8c1b202-0af1-41c5-a1e0-a97a8737a1bf',\n      name: 'Fireball',\n      source: { book: 'CRB', page: 133 },\n      category: SpellCategory.Combat,\n      range: 'LOS (A)',\n      type: SpellType.Physical,\n      duration: 'Instant',\n      drainValue: 6,\n      damage: 'P, Special',\n      damageType: 'Indirect',\n      area: true,\n      effect: `\n        A classic. When you think of hurting people with magic, the first\n        thing that comes to mind is making fire explode in their faces.\n        These are the spells that'll get that done. Flamestrike hits\n        individuals, Fireball is area effect. Both spells do Fire elemental\n        damage, and impose the Burning status with a rating equal to net hits\n        on the Spellcasting test.\n      `,\n    },\n    {\n      id: '94ed6946-dd22-43a7-9110-6349169092a8',\n      name: 'Firestrike',\n      source: { book: 'CRB', page: 133 },\n      category: SpellCategory.Combat,\n      range: 'LOS',\n      type: SpellType.Physical,\n      duration: 'Instant',\n      drainValue: 5,\n      damage: 'P, Special',\n      damageType: 'Indirect',\n      area: false,\n      effect: `\n        A classic. When you think of hurting people with magic, the first\n        thing that comes to mind is making fire explode in their faces.\n        These are the spells that'll get that done. Flamestrike hits\n        individuals, Fireball is area effect. Both spells do Fire elemental\n        damage, and impose the Burning status with a rating equal to net hits\n        on the Spellcasting test.\n      `,\n    },\n    {\n      id: 'c06c0782-4c65-4dc8-9685-122563f6d600',\n      name: 'Resist Pain',\n      source: { book: 'CRB', page: 137 },\n      category: SpellCategory.Health,\n      range: 'Touch',\n      type: SpellType.Mana,\n      duration: 'Sustained',\n      drainValue: 5,\n      effect: `\n        While not providing healing, this spell allows the target to ignore\n        the effects of damage, moving forward as if they did not have that\n        pain. Roll Sorcery + Magic (5 - Essence); for each net hit, the target\n        can reduce dice-pool modifiers from damage by 1.\n      `,\n    },\n    {\n      id: 'fe3a1eea-140c-4b09-a324-9832bbe70b83',\n      name: 'Increase Attribute',\n      source: { book: 'CRB', page: 137 },\n      category: SpellCategory.Health,\n      range: 'Touch',\n      type: SpellType.Physical,\n      duration: 'Sustained',\n      drainValue: 3,\n      effect: `\n        The touch of the mage strengthens, speeds, or enlightens the target,\n        temporarily raising one of their attributes. The caster decides which\n        attribute to target before casting the spell. The caster rolls a\n        Sorcery + Magic (5 - essence) test. They can select how many net hits\n        they actually apply to the target to increase the selected attribute, \n        at a rate of 1 point of increase per net hit (maximum bonus +4); for\n        each net hit applied beyond the first, the Drain Value of the spell\n        increases by 1. The spell cannot affect Edge, Essence, Magic, or\n        Resonance.\n      `,\n    },\n    {\n      id: 'e1bc877c-539a-4df3-8653-bac9219f5b55',\n      name: 'Decrease Attribute',\n      source: { book: 'CRB', page: 136 },\n      category: SpellCategory.Health,\n      range: 'Touch',\n      type: SpellType.Physical,\n      duration: 'Sustained',\n      drainValue: 3,\n      effect: `\n        The touch of the mage weakens, slows, or stupefies the target,\n        temporarily lowering one of their attributes. The caster decides which\n        attribute to target before casting the spell. The caster rolls a\n        Sorcery + Magic vs Willpower + targeted attribute. They can select how \n        many net hits they actually apply to the target at a rate of 1 point \n        of decrease per net hit; for each net hit applied beyond the first, \n        the Drain Value of the spell increases by 1. The spell cannot affect \n        Edge, Essence, Magic, or Resonance.\n      `,\n    },\n    {\n      id: '5b2c4a6e-5898-4abb-a795-7c8fffbf02ba',\n      name: 'Increase Reflexes',\n      source: { book: 'CRB', page: 137 },\n      category: SpellCategory.Health,\n      range: 'Touch',\n      type: SpellType.Physical,\n      duration: 'Sustained',\n      drainValue: 5,\n      effect: `\n        The reaction time and speed of the target increase, making them better\n        able to anticipate and respond to others. The caster rolls a Sorcery +\n        Magic (5 - Essence) test. They can select how many net hits they\n        actually apply to the target to increase both their Reaction score and\n        the number of Initiative Die, at a rate of 1 point of increase and 1\n        Initiative die per net hit; for each net hit applied beyond the first,\n        the Drain Value of the spell increases by 1.\n      `,\n    },\n    {\n      id: '0f906a30-d84d-40af-8adb-76e23892e323',\n      name: 'Heal',\n      source: { book: 'CRB', page: 136 },\n      category: SpellCategory.Health,\n      range: 'Touch',\n      type: SpellType.Physical,\n      duration: 'Permanent',\n      drainValue: 3,\n      effect: `\n        Shadowrunning comes with bumps, bruises, and bullet wounds, and\n        magic is perhaps the quickest and most effective way to repair it.\n        When casting this spell, roll Sorcery + Magic with a threshold of (5 -\n        Essence). Heal 1 box of Stun, Physical, or Overflow damage per net hit.\n        Injuries can only be affected once by any Heal spell (including\n        Cleansing Heal, Colling Heal, and Warming Heal).\n      `,\n    },\n  ],\n}\n","import { nextRecordId } from './Api/Model'\nimport { Character } from './Character/Character'\nimport { migrateCharacter, SavedCharacter } from './Character/Migrations'\nimport { Artemis } from './data/Characters/Artemis'\nimport { Dusk } from './data/Characters/Dusk'\nimport { Silicus } from './data/Characters/Silicus'\nimport { Spike } from './data/Characters/Spike'\nimport { Xendris } from './data/Characters/Xendris'\n\nconst characterStorageKey = (characterId: string) => `character.${characterId}`\nconst charactersStorageKey = 'characters'\nconst DEBUG_LOAD = true\n\nexport type SavedCharacters = Record<string, string>\n\nexport function loadCharacters (): SavedCharacters {\n  if (DEBUG_LOAD || !localStorage.getItem(charactersStorageKey)) {\n    const savedCharacters: SavedCharacters = {}\n\n    const characters: Character[] = [Artemis, Silicus, Xendris, Spike, Dusk]\n      .map(data => ({\n        name: data.bio.alias || data.bio.name,\n        id: data.bio.alias || data.bio.name,\n        userId: 'affbd8b8-8c41-4e82-86b6-85d184a71318',\n        updatedAt: new Date().toISOString(),\n        createdAt: new Date().toISOString(),\n        data,\n      }) as Character)\n      .map(character => migrateCharacter(character))\n\n    characters.forEach(character => {\n      if (character.id === null) character.id = nextRecordId()\n      saveCharacter(character)\n      savedCharacters[character.id] = character.name\n    })\n\n    localStorage.setItem(charactersStorageKey, JSON.stringify(savedCharacters))\n  }\n\n  return JSON.parse(localStorage.getItem(charactersStorageKey) || '{}')\n}\n\nexport function saveCharacter (character: Character): void {\n  if (character.id == null) throw new Error('Character has no id')\n  localStorage.setItem(characterStorageKey(character.id), JSON.stringify(character))\n}\n\nexport function loadCharacter (characterId: string): Character | null {\n  const character: SavedCharacter = JSON.parse(localStorage.getItem(characterStorageKey(characterId)) || 'null')\n  if (character) return migrateCharacter(character)\n  return null\n}\n","import * as uuid from 'uuid'\n\nexport type RecordId = string | null;\nexport type IsoDateString = string;\n\nexport function nextRecordId (): string {\n  return uuid.v4()\n}\n\nexport interface Model {\n  id: RecordId\n  createdAt: IsoDateString\n  updatedAt: IsoDateString\n}\n","import { Button, Stack } from '@mui/material'\nimport React, { FC, useEffect, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\n\nimport { loadCharacters, SavedCharacters } from '../StorageService'\nimport { RootLayout } from './RootLayout'\n\nexport const CharacterListPage: FC = () => {\n  const history = useHistory()\n  const [characters, setCharacters] = useState<SavedCharacters>({})\n\n  useEffect(() => setCharacters(loadCharacters()), [])\n\n  return (\n    <RootLayout>\n      <Stack>\n        {Object.entries(characters).map(([id, name]) => (\n          <Button\n            key={id}\n            onClick={() => history.push(`/${id}`)}\n            sx={{ padding: 1, fontSize: 30, justifyContent: 'flex-start' }}\n          >\n            {name}\n          </Button>\n        ))}\n      </Stack>\n    </RootLayout>\n  )\n}\n","export type Source = { book: string; page: number } | 'Homebrew'\n\nexport const formatSource = (source: Source): string => {\n  if (typeof source === 'string') return source\n  return `${source.book} p.${source.page}`\n}\n","import { Paper } from '@mui/material'\nimport Box from '@mui/material/Box'\nimport { FC } from 'react'\n\ninterface StatBlockProps {\n  vertical?: boolean\n}\n\nexport const StatBlock: FC<StatBlockProps> = ({\n  vertical,\n  children,\n}) => {\n  return (\n    <Paper\n      variant=\"outlined\"\n      sx={{\n        display: 'flex',\n        padding: 1,\n        gap: 1,\n        flexWrap: 'wrap',\n        flexDirection: vertical ? 'column' : 'row',\n        justifyContent: 'space-around',\n      }}\n    >\n      {children}\n    </Paper>\n  )\n}\n\ninterface StatProps {\n  name: string\n  value: string | number | null | undefined\n}\n\nexport const Stat: FC<StatProps> = ({\n  name,\n  value,\n}) => {\n  if (name === 'Essence') {\n    value = (value as number).toFixed(2).toString()\n  }\n\n  return (\n    <Box sx={{ display: 'flex', gap: 1, whiteSpace: 'nowrap' }}>\n      <Box sx={{ fontSize: 14, display: 'inline-block', color: 'primary.main', textAlign: 'left', flexGrow: 1 }}>\n        {name}\n      </Box>\n      <Box sx={{ fontSize: 14, display: 'inline-block', textAlign: 'right', flexGrow: 1 }}>\n        {value || '-'}\n      </Box>\n    </Box>\n  )\n}\n","import { FC } from 'react'\n\nimport { AttrList, formatAttr } from '../System/Attribute'\nimport { Stat, StatBlock } from './StatBlock'\n\ninterface AttributeBlockProps {\n  attributes: AttrList\n  vertical?: boolean\n}\n\nexport const AttributeBlock: FC<AttributeBlockProps> = ({\n  attributes,\n  vertical,\n}) => {\n  if (!attributes) return null\n  if (Object.keys(attributes).length === 0) return null\n\n  return (\n    <StatBlock vertical={vertical}>\n      {Object.entries(attributes).map(([type, value]) => (\n        <Stat key={type} name={formatAttr(type)} value={value} />\n      ))}\n    </StatBlock>\n  )\n}\n","import { library } from '@fortawesome/fontawesome-svg-core'\nimport { faCaretSquareRight } from '@fortawesome/free-regular-svg-icons'\nimport { faCaretSquareDown } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { Box, Chip, IconButton, Paper, Stack, Typography } from '@mui/material'\nimport { FC, ReactElement, useEffect, useState } from 'react'\n\nimport { displayFontFamily } from '../../AppThemeProvider'\n\nlibrary.add(faCaretSquareDown, faCaretSquareRight)\n\nfunction useExpanded(expandId: string | null): [boolean, (set: boolean) => void] {\n  const [expanded, _setExpanded] = useState<boolean>(true)\n\n  useEffect(() => {\n    if (expandId === null) return\n    const saved = sessionStorage.getItem(`expanded.${expandId}`) || 'true'\n    _setExpanded(saved === 'true')\n  }, [expandId])\n\n  function setExpanded(value: boolean): void {\n    if (expandId === null) return\n    sessionStorage.setItem(`expanded.${expandId}`, value.toString())\n    _setExpanded(value)\n  }\n\n  return [expanded, setExpanded]\n\n}\n\ninterface InfoBlockProps {\n  title: string | ReactElement\n  titleFontSize?: number\n  subtitle?: string | ReactElement\n  titleRight?: ReactElement\n  expandId?: string | null\n  expandable?: boolean\n  quantity?: number\n  content?: ReactElement\n  footer?: ReactElement\n}\n\nexport const InfoBlock: FC<InfoBlockProps> = ({\n  title,\n  titleFontSize = 20,\n  quantity = 0,\n  subtitle,\n  titleRight,\n  children,\n  expandId = null,\n  expandable,\n  content,\n  footer,\n}) => {\n  const [expanded, setExpanded] = useExpanded(expandId)\n\n  return (\n    <Paper elevation={1}>\n      <Box sx={{display: 'flex', gap: 1, padding: 1}}>\n        {expandable && (\n          <Box>\n            <IconButton size='small' onClick={() => setExpanded(!expanded)}>\n              <FontAwesomeIcon icon={expanded ? 'caret-square-down' : ['far', 'caret-square-right']} />\n            </IconButton>\n          </Box>\n        )}\n\n        <Box sx={{flexGrow: 1}}>\n          <Box>\n            <Typography\n              sx={{\n                display: 'inline-block',\n                fontFamily: displayFontFamily,\n                fontSize: titleFontSize,\n                color: 'primary.main',\n              }}\n            >{title}</Typography>\n            {quantity >= 1 && (\n              <Chip\n                sx={{marginLeft: 1, verticalAlign: 'top'}}\n                label={`x${quantity}`}\n                variant='outlined'\n                size='small'\n              />\n            )}\n          </Box>\n\n          {subtitle}\n        </Box>\n\n        {titleRight}\n      </Box>\n\n      {expanded && (\n        <>\n          {(content || children) && (\n            <Stack gap={1} sx={{padding: 1}}>\n              {content || children}\n            </Stack>\n          )}\n\n          {footer}\n        </>\n      )}\n    </Paper>\n  )\n}\n","import { BaseGearData, GearType } from '../../GearData'\nimport { AutosoftAttr } from './AutosoftAttr'\n\nexport interface AutosoftData extends BaseGearData {\n  gearType: GearType.autosoft\n  type: string\n  attributes: {\n    [AutosoftAttr.rating]: number\n    [AutosoftAttr.attr]: string\n    [AutosoftAttr.skill]?: string\n    [AutosoftAttr.weapon]?: string\n  }\n}\n\nexport enum AutosoftType {\n  targeting = 'Weapon Targeting',\n  clearsight = 'clearsight',\n  perception = 'Perception',\n  evasion = 'Evasion',\n  maneuvering = 'Maneuvering',\n  electronicWarfare = 'Electronic Warfare',\n  stealth = 'stealth',\n}\n","import { FC } from 'react'\n\nimport { CharacterAttr } from '../../Character/CharacterAttr'\nimport { useActiveSkill } from '../../Character/CharacterProvider'\nimport { ActiveSkillIds, hasExpertise, hasSpecialty } from '../../Skills'\nimport { useAttribute } from '../../System/AttributeProvider'\nimport { DamageType } from '../../System/Damage/DamageType'\nimport { DiceGroup, DicePool } from '../../UI/DicePool'\nimport { AugmentAttr } from '../Augments/AugmentAttr'\nimport { AugmentData, AugmentType } from '../Augments/AugmentData'\nimport { useFindGear, useGearOfType } from '../GearContext'\nimport { GearType } from '../GearData'\nimport { AutosoftAttr } from '../Software/Autosoft/AutosoftAttr'\nimport { AutosoftType } from '../Software/Autosoft/AutosoftData'\nimport { useAutosoft } from '../Software/Autosoft/AutosoftProvider'\nimport { VehicleAttr } from './VehicleAttr'\nimport { VehicleData } from './VehicleData'\nimport { ModType, VehicleModData } from './VehicleModData'\n\nexport enum VehiclePoolKeys {\n  resistDmg = 'vehicle.resistDmg',\n  pilotEvade = 'vehicle.pilotEvade',\n  riggedEvade = 'vehicle.riggedEvade',\n}\n\ninterface VehiclePoolProps {\n  vehicle: VehicleData\n}\n\nexport const VehicleResistDmg: FC<VehiclePoolProps> = () => {\n  return <DicePool\n    name=\"Resist Dmg.\"\n    poolKey={VehiclePoolKeys.resistDmg}\n    attrs={[VehicleAttr.body]}\n  />\n}\n\nexport const DroneEvasion: FC<VehiclePoolProps> = () => {\n  const evasionAutosoft = useAutosoft(AutosoftType.evasion)\n\n  const evasion: number = evasionAutosoft ? evasionAutosoft.attributes[AutosoftAttr.rating] : -1\n\n  const diceGroups: DiceGroup[] = [{ name: 'Evasion', size: evasion }]\n\n  return <DicePool\n    poolKey={VehiclePoolKeys.pilotEvade}\n    name={'Evasion'}\n    groups={diceGroups}\n    attrs={[VehicleAttr.pilot]}\n    dmgPenaltyTypes={[DamageType.vehiclePhysical]}\n  />\n}\nexport const DroneManeuvering: FC<VehiclePoolProps> = () => {\n  const maneuveringAutosoft = useAutosoft(AutosoftType.maneuvering)\n\n  const maneuvering: number = maneuveringAutosoft ? maneuveringAutosoft.attributes[AutosoftAttr.rating] : -1\n\n  const diceGroups: DiceGroup[] = [{ name: 'Maneuvering', size: maneuvering }]\n\n  return <DicePool\n    poolKey={VehiclePoolKeys.pilotEvade}\n    name={'Maneuvering'}\n    groups={diceGroups}\n    attrs={[VehicleAttr.pilot]}\n    dmgPenaltyTypes={[DamageType.vehiclePhysical]}\n  />\n}\n\nexport const DroneStealth: FC<VehiclePoolProps> = () => {\n  const stealthAutosoft = useAutosoft(AutosoftType.stealth)\n\n  const stealth: number = stealthAutosoft ? stealthAutosoft.attributes[AutosoftAttr.rating] : -1\n\n  const diceGroups: DiceGroup[] = [{ name: 'Stealth', size: stealth }]\n\n  return <DicePool\n    poolKey={VehiclePoolKeys.pilotEvade}\n    name={'Stealth'}\n    groups={diceGroups}\n    attrs={[VehicleAttr.pilot]}\n    dmgPenaltyTypes={[DamageType.vehiclePhysical]}\n  />\n}\n\nexport const DronePerception: FC<VehiclePoolProps> = () => {\n  const clearsightAutosoft = useAutosoft(AutosoftType.clearsight)\n\n  const clearsight: number = clearsightAutosoft ? clearsightAutosoft.attributes[AutosoftAttr.rating] : -1\n\n  const diceGroups: DiceGroup[] = [{ name: 'Clearsight', size: clearsight }]\n\n  return <DicePool\n    poolKey={VehiclePoolKeys.pilotEvade}\n    name={'Perception'}\n    groups={diceGroups}\n    attrs={[VehicleAttr.pilot]}\n    dmgPenaltyTypes={[DamageType.vehiclePhysical]}\n  />\n}\n\nexport const DroneCracking: FC<VehiclePoolProps> = () => {\n  const warfareAutosoft = useAutosoft(AutosoftType.electronicWarfare)\n\n  const warfare: number = warfareAutosoft ? warfareAutosoft.attributes[AutosoftAttr.rating] : -1\n\n  const diceGroups: DiceGroup[] = [{ name: 'Elc. Warfare', size: warfare }]\n\n  return <DicePool\n    poolKey={VehiclePoolKeys.pilotEvade}\n    name={'Cracking'}\n    groups={diceGroups}\n    attrs={[VehicleAttr.pilot]}\n    dmgPenaltyTypes={[DamageType.vehiclePhysical]}\n  />\n}\n\nexport const DriverPiloting: FC<VehiclePoolProps> = ({\n  vehicle,\n}) => {\n  const pilotingSkill = useActiveSkill(ActiveSkillIds.CRB.piloting)\n  const reaction = useAttribute<number>(CharacterAttr.reaction) || 0\n\n  const groups: DiceGroup[] = [\n    { name: 'Piloting', size: pilotingSkill?.rank || -1 },\n    { name: 'Reaction', size: reaction },\n  ]\n\n  if (hasSpecialty(pilotingSkill, vehicle.pilotingSpeciality)) groups.push(\n    { name: vehicle.pilotingSpeciality, size: 2 })\n  if (hasExpertise(pilotingSkill, vehicle.pilotingSpeciality)) groups.push(\n    { name: vehicle.pilotingSpeciality, size: 3 })\n\n  const dmgPenaltyTypes = [DamageType.charPhysical, DamageType.charStun, DamageType.vehiclePhysical]\n  return <DicePool\n    poolKey={VehiclePoolKeys.riggedEvade}\n    name={'Piloting'}\n    groups={groups}\n    dmgPenaltyTypes={dmgPenaltyTypes}\n  />\n}\n\nexport const RiggedPiloting: FC<VehiclePoolProps> = ({\n  vehicle,\n}) => {\n  const pilotingSkill = useActiveSkill(ActiveSkillIds.CRB.piloting)\n  const intuition = useAttribute<number>(CharacterAttr.intuition) || 0\n\n  const riggerInterface = useGearOfType<VehicleModData>(GearType.vehicleMod)\n    .filter(gear => gear.attachedTo === vehicle.id)\n    .find(gear => gear.modType === ModType.riggerInterface)\n\n  const controlRig = useFindGear<AugmentData>(gear => gear.augmentType === AugmentType.controlRig)\n  if (!controlRig || !riggerInterface) return null\n\n  const groups: DiceGroup[] = [\n    { name: 'Piloting', size: pilotingSkill?.rank || -1 },\n    { name: 'Intuition', size: intuition },\n    { name: 'Control Rig', size: controlRig.attributes[AugmentAttr.rating] },\n  ]\n\n  if (hasSpecialty(pilotingSkill, vehicle.pilotingSpeciality)) groups.push(\n    { name: vehicle.pilotingSpeciality, size: 2 })\n  if (hasExpertise(pilotingSkill, vehicle.pilotingSpeciality)) groups.push(\n    { name: vehicle.pilotingSpeciality, size: 3 })\n\n  const dmgPenaltyTypes = [DamageType.charPhysical, DamageType.charStun, DamageType.vehiclePhysical]\n  return <DicePool\n    poolKey={VehiclePoolKeys.riggedEvade}\n    name={'Rigged Piloting'}\n    groups={groups}\n    dmgPenaltyTypes={dmgPenaltyTypes}\n  />\n}\n","import { faWifi } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { Paper, Typography } from '@mui/material'\nimport Box from '@mui/material/Box'\nimport React, { FC } from 'react'\n\nimport { calculateAttributes } from '../System/Attribute'\nimport { AttributeProvider } from '../System/AttributeProvider'\nimport { formatNuyen } from '../System/Nuyen'\nimport { formatSource } from '../System/Source'\nimport { AttributeBlock } from '../UI/AttributeBlock'\nimport { InfoBlock } from '../UI/InfoBlock/InfoBlock'\nimport { Stat } from '../UI/StatBlock'\nimport { formatAvail } from './Availability'\nimport { useAttachedGear } from './GearContext'\nimport { GearInfoProps } from './GearInfo'\nimport { GearList } from './GearList'\n\nexport const GearInfoBlock: FC<GearInfoProps> = ({\n  item,\n  children,\n}) => {\n  const blockTitleRight = <Box sx={{ fontSize: 10, textAlign: 'right' }}>\n    {item.avail && <Stat name=\"Avail\" value={formatAvail(item.avail)} />}\n    {item.cost && <Stat name=\"Cost\" value={formatNuyen(item.cost)} />}\n    {item.source && <Stat name=\"Source\" value={formatSource(item.source)} />}\n  </Box>\n\n  const attachedGear = useAttachedGear(item.id)\n\n  const expandable = Boolean(\n    item.description\n    || item.wirelessBonus\n    || item.attributes\n    || children\n    || attachedGear.length > 0,\n  )\n\n  const attributes = calculateAttributes(item.attributes || {}, attachedGear)\n\n  return (\n    <AttributeProvider attributes={attributes}>\n      <InfoBlock\n        title={item.name}\n        quantity={item.quantity || 0}\n        subtitle={item.type}\n        titleRight={blockTitleRight}\n        expandable={expandable}\n        expandId={item.id || null}\n        content={\n          <>\n            {item.description && (\n              <ItemDescription text={item.description} />\n            )}\n\n            {item.wirelessBonus && (\n              <WirelessBonus description={item.wirelessBonus.description} />\n            )}\n\n            <AttributeBlock attributes={attributes} />\n\n            {children}\n          </>\n        }\n        footer={\n          <>\n            {attachedGear.length >= 1 && (\n              <Paper variant=\"outlined\" sx={{ padding: 1 }}>\n                <GearList gear={attachedGear} />\n              </Paper>\n            )}\n          </>\n        }\n      />\n    </AttributeProvider>\n  )\n}\n\ninterface ItemDescriptionProps {\n  text: string\n}\n\nexport const ItemDescription: FC<ItemDescriptionProps> = ({\n  text,\n}) => {\n  return (\n    <Typography variant=\"caption\" sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n      <Box sx={{ flexGrow: 1 }}>{text}</Box>\n    </Typography>\n  )\n}\n\ninterface WirelessBonusProps {\n  description: string\n}\n\nexport const WirelessBonus: FC<WirelessBonusProps> = ({\n  description,\n}) => {\n  return (\n    <Typography variant=\"caption\" sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n      <FontAwesomeIcon icon={faWifi} />\n      <Box sx={{ flexGrow: 1 }}>{description}</Box>\n    </Typography>\n  )\n}\n","export type Availability = {\n  rarity: number\n  illegal?: boolean\n  license?: boolean\n}\nexport const formatAvail = (avail: Availability): string => {\n  return `${avail.rarity}${avail.illegal ? '(i)' : ''}${avail.license ? '(L)' : ''}`\n}\n","import { Box, Chip, Paper, Stack, Typography } from '@mui/material'\nimport React, { FC, ReactElement } from 'react'\n\nimport { displayFontFamily } from '../../AppThemeProvider'\n\ninterface SimpleInfoBlockProps {\n  name: ReactElement | string\n  quantity?: number\n  attributes?: ReactElement\n  body?: ReactElement\n  footer?: ReactElement\n}\n\nexport const SimpleInfoBlock: FC<SimpleInfoBlockProps> = ({\n  name,\n  quantity = 0,\n  attributes,\n  body,\n  footer,\n  children,\n}) => {\n  return (\n    <Paper variant=\"outlined\" sx={{ padding: 1, display: 'flex' }}>\n      <Stack gap={1} sx={{ width: '100%' }}>\n        <Stack gap={1} direction={'row'}>\n          <Box sx={{ flexGrow: 1 }}>\n            <Box>\n              <Typography\n                sx={{\n                  display: 'inline-block',\n                  fontFamily: displayFontFamily,\n                  color: 'primary.main',\n                }}\n              >\n                {name}\n              </Typography>\n\n              {quantity >= 1 && (\n                <Chip\n                  sx={{ marginLeft: 1, verticalAlign: 'top' }}\n                  label={`x${quantity}`}\n                  variant=\"outlined\"\n                  size=\"small\"\n                />\n              )}\n            </Box>\n\n            <Box>\n              {body || children}\n            </Box>\n          </Box>\n\n          {attributes && <Box>{attributes}</Box>}\n        </Stack>\n\n        {footer && (\n          <Box>{footer}</Box>\n        )}\n      </Stack>\n    </Paper>\n  )\n}\n","import { Typography } from '@mui/material'\nimport React, { FC } from 'react'\n\nimport { formatNuyen } from '../../System/Nuyen'\nimport { formatSource } from '../../System/Source'\nimport { SimpleInfoBlock } from '../../UI/InfoBlock/SimpleInfoBlock'\nimport { Stat } from '../../UI/StatBlock'\nimport { GearInfoProps } from '../GearInfo'\nimport { LicenseAttr } from './LicenseAttr'\nimport { LicenseData } from './LicenseData'\n\nexport const LicenseInfo: FC<GearInfoProps<LicenseData>> = ({\n  item: license,\n}) => {\n  return (\n    <SimpleInfoBlock\n      name={license.name}\n      attributes={\n        <>\n          {license.cost && <Stat name=\"Cost\" value={formatNuyen(license.cost)} />}\n          {license.source && <Stat name=\"Source\" value={formatSource(license.source)} />}\n          <Stat name=\"Rating\" value={license.attributes[LicenseAttr.rating]} />\n        </>\n      }\n    >\n      <Typography variant=\"caption\">{license.type}</Typography>\n    </SimpleInfoBlock>\n  )\n}\n","import { Stack, Typography } from '@mui/material'\nimport { FC, ReactElement } from 'react'\n\nimport { formatNuyen } from '../../System/Nuyen'\nimport { formatSource } from '../../System/Source'\nimport { SimpleInfoBlock } from '../../UI/InfoBlock/SimpleInfoBlock'\nimport { Stat } from '../../UI/StatBlock'\nimport { useGearOfType } from '../GearContext'\nimport { GearType } from '../GearData'\nimport { GearInfoProps } from '../GearInfo'\nimport { LicenseData } from './LicenseData'\nimport { LicenseInfo } from './LicenseInfo'\nimport { SinAttr } from './SinAttr'\nimport { SinData } from './SinData'\n\nexport const SinInfo: FC<GearInfoProps<SinData>> = ({\n  item: sin,\n}) => {\n  const licenses = useGearOfType<LicenseData>(GearType.license)\n    .filter(license => license.attachedTo === sin.id)\n\n  let footer: ReactElement | undefined = undefined\n  if (licenses.length >= 1) {\n    footer = <>\n      {licenses.length >= 1 && (\n        <Stack gap={1}>\n          {licenses.map(license => <LicenseInfo key={license.id} item={license} />)}\n        </Stack>\n      )}\n    </>\n  }\n\n  return (\n    <SimpleInfoBlock\n      name={sin.name}\n      attributes={\n        <>\n          {sin.cost && <Stat name=\"Cost\" value={formatNuyen(sin.cost)} />}\n          {sin.source && <Stat name=\"Source\" value={formatSource(sin.source)} />}\n          <Stat name=\"Rating\" value={sin.attributes[SinAttr.rating]} />\n        </>\n      }\n      body={\n        <Typography variant=\"caption\">{sin.type}</Typography>\n      }\n      footer={footer}\n    />\n  )\n}\n","import { Chip, Typography } from '@mui/material'\nimport Box from '@mui/material/Box'\nimport { FC } from 'react'\n\nimport { useAttachedGear, useFilterGear } from '../GearContext'\nimport { GearType } from '../GearData'\nimport { GearInfoProps } from '../GearInfo'\nimport { GearInfoBlock } from '../GearInfoBlock'\nimport { AutosoftData } from '../Software/Autosoft/AutosoftData'\nimport { VehicleData } from '../Vehicles/VehicleData'\nimport { RccAttr } from './RccAttr'\nimport { RccData } from './RccData'\n\nexport const RccInfo: FC<GearInfoProps<RccData>> = ({ item: rcc }) => {\n  const dataProcessing = rcc.attributes[RccAttr.dataProcessing]\n  const autosofts = useAttachedGear(rcc.id)\n    .filter(gear => gear.gearType === GearType.autosoft)\n    .map(gear => gear as AutosoftData)\n  const slavedAutosofts = autosofts\n    .filter(autosoft => rcc.slavedAutosofts.includes(autosoft.id))\n\n  const slavedVehicles: VehicleData[] = useFilterGear(gear => gear.slavedTo === rcc.id)\n  const maxSlaved = rcc.attributes[RccAttr.deviceRating] * 3\n\n  return (\n    <GearInfoBlock item={rcc}>\n      <Box>\n        <Typography variant={'h6'}>Autosofts ({rcc.slavedAutosofts.length}/{dataProcessing} shared)</Typography>\n        <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\n          {slavedAutosofts.map(autosoft => (\n            <Chip key={autosoft.id} label={autosoft.name} />\n          ))}\n        </Box>\n      </Box>\n\n      <Box>\n        <Typography variant={'h6'}>Slaved ({slavedVehicles.length} / {maxSlaved})</Typography>\n        <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\n          {slavedVehicles.map(vehicle => (\n            <Chip key={vehicle.id} label={vehicle.name} />\n          ))}\n        </Box>\n      </Box>\n    </GearInfoBlock>\n  )\n}\n","import Paper from '@mui/material/Paper'\nimport { FC, useState } from 'react'\n\ninterface TrackCellProps {\n  onClick? (): void\n\n  filled?: boolean\n  isOverflow?: boolean\n  className?: string\n}\n\nexport const TrackCell: FC<TrackCellProps> = ({\n  children,\n  onClick,\n  filled = false,\n  isOverflow = false,\n  className,\n}) => {\n  const [hovered, setHovered] = useState<boolean>(false)\n\n  let backgroundColor = 'default'\n  if (filled) backgroundColor = 'primary.dark'\n  if (onClick && hovered) backgroundColor = 'primary.light'\n\n  let borderColor = undefined\n  if (isOverflow) borderColor = 'red'\n\n  return (\n    <Paper\n      sx={{ padding: 1, userSelect: 'none', backgroundColor, borderColor }}\n      onMouseEnter={() => setHovered(true)}\n      onMouseLeave={() => setHovered(false)}\n      onClick={() => {\n        setHovered(false)\n        onClick && onClick()\n      }}\n      variant={'outlined'}\n      className={className}\n    >{children}</Paper>\n  )\n}\n","import { Typography } from '@mui/material'\nimport Box from '@mui/material/Box'\nimport { FC } from 'react'\n\nimport { noOp } from '../../Helpers'\nimport { TrackCell } from '../../UI/TrackCell'\nimport { useDamage, useSetDamage } from './DamageProvider'\nimport { DamageType } from './DamageType'\n\nimport styles from './DamageTrack.module.scss'\n\ninterface DamageTrackProps {\n  type: DamageType\n  max: number\n  label?: string\n}\n\nexport const DamageTrack: FC<DamageTrackProps> = ({\n  type,\n  max,\n  label = 'Physical',\n}) => {\n  const current = useDamage(type)\n  const onChange = useSetDamage(type)\n\n  const onToggleCell = (value: number) => {\n    if (value === current) {\n      onChange(value - 1)\n    } else {\n      onChange(value)\n    }\n  }\n\n  const numCells = Math.max(max, current + 1)\n\n  return (\n    <Box sx={{ minWidth: 150, maxWidth: 300 }}>\n      <Typography variant={'h6'}>{label}</Typography>\n      <Box sx={{ paddingBottom: 0.5, textAlign: 'right' }}>\n        <TrackCell onClick={() => onChange(0)}>0</TrackCell>\n      </Box>\n      <Box className={styles.DamageTrack}>\n        {new Array(numCells).fill(null).map((_, index) => (\n          <DamageCell\n            key={index}\n            value={index + 1}\n            filled={index < current}\n            toggleCell={onToggleCell}\n            isOverflow={index >= max}\n          />\n        ))}\n      </Box>\n    </Box>\n  )\n}\n\ninterface DamageCellProps {\n  value: number\n  filled?: boolean\n  isOverflow?: boolean\n\n  toggleCell? (newValue: number): void\n}\n\nconst DamageCell: FC<DamageCellProps> = ({\n  value,\n  filled = false,\n  isOverflow = false,\n  toggleCell = noOp,\n}) => {\n  const penalty = Math.floor((value + 1) / 3)\n\n  return (\n    <TrackCell onClick={() => toggleCell(value)} filled={filled} isOverflow={isOverflow}>\n      <Box sx={{ textAlign: 'right' }}>\n        {value % 3 === 0 ? penalty * -1 : '\\u00A0'}\n      </Box>\n    </TrackCell>\n  )\n}\n","import { FC } from 'react'\n\nimport { CharacterAttr } from '../Character/CharacterAttr'\nimport { VehicleAttr } from '../Gear/Vehicles/VehicleAttr'\nimport { Stat } from '../UI/StatBlock'\nimport { useAttribute } from './AttributeProvider'\nimport { isDefRatingAdj, useGameEffects } from './Effect'\n\nexport const CharacterDefRatingStat: FC = () => {\n  const body = useAttribute<number>(CharacterAttr.body) || 0\n  const bonus = useGameEffects()\n    .filter(isDefRatingAdj)\n    .reduce((sum, effect) => sum + effect.value, 0)\n\n  return (\n    <Stat name=\"Def. Rating\" value={body + bonus} />\n  )\n}\n\nexport const VehicleDefRatingStat: FC = () => {\n  const body = useAttribute<number>(VehicleAttr.body) || 0\n  const armor = useAttribute<number>(VehicleAttr.armor) || 0\n\n  return (\n    <Stat name=\"Def. Rating\" value={body + armor} />\n  )\n}\n","import { FC } from 'react'\n\nimport { CharacterAttr } from '../Character/CharacterAttr'\nimport { useFindGear } from '../Gear/GearContext'\nimport { GearType } from '../Gear/GearData'\nimport { RccAttr } from '../Gear/Rcc/RccAttr'\nimport { RccData } from '../Gear/Rcc/RccData'\nimport { Stat } from '../UI/StatBlock'\nimport { useAttribute } from './AttributeProvider'\n\ninterface InitiativeStatProps {\n  name: string\n  base: number\n  dice?: number\n}\n\nexport const InitiativeStat: FC<InitiativeStatProps> = ({\n  name,\n  base,\n  dice = 1,\n}) => {\n  return (\n    <Stat name={name} value={`${base} + ${dice}D6`} />\n  )\n}\n\nexport const CharacterHotVrInit: FC = () => {\n  const intuition = useAttribute<number>(CharacterAttr.intuition) || 0\n  const rcc = useFindGear<RccData>(gear => gear.gearType === GearType.rcc)\n  if (!rcc) return null\n\n  const dataProcessing = rcc.attributes[RccAttr.dataProcessing]\n\n  return (\n    <InitiativeStat name=\"VR Cold Init\" base={intuition + dataProcessing} dice={2} />\n  )\n}\n\nexport const CharacterColdVrInit: FC = () => {\n  const intuition = useAttribute<number>(CharacterAttr.intuition) || 0\n  const rcc = useFindGear<RccData>(gear => gear.gearType === GearType.rcc)\n  if (!rcc) return null\n\n  const dataProcessing = rcc.attributes[RccAttr.dataProcessing]\n\n  return (\n    <InitiativeStat name=\"VR Hot Init\" base={intuition + dataProcessing} dice={3} />\n  )\n}\n","import { faSave, faWifi } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { Box } from '@mui/material'\nimport React, { FC } from 'react'\n\nimport { RecordId } from '../../../Api/Model'\nimport { AttributeBlock } from '../../../UI/AttributeBlock'\nimport { AutosoftData } from './AutosoftData'\n\ninterface AutosoftsListProps {\n  autosofts: AutosoftData[]\n  slavedIds?: RecordId[]\n  withAvail?: boolean\n  withCost?: boolean\n}\n\nexport const AutosoftsList: FC<AutosoftsListProps> = ({\n  autosofts,\n  slavedIds,\n}) => {\n  return (\n    <Box>\n      {autosofts.map(autosoft => (\n        <Box key={autosoft.id} sx={{ paddingTop: 1 }}>\n          <AutosoftListItem\n            key={autosoft.id}\n            autosoft={autosoft}\n            slavedIds={slavedIds}\n          />\n        </Box>\n      ))}\n    </Box>\n  )\n}\n\ninterface AutosoftListItemProps {\n  autosoft: AutosoftData\n  slavedIds?: RecordId[]\n  withAvail?: boolean\n  withCost?: boolean\n}\n\nconst AutosoftListItem: FC<AutosoftListItemProps> = ({\n  autosoft,\n  slavedIds,\n}) => {\n  return (\n    <Box>\n      <Box>\n        <Box sx={{ display: 'inline-block', marginRight: 1 }}>\n          {slavedIds?.includes(autosoft.id) ? (\n            <FontAwesomeIcon icon={faWifi} />\n          ) : (\n            <FontAwesomeIcon icon={faSave} />\n          )}\n        </Box>\n        {autosoft.name}\n      </Box>\n\n      <AttributeBlock attributes={autosoft.attributes} />\n    </Box>\n  )\n}\n","import { FC } from 'react'\n\nimport { InfoBlock } from '../../UI/InfoBlock/InfoBlock'\nimport { GearInfoProps } from '../GearInfo'\nimport { VehicleData } from './VehicleData'\n\nexport const DestroyedVehicleInfo: FC<GearInfoProps<VehicleData>> = ({\n  item: vehicle,\n}) => {\n  return (\n    <InfoBlock title={<span style={{ textDecoration: 'line-through' }}>{vehicle.name}</span>} />\n  )\n}\n","import { Box, Stack, Typography } from '@mui/material'\nimport { FC } from 'react'\n\nimport { getAttr } from '../GearData'\nimport { VehicleModAttr, VehicleModData } from './VehicleModData'\n\ninterface VehicleModsListProps {\n  title: string\n  maxSlots: number\n  mods: VehicleModData[]\n}\n\nexport const VehicleModsList: FC<VehicleModsListProps> = ({\n  title,\n  maxSlots,\n  mods,\n}) => {\n  const slotsUsed = mods\n    .map(mod => getAttr<number>(mod, VehicleModAttr.slotCost) || 0)\n    .reduce((sum, cost) => sum + cost, 0)\n\n  return (\n    <Stack gap={1}>\n      <Typography>{title} ({slotsUsed}/{maxSlots})</Typography>\n      {mods.map(mod => (\n        <Box key={mod.id}>{mod.name}</Box>\n      ))}\n    </Stack>\n  )\n}\n","import { Box, Divider, Stack, Typography, useMediaQuery, useTheme } from '@mui/material'\nimport { FC } from 'react'\n\nimport { DamageProvider } from '../../System/Damage/DamageProvider'\nimport { DamageTrack } from '../../System/Damage/DamageTrack'\nimport { DamageType } from '../../System/Damage/DamageType'\nimport { VehicleDefRatingStat } from '../../System/DefenseRating'\nimport { CharacterColdVrInit, CharacterHotVrInit, InitiativeStat } from '../../System/Initiative'\nimport { AttributeBlock } from '../../UI/AttributeBlock'\nimport { DicePools } from '../../UI/DicePool'\nimport { StatBlock } from '../../UI/StatBlock'\nimport { useAttachedGear, useGear, useGearOfType } from '../GearContext'\nimport { GearType, getAttr } from '../GearData'\nimport { GearInfoProps } from '../GearInfo'\nimport { GearInfoBlock } from '../GearInfoBlock'\nimport { RccData } from '../Rcc/RccData'\nimport { AutosoftData } from '../Software/Autosoft/AutosoftData'\nimport { AutosoftProvider } from '../Software/Autosoft/AutosoftProvider'\nimport { AutosoftsList } from '../Software/Autosoft/AutosoftsList'\nimport { DestroyedVehicleInfo } from './DestroyedVehicleInfo'\nimport {\n  DriverPiloting,\n  DroneCracking,\n  DroneEvasion,\n  DroneManeuvering,\n  DronePerception,\n  DroneStealth,\n  RiggedPiloting,\n  VehicleResistDmg,\n} from './DicePools'\nimport { VehicleAttr } from './VehicleAttr'\nimport { VehicleData } from './VehicleData'\nimport { formatSlotType, isVehicleMod, ModType, SlotType, VehicleModAttr, VehicleModData } from './VehicleModData'\nimport { VehicleModsList } from './VehicleModsList'\n\nexport const VehicleInfo: FC<GearInfoProps<VehicleData>> = ({ item: vehicle }) => {\n  const theme = useTheme()\n  const mdScreenOrLarger = useMediaQuery(theme.breakpoints.up('md'))\n\n  const pilot = vehicle.attributes[VehicleAttr.pilot] || 0\n  const body = vehicle.attributes[VehicleAttr.body] || 0\n\n  const riggerInterface = useGearOfType<VehicleModData>(GearType.vehicleMod)\n    .filter(gear => gear.attachedTo === vehicle.id)\n    .find(gear => gear.modType === ModType.riggerInterface)\n\n  const vehicleMods = useAttachedGear(vehicle.id)\n    .filter(isVehicleMod)\n\n  const rcc = useGear<RccData>(vehicle.slavedTo)\n  const physicalMax = Math.ceil(vehicle.attributes[VehicleAttr.body] / 2) + 8\n  const allAutosofts = useGearOfType<AutosoftData>(GearType.autosoft)\n\n  if (vehicle.destroyed) {\n    return <DestroyedVehicleInfo item={vehicle} />\n  }\n\n  let autosofts = allAutosofts\n    .filter(gear => gear.attachedTo === vehicle.id)\n\n  if (rcc) {\n    autosofts = [\n      ...autosofts,\n      ...allAutosofts\n        .filter(autosoft => autosoft.attachedTo === rcc.id)\n        .filter(autosoft => rcc.slavedAutosofts.includes(autosoft.id)),\n    ]\n  }\n\n  return (\n    <DamageProvider type={DamageType.vehiclePhysical} id={vehicle.id}>\n      <AutosoftProvider autosofts={autosofts}>\n        <GearInfoBlock item={vehicle}>\n          <Stack gap={1} direction={mdScreenOrLarger ? 'row-reverse' : 'column'}>\n            <Stack gap={1} direction={mdScreenOrLarger ? 'column' : 'row'} sx={{ flexWrap: 'wrap' }}>\n              <Box>\n                <StatBlock vertical>\n                  <InitiativeStat name=\"Drone Init\" base={pilot * 2} dice={4} />\n                  {riggerInterface && (\n                    <>\n                      <CharacterHotVrInit />\n                      <CharacterColdVrInit />\n                    </>\n                  )}\n                  <VehicleDefRatingStat />\n                </StatBlock>\n              </Box>\n\n              <Box>\n                <DamageTrack type={DamageType.vehiclePhysical} max={physicalMax} label=\"Physical\" />\n              </Box>\n            </Stack>\n\n            <Box sx={{ flexGrow: 1 }}>\n              <DicePools>\n                <VehicleResistDmg vehicle={vehicle} />\n                <DriverPiloting vehicle={vehicle} />\n                <RiggedPiloting vehicle={vehicle} />\n\n                <DroneEvasion vehicle={vehicle} />\n                <DronePerception vehicle={vehicle} />\n                <DroneStealth vehicle={vehicle} />\n                <DroneManeuvering vehicle={vehicle} />\n                <DroneCracking vehicle={vehicle} />\n              </DicePools>\n\n              {rcc && (\n                <Box>\n                  <Typography variant={'h6'}>Slaved To</Typography>\n                  <Typography>{rcc.name}</Typography>\n                  <AttributeBlock attributes={rcc.attributes} />\n                </Box>\n              )}\n\n              {autosofts.length >= 1 && (\n                <Box>\n                  <Typography variant={'h6'}>Autosofts</Typography>\n                  <AutosoftsList autosofts={autosofts} slavedIds={rcc?.slavedAutosofts} />\n                </Box>\n              )}\n\n              <Box>\n                <Typography variant={'h6'}>Mod slots</Typography>\n                <Stack gap={1} sx={{ flexDirection: 'row' }}>\n                  <Divider orientation=\"vertical\" flexItem />\n                  {Object.values(SlotType).map(slotType => (\n                    <>\n                      <VehicleModsList\n                        key={slotType}\n                        title={formatSlotType(slotType)}\n                        mods={vehicleMods.filter(mod => getAttr(mod, VehicleModAttr.slotType) === slotType)}\n                        maxSlots={body}\n                      />\n                      <Divider orientation=\"vertical\" flexItem />\n                    </>\n                  ))}\n                </Stack>\n              </Box>\n            </Box>\n          </Stack>\n        </GearInfoBlock>\n      </AutosoftProvider>\n    </DamageProvider>\n  )\n}\n","import { FC } from 'react'\n\nimport { DicePools } from '../../UI/DicePool'\nimport { useGear } from '../GearContext'\nimport { GearType } from '../GearData'\nimport { GearInfoProps } from '../GearInfo'\nimport { GearInfoBlock } from '../GearInfoBlock'\nimport { BasicAttackPool, DroneAttackPool, RiggedAttackPool, VehicleAttackPool } from './DicePools'\nimport { WeaponData } from './WeaponData'\n\nexport const WeaponInfo: FC<GearInfoProps<WeaponData>> = ({ item: weapon }) => {\n  const mounted = useGear(weapon.attachedTo)?.gearType === GearType.vehicleMod\n\n  return (\n    <GearInfoBlock item={weapon}>\n      <DicePools>\n        {mounted ? (\n          <>\n            <VehicleAttackPool weapon={weapon} />\n            <DroneAttackPool weapon={weapon} />\n            <RiggedAttackPool weapon={weapon} />\n          </>\n        ) : (\n          <>\n            <BasicAttackPool weapon={weapon} />\n          </>\n        )}\n      </DicePools>\n    </GearInfoBlock>\n  )\n}\n","import React, { FC, ReactElement } from 'react'\n\nimport { GearData, GearType } from './GearData'\nimport { GearInfoBlock } from './GearInfoBlock'\nimport { LicenseData } from './License/LicenseData'\nimport { LicenseInfo } from './License/LicenseInfo'\nimport { SinData } from './License/SinData'\nimport { SinInfo } from './License/SinInfo'\nimport { RccData } from './Rcc/RccData'\nimport { RccInfo } from './Rcc/RccInfo'\nimport { VehicleData } from './Vehicles/VehicleData'\nimport { VehicleInfo } from './Vehicles/VehicleInfo'\nimport { WeaponData } from './Weapons/WeaponData'\nimport { WeaponInfo } from './Weapons/WeaponInfo'\n\nexport interface GearInfoProps<Type extends GearData = GearData> {\n  item: Type\n  title?: ReactElement\n  subTitle?: ReactElement\n}\n\nexport const GearInfo: FC<GearInfoProps> = ({ item }) => {\n  switch (item.gearType) {\n    case GearType.weapon:\n      return <WeaponInfo item={item as WeaponData} />\n    case GearType.vehicle:\n      return <VehicleInfo item={item as VehicleData} />\n    case GearType.rcc:\n      return <RccInfo item={item as RccData} />\n    case GearType.sin:\n      return <SinInfo item={item as SinData} />\n    case GearType.license:\n      return <LicenseInfo item={item as LicenseData} />\n    default:\n      return <GearInfoBlock item={item} />\n  }\n}\n","import Box from '@mui/material/Box'\nimport { FC } from 'react'\n\nimport { GearData } from './GearData'\nimport { GearInfo } from './GearInfo'\n\ninterface GearListProps {\n  gear: GearData[]\n  expanded?: boolean\n}\n\nexport const GearList: FC<GearListProps> = ({\n  gear,\n  expanded = true,\n}) => {\n  return (\n    <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\n      {gear.map((gear) => <GearInfo key={gear.id} item={gear} />)}\n    </Box>\n  )\n}\n","import { Stack, Typography } from '@mui/material'\nimport React, { FC } from 'react'\n\nimport { AugmentData } from '../../Gear/Augments/AugmentData'\nimport { useGearOfType } from '../../Gear/GearContext'\nimport { GearType } from '../../Gear/GearData'\nimport { GearList } from '../../Gear/GearList'\n\nexport const AugmentsPage: FC = () => {\n  const augments = useGearOfType<AugmentData>(GearType.augment)\n    .filter(gear => !gear.attachedTo)\n\n  return (\n    <Stack gap={1}>\n      <Typography variant={'h4'}>Augments</Typography>\n      <GearList gear={augments} />\n    </Stack>\n  )\n}\n","import { Typography } from '@mui/material'\nimport Box from '@mui/material/Box'\nimport React, { FC } from 'react'\n\nimport { SimpleInfoBlock } from '../UI/InfoBlock/SimpleInfoBlock'\nimport { Stat } from '../UI/StatBlock'\nimport { ContactData } from './ContactData'\n\ninterface ContactInfoProps {\n  contact: ContactData\n}\n\nexport const ContactInfo: FC<ContactInfoProps> = ({\n  contact,\n}) => {\n  const blockTitleRight = (\n    <Box sx={{ fontSize: 10, textAlign: 'right' }}>\n      <Stat name=\"Loyalty\" value={contact.loyalty} />\n      <Stat name=\"Connection\" value={contact.connection} />\n    </Box>\n  )\n\n  return (\n    <SimpleInfoBlock name={contact.name} attributes={blockTitleRight}>\n      <Typography variant=\"caption\">{contact.description}</Typography>\n    </SimpleInfoBlock>\n  )\n}\n","import { Box } from '@mui/material'\nimport React, { FC } from 'react'\n\nimport { ContactData } from './ContactData'\nimport { ContactInfo } from './ContactInfo'\n\ninterface ContactListProps {\n  contacts: ContactData[]\n}\n\nexport const ContactList: FC<ContactListProps> = ({\n  contacts,\n}) => {\n  return (\n    <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\n      {contacts.map(contact => (\n        <ContactInfo key={contact.name} contact={contact} />\n      ))}\n    </Box>\n  )\n}\n","import { BaseGearData, GearData, GearType } from '../GearData'\nimport { SinAttr } from './SinAttr'\n\nexport interface SinData extends BaseGearData {\n  gearType: GearType.sin\n  attributes: {\n    [SinAttr.rating]: number\n  }\n}\n\nexport function isSin (gear: GearData): gear is SinData {\n  return gear.gearType === GearType.sin\n}\n","import { FC } from 'react'\n\nimport { useAttributes } from '../../System/AttributeProvider'\nimport { AttributeBlock } from '../../UI/AttributeBlock'\nimport { CharacterAttr } from '../CharacterAttr'\n\nexport const AttributesSection: FC = () => {\n  const charAttributes = useAttributes([\n    CharacterAttr.body,\n    CharacterAttr.agility,\n    CharacterAttr.reaction,\n    CharacterAttr.strength,\n    CharacterAttr.willpower,\n    CharacterAttr.logic,\n    CharacterAttr.intuition,\n    CharacterAttr.charisma,\n    CharacterAttr.edge,\n    CharacterAttr.essence,\n    CharacterAttr.magic,\n    CharacterAttr.resonance,\n  ])\n\n  const magic = charAttributes[CharacterAttr.magic]\n  if (!magic) delete charAttributes[CharacterAttr.magic]\n\n  const resonance = charAttributes[CharacterAttr.resonance]\n  if (!resonance) delete charAttributes[CharacterAttr.resonance]\n\n  return <AttributeBlock attributes={charAttributes} />\n}\n","import { Box, Paper, Stack, Typography } from '@mui/material'\nimport React, { FC } from 'react'\n\nimport { useCharacterData } from '../CharacterProvider'\n\nexport const BioSection: FC = () => {\n  const character = useCharacterData()\n  if (!character) return null\n\n  const bio = character.bio\n\n  return (\n    <Paper variant=\"outlined\" sx={{ padding: 1 }}>\n      <Stack gap={2} direction=\"row\" sx={{ flexWrap: 'wrap' }}>\n        <BioField name=\"Alias\" value={bio.alias} />\n        <BioField name=\"Name\" value={bio.name} />\n        <BioField name=\"Awakened\" value={bio.awakened} />\n        <BioField name=\"Gender\" value={bio.gender} />\n        <BioField name=\"Metatype\" value={bio.metatype} />\n        <BioField name=\"Age\" value={bio.age} />\n        <BioField name=\"Role\" value={bio.role} />\n        <BioField name=\"Ethnicity\" value={bio.ethnicity} />\n        <BioField name=\"Height\" value={bio.height} />\n        <BioField name=\"Weight\" value={bio.weight} />\n      </Stack>\n    </Paper>\n  )\n}\n\ninterface BioFieldProps {\n  name: string\n  value: string | undefined\n}\n\nexport const BioField: FC<BioFieldProps> = ({\n  name,\n  value,\n}) => {\n  if (!value) return null\n\n  return (\n    <Box>\n      <Typography variant=\"caption\" color=\"primary\">{name}</Typography>\n      <Typography>{value}</Typography>\n    </Box>\n  )\n}\n","import { Stack, useMediaQuery, useTheme } from '@mui/material'\nimport Box from '@mui/material/Box'\nimport { FC } from 'react'\n\nimport { useAttribute } from '../../System/AttributeProvider'\nimport { DamageTrack } from '../../System/Damage/DamageTrack'\nimport { DamageType } from '../../System/Damage/DamageType'\nimport { CharacterDefRatingStat } from '../../System/DefenseRating'\nimport { isDmgTrackAdj, isInitAdj, useGameEffects } from '../../System/Effect'\nimport { CharacterColdVrInit, CharacterHotVrInit, InitiativeStat } from '../../System/Initiative'\nimport { StatBlock } from '../../UI/StatBlock'\nimport { CharacterAttr } from '../CharacterAttr'\n\nexport const CombatArea: FC = () => {\n  const theme = useTheme()\n  const mdScreenOrLarger = useMediaQuery(theme.breakpoints.up('md'))\n\n  const body = useAttribute<number>(CharacterAttr.body) || 0\n  const reaction = useAttribute<number>(CharacterAttr.reaction) || 0\n  const intuition = useAttribute<number>(CharacterAttr.intuition) || 0\n  const willpower = useAttribute<number>(CharacterAttr.willpower) || 0\n\n  const physicalTrackBonus = useGameEffects()\n    .filter(isDmgTrackAdj)\n    .filter(effect => effect.track === DamageType.charPhysical)\n    .reduce((sum, effect) => sum + effect.value, 0)\n  const physicalMax = Math.ceil(body / 2) + 8 + physicalTrackBonus\n\n  const stunTrackBonus = useGameEffects()\n    .filter(isDmgTrackAdj)\n    .filter(effect => effect.track === DamageType.charStun)\n    .reduce((sum, effect) => sum + effect.value, 0)\n  const stunMax = Math.ceil(willpower / 2) + 8 + stunTrackBonus\n\n  const initDice = useGameEffects()\n    .filter(isInitAdj)\n    .reduce((sum, effect) => sum + effect.value, 1)\n\n  return (\n    <Stack\n      gap={1}\n      direction={mdScreenOrLarger ? 'column' : 'row'}\n      alignContent=\"flex-start\"\n      sx={{ flexWrap: 'wrap' }}\n    >\n      <Box>\n        <StatBlock vertical>\n          <InitiativeStat name=\"Init\" base={reaction + intuition} dice={initDice} />\n          <CharacterHotVrInit />\n          <CharacterColdVrInit />\n          <CharacterDefRatingStat />\n        </StatBlock>\n      </Box>\n\n      <Stack gap={1} direction={mdScreenOrLarger ? 'column' : 'row'}>\n        <DamageTrack type={DamageType.charPhysical} max={physicalMax} label=\"Physical\" />\n        <DamageTrack type={DamageType.charStun} max={stunMax} label=\"Stun\" />\n      </Stack>\n    </Stack>\n  )\n}\n","import { FC } from 'react'\n\nimport { useAllGear } from '../../Gear/GearContext'\nimport { KitAttr } from '../../Gear/Kit/KitAttr'\nimport { KitType } from '../../Gear/Kit/KitType'\nimport { OtherGearData } from '../../Gear/OtherGearData'\nimport { ActiveSkillIds } from '../../Skills'\nimport { DamageType } from '../../System/Damage/DamageType'\nimport { DiceGroup, DicePool, DicePools, skillSpecialtyBonus } from '../../UI/DicePool'\nimport { CharacterAttr } from '../CharacterAttr'\nimport { CharacterPoolTypes } from '../CharacterPoolTypes'\nimport { useActiveSkill } from '../CharacterProvider'\n\nexport const DicePoolsSection: FC = () => {\n  return (\n    <DicePools>\n      <DodgePool />\n      <ResistDamagePool />\n      <ComposurePool />\n      <JudgeIntentPool />\n      <MemoryPool />\n      <LiftPool />\n      <FirstAidPool />\n      <MedkitPool />\n    </DicePools>\n  )\n}\n\nconst DodgePool: FC = () => <DicePool\n  poolKey={CharacterPoolTypes.dodge}\n  name={'Dodge'}\n  attrs={[CharacterAttr.reaction, CharacterAttr.intuition]}\n  dmgPenaltyTypes={[DamageType.charPhysical, DamageType.charStun]}\n/>\n\nconst ResistDamagePool: FC = () => <DicePool\n  poolKey={CharacterPoolTypes.dmgResist}\n  name={'Resist Dmg.'}\n  attrs={[CharacterAttr.body]}\n  dmgPenaltyTypes={[]}\n/>\n\nconst ComposurePool: FC = () => <DicePool\n  poolKey={CharacterPoolTypes.composure}\n  name={'Composure'}\n  attrs={[CharacterAttr.willpower, CharacterAttr.charisma]}\n  dmgPenaltyTypes={[DamageType.charPhysical, DamageType.charStun]}\n/>\n\nconst JudgeIntentPool: FC = () => <DicePool\n  poolKey={CharacterPoolTypes.judgeIntent}\n  name={'Judge Intent'}\n  attrs={[CharacterAttr.willpower, CharacterAttr.intuition]}\n  dmgPenaltyTypes={[DamageType.charPhysical, DamageType.charStun]}\n/>\n\nconst MemoryPool: FC = () => <DicePool\n  poolKey={CharacterPoolTypes.memory}\n  name={'Memory'}\n  attrs={[CharacterAttr.logic, CharacterAttr.intuition]}\n  dmgPenaltyTypes={[DamageType.charPhysical, DamageType.charStun]}\n/>\n\nconst LiftPool: FC = () => <DicePool\n  poolKey={CharacterPoolTypes.liftCarry}\n  name={'Lift/Carry'}\n  attrs={[CharacterAttr.body, CharacterAttr.strength]}\n  dmgPenaltyTypes={[DamageType.charPhysical, DamageType.charStun]}\n/>\n\nconst FirstAidPool: FC = () => {\n  const firstAidKit = useAllGear()\n    .find(gear => gear.kit === KitType.firstAid)\n  const biotechSkill = useActiveSkill(ActiveSkillIds.CRB.biotech)\n  if (!biotechSkill) return null\n\n  const bonuses: DiceGroup[] = []\n  const specialtyBonus = skillSpecialtyBonus(biotechSkill, 'First Aid')\n  if (specialtyBonus) bonuses.push(specialtyBonus)\n  if (!firstAidKit) bonuses.push({ name: 'Kit', size: -2 })\n\n  return (\n    <DicePool\n      poolKey={CharacterPoolTypes.firstAid}\n      name={'First Aid'}\n      skills={[ActiveSkillIds.CRB.biotech]}\n      attrs={[CharacterAttr.logic]}\n      bonuses={bonuses}\n      dmgPenaltyTypes={[DamageType.charPhysical, DamageType.charStun]}\n    />\n  )\n}\n\nconst MedkitPool: FC = () => {\n  const biotechSkill = useActiveSkill(ActiveSkillIds.CRB.biotech)\n  const medKit = useAllGear().find(gear => gear.kit === KitType.medKit) as OtherGearData | undefined\n\n  if (!biotechSkill) return null\n  if (!medKit) return null\n\n  const bonuses: DiceGroup[] = []\n  if (medKit.attributes && medKit.attributes[KitAttr.medkitRating])\n    bonuses.push({ name: 'Medkit', size: medKit.attributes[KitAttr.medkitRating] as number || 0 })\n\n  return (\n    <DicePool\n      poolKey={CharacterPoolTypes.firstAid}\n      name={'MedKit'}\n      skills={[ActiveSkillIds.CRB.biotech]}\n      attrs={[CharacterAttr.logic]}\n      bonuses={bonuses}\n      dmgPenaltyTypes={[DamageType.charPhysical, DamageType.charStun]}\n    />\n  )\n}\n","import { Chip, Typography } from '@mui/material'\nimport Box from '@mui/material/Box'\nimport { FC, useState } from 'react'\n\nimport { useAttribute } from '../../System/AttributeProvider'\nimport { TrackCell } from '../../UI/TrackCell'\nimport { CharacterAttr } from '../CharacterAttr'\n\nexport const EdgeTracker: FC = () => {\n  const edgeSessionKey = 'char.edge'\n  const charEdgeAttr = useAttribute<number>(CharacterAttr.edge) || 0\n  const defaultEdge = parseInt(localStorage.getItem(edgeSessionKey) || charEdgeAttr.toString())\n\n  const [curValue, setCurValue] = useState<number>(defaultEdge)\n  const setEdge = (value: number) => {\n    setCurValue(value)\n    localStorage.setItem(edgeSessionKey, value.toString())\n  }\n\n  const onToggleCell = (value: number) => {\n    if (value === curValue) {\n      setEdge(value - 1)\n    } else {\n      setEdge(value)\n    }\n  }\n\n  const onReset = () => {\n    setEdge(charEdgeAttr)\n  }\n\n  return (\n    <Box>\n      <Box>\n        <Typography variant=\"h6\" sx={{ display: 'inline', marginRight: 1 }}>Edge</Typography>\n        <Chip onClick={onReset} label=\"Reset\" size=\"small\" variant=\"outlined\" sx={{ verticalAlign: 'text-bottom' }} />\n      </Box>\n\n      <Box sx={{ display: 'flex', textAlign: 'center', gap: 0.5 }}>\n        <Box sx={{ flexGrow: 0.5 }}>\n          <TrackCell onClick={() => setEdge(0)}>0</TrackCell>\n        </Box>\n        {new Array(7).fill(null).map((_, index) => (\n          <Box key={index} sx={{ flexGrow: 1 }}>\n            <TrackCell filled={index < curValue} onClick={() => onToggleCell(index + 1)}>\n              {index + 1}\n            </TrackCell>\n          </Box>\n        ))}\n      </Box>\n    </Box>\n  )\n}\n","import { Stack, Typography } from '@mui/material'\nimport React, { FC } from 'react'\n\nimport { formatSource } from '../System/Source'\nimport { SimpleInfoBlock } from '../UI/InfoBlock/SimpleInfoBlock'\nimport { Stat } from '../UI/StatBlock'\nimport { CharacterQuality } from './CharacterQuality'\n\ninterface QualitiesListProps {\n  qualities: CharacterQuality[]\n}\n\nexport const QualitiesList: FC<QualitiesListProps> = ({\n  qualities,\n}) => {\n  return (\n    <Stack gap={1}>\n      {qualities.map(quality => (\n        <SimpleInfoBlock\n          key={quality.name}\n          name={quality.name}\n          attributes={\n            <>\n              {quality.source && <Stat name=\"Source\" value={formatSource(quality.source)} />}\n              {quality.bonus && <Stat name=\"Bonus\" value={quality.bonus} />}\n              {quality.cost && <Stat name=\"Cost\" value={quality.cost} />}\n              {quality.level && <Stat name=\"Level\" value={quality.level} />}\n            </>\n          }\n        >\n          <Typography variant=\"caption\">{quality.gameEffect}</Typography>\n          <Typography variant=\"caption\">{quality.notes}</Typography>\n        </SimpleInfoBlock>\n      ))}\n    </Stack>\n  )\n}\n","import { Box, Typography } from '@mui/material'\nimport { FC } from 'react'\n\nimport { QualitiesList } from '../../Qualities/QualitiesList'\nimport { useCharacterData } from '../CharacterProvider'\n\nexport const QualitiesSection: FC = () => {\n  const character = useCharacterData()\n  if (!character) return null\n\n  return <Box>\n    <Typography variant={'h6'}>Qualities</Typography>\n    <QualitiesList qualities={character.qualities} />\n  </Box>\n}\n","import { Typography } from '@mui/material'\nimport Box from '@mui/material/Box'\nimport { FC } from 'react'\n\nimport {\n  ActiveSkillList,\n  ActiveSkills,\n  isKnowledgeSkill,\n  isLanguageSkill,\n  KnowledgeSkillList,\n  LanguageSkillList,\n} from '../../Skills'\nimport { useActiveSkills, useCharacterData } from '../CharacterProvider'\n\nexport const SkillSection: FC = () => {\n  const character = useCharacterData()\n  const charActiveSkills = useActiveSkills(Object.keys(ActiveSkills))\n\n  if (!character) return null\n  const languageSkills = character.skills.filter(isLanguageSkill)\n  const knowledgeSkills = character.skills.filter(isKnowledgeSkill)\n\n  return (\n    <>\n      <Box sx={{ display: 'flex', flexWrap: 'wrap' }}>\n        <Typography variant={'h6'}>Skills</Typography>\n        <ActiveSkillList charSkills={Object.values(charActiveSkills)} />\n      </Box>\n\n      <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\n        <Box sx={{ flexGrow: 1 }}>\n          <Typography variant={'h6'}>Languages</Typography>\n          <LanguageSkillList skills={languageSkills} />\n        </Box>\n\n        <Box sx={{ flexGrow: 1 }}>\n          <Typography variant={'h6'}>Knowledge</Typography>\n          <KnowledgeSkillList skills={knowledgeSkills} />\n        </Box>\n      </Box>\n    </>\n  )\n}\n","import { Box, Stack, Typography, useMediaQuery, useTheme } from '@mui/material'\nimport React, { FC } from 'react'\n\nimport { ContactList } from '../../Contacts/ContactList'\nimport { useAllGear } from '../../Gear/GearContext'\nimport { GearList } from '../../Gear/GearList'\nimport { isSin } from '../../Gear/License/SinData'\nimport { formatNuyen, useNuyenBalance } from '../../System/Nuyen'\nimport { InfoBlock } from '../../UI/InfoBlock/InfoBlock'\nimport { Stat } from '../../UI/StatBlock'\nimport { useCharacterData } from '../CharacterProvider'\nimport { AttributesSection } from './AttributesSection'\nimport { BioSection } from './BioSection'\nimport { CombatArea } from './CombatArea'\nimport { DicePoolsSection } from './DicePoolsSection'\nimport { EdgeTracker } from './EdgeTracker'\nimport { QualitiesSection } from './QualitiesSection'\nimport { SkillSection } from './SkillSection'\n\nexport const CharacterInfo: FC = () => {\n  const character = useCharacterData()\n  const sins = useAllGear().filter(isSin)\n  const theme = useTheme()\n  const mdScreenOrLarger = useMediaQuery(theme.breakpoints.up('md'))\n  const nuyenBalance = useNuyenBalance()\n\n  if (!character) return null\n\n  const bio = character.bio\n  const karma: number = character.karma.reduce((sum, entry) => sum + entry.value, 0)\n\n  const blockTitleRight = <Box sx={{ fontSize: 10, textAlign: 'right' }}>\n    <Stat name=\"Nuyen\" value={formatNuyen(nuyenBalance)} />\n    <Stat name=\"Karma\" value={karma} />\n  </Box>\n\n  return (\n    <Stack direction=\"column\" gap={1}>\n      <InfoBlock\n        title={bio.alias || bio.name}\n        titleFontSize={50}\n        titleRight={blockTitleRight}\n      >\n        <BioSection />\n        <AttributesSection />\n\n        <Stack gap={1} direction={mdScreenOrLarger ? 'row-reverse' : 'column'}>\n          <CombatArea />\n\n          <Stack gap={1} sx={{ flexGrow: 1 }}>\n            <EdgeTracker />\n\n            <DicePoolsSection />\n            <SkillSection />\n            <QualitiesSection />\n\n            <Typography variant={'h4'}>Contacts</Typography>\n            <ContactList contacts={character.contacts} />\n\n            <Typography variant={'h4'}>SINs</Typography>\n            <GearList gear={sins} />\n          </Stack>\n        </Stack>\n      </InfoBlock>\n    </Stack>\n  )\n}\n","import React, { FC } from 'react'\n\nimport { CharacterInfo } from '../../Character/CharacterInfo/CharacterInfo'\nimport { useCharacterData } from '../../Character/CharacterProvider'\n\nexport const CharacterInfoPage: FC = () => {\n  const character = useCharacterData()\n\n  if (!character) return null\n\n  return (\n    <CharacterInfo />\n  )\n}\n","import { Paper, Table, TableBody, TableCell, TableHead, TableRow } from '@mui/material'\nimport { parseISO } from 'date-fns'\nimport { FC } from 'react'\n\nimport { formatDate } from '../Helpers'\nimport { BalanceLog } from '../System/BalanceLog'\n\ninterface BalanceLogTableProps {\n  log: BalanceLog\n\n  formatValue? (value: number): string\n}\n\nexport const BalanceLogTable: FC<BalanceLogTableProps> = ({\n  log,\n  formatValue = (value) => value,\n}) => {\n  let runningTotal = 0\n\n  const logRows = log\n    .sort((a, b) => parseISO(a.date).getTime() - parseISO(b.date).getTime())\n    .map(entry => (\n      <TableRow key={entry.date}>\n        <TableCell>{formatDate(entry.date)}</TableCell>\n        <TableCell>{entry.note}</TableCell>\n        <TableCell align=\"right\">{formatValue(entry.value)}</TableCell>\n        <TableCell align=\"right\">{formatValue(runningTotal += entry.value)}</TableCell>\n      </TableRow>\n    ))\n\n  logRows.reverse()\n\n  return (\n    <Paper>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell>Date</TableCell>\n            <TableCell>Note</TableCell>\n            <TableCell align=\"right\">Amount</TableCell>\n            <TableCell align=\"right\">Balance</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {logRows}\n        </TableBody>\n      </Table>\n    </Paper>\n  )\n}\n","import { Paper } from '@mui/material'\nimport { FC } from 'react'\n\nimport { useCharacterData } from '../../Character/CharacterProvider'\nimport { BalanceLogTable } from '../../UI/BalanceLogTable'\n\nexport const KarmaPage: FC = () => {\n  const character = useCharacterData()\n  if (!character) return null\n\n  return (\n    <Paper>\n      <BalanceLogTable log={character.karma} />\n    </Paper>\n  )\n}\n","import { Stack, Typography } from '@mui/material'\nimport React, { FC } from 'react'\n\nimport { useAllGear } from '../../Gear/GearContext'\nimport { GearType } from '../../Gear/GearData'\nimport { GearList } from '../../Gear/GearList'\n\nexport const MiscGearPage: FC = () => {\n  const excludedGear: GearType[] = [\n    GearType.weapon,\n    GearType.vehicle,\n    GearType.augment,\n    GearType.sin,\n    GearType.license,\n  ]\n\n  const otherGear = useAllGear()\n    .filter(gear => !gear.attachedTo)\n    .filter(gear => !excludedGear.includes(gear.gearType))\n\n  return (\n    <Stack gap={1}>\n      <Typography variant={'h4'}>Other Gear</Typography>\n      <GearList gear={otherGear} />\n    </Stack>\n  )\n}\n","import { Paper } from '@mui/material'\nimport { FC } from 'react'\n\nimport { useCharacterData } from '../../Character/CharacterProvider'\nimport { useAllGear } from '../../Gear/GearContext'\nimport { formatNuyen, useNuyenBalance } from '../../System/Nuyen'\nimport { BalanceLogTable } from '../../UI/BalanceLogTable'\nimport { Stat, StatBlock } from '../../UI/StatBlock'\n\nexport const NuyenPage: FC = () => {\n  const character = useCharacterData()\n  const nuyenBalance = useNuyenBalance()\n  const gear = useAllGear()\n  if (!character) return null\n\n  const gearTotal = gear\n    .filter(gear => typeof gear.cost === 'number')\n    .map(gear => gear.cost as number)\n    .reduce((sum, cost) => sum + cost, 0)\n\n  return (\n    <Paper>\n      <StatBlock>\n        <Stat name={'Total Balance'} value={formatNuyen(nuyenBalance)} />\n        <Stat name={'Gear Total'} value={formatNuyen(gearTotal)} />\n        <Stat name={'Net Worth'} value={formatNuyen(gearTotal + nuyenBalance)} />\n      </StatBlock>\n      <BalanceLogTable log={character.nuyen} formatValue={formatNuyen} />\n    </Paper>\n  )\n}\n","import { Box, Typography } from '@mui/material'\nimport React, { FC } from 'react'\n\nimport { AttrList } from '../System/Attribute'\nimport { formatSource } from '../System/Source'\nimport { AttributeBlock } from '../UI/AttributeBlock'\nimport { InfoBlock } from '../UI/InfoBlock/InfoBlock'\nimport { Stat } from '../UI/StatBlock'\nimport { SpellCategory } from './SpellCategory'\nimport { SpellData } from './SpellData'\n\ninterface SpellBlockProps {\n  spell: SpellData\n}\n\nexport const SpellBlock: FC<SpellBlockProps> = ({\n  spell,\n}) => {\n  const attributes: SpellAttributes = {\n    'Range': spell.range,\n    'Type': spell.type,\n    'Duration': spell.duration,\n    'Drain Value': spell.drainValue,\n  }\n\n  let subtitle: string = spell.category\n\n  switch (spell.category) {\n    case SpellCategory.Combat:\n      attributes['Damage'] = spell.damage\n      subtitle += ` (${spell.damageType}${spell.area ? ', Area' : ''})`\n      break\n    case SpellCategory.Illusion:\n      subtitle += ` (${spell.senseType})`\n      break\n  }\n\n  const blockTitleRight = <Box sx={{ fontSize: 10, textAlign: 'right' }}>\n    {spell.source && <Stat name=\"Source\" value={formatSource(spell.source)} />}\n  </Box>\n\n  return (\n    <InfoBlock title={spell.name} subtitle={subtitle} expandable titleRight={blockTitleRight}>\n      <AttributeBlock attributes={attributes} />\n      <Typography>{spell.effect}</Typography>\n    </InfoBlock>\n  )\n}\n\ninterface SpellAttributes extends AttrList {\n  'Range': string\n  'Type': string\n  'Duration': string\n  'Drain Value': number\n  'Damage'?: string\n}\n","import { FC } from 'react'\n\nimport { CharacterAttr } from '../Character/CharacterAttr'\nimport { useCharacterData } from '../Character/CharacterProvider'\nimport { ActiveSkillIds } from '../Skills'\nimport { DicePool } from '../UI/DicePool'\n\nexport const SorcerySpellcastingPool: FC = () => {\n  return (\n    <DicePool\n      name=\"Spellcasting\"\n      skills={[ActiveSkillIds.CRB.sorcery]}\n      attrs={[CharacterAttr.magic]}\n    />\n  )\n}\n\nexport const ConjuringSpellcastingPool: FC = () => {\n  return (\n    <DicePool\n      name=\"Spellcasting\"\n      skills={[ActiveSkillIds.CRB.conjuring]}\n      attrs={[CharacterAttr.magic]}\n    />\n  )\n}\n\nexport const EnchantingSpellcastingPool: FC = () => {\n  return (\n    <DicePool\n      name=\"Spellcasting\"\n      skills={[ActiveSkillIds.CRB.enchanting]}\n      attrs={[CharacterAttr.magic]}\n    />\n  )\n}\n\nexport const ResistDrain: FC = () => {\n  const characterData = useCharacterData()\n  if (!characterData) return null\n\n  const spellDrainAttr = characterData.spellDrainAttr || CharacterAttr.charisma\n\n  return (\n    <DicePool\n      name=\"Drain\"\n      attrs={[CharacterAttr.willpower, spellDrainAttr]}\n    />\n  )\n}\n","import { Stack, Typography } from '@mui/material'\nimport React, { FC } from 'react'\n\nimport { useActiveSkill, useCharacterData } from '../../Character/CharacterProvider'\nimport { ActiveSkillIds } from '../../Skills'\nimport { SpellBlock } from '../../Spells/SpellBlock'\nimport {\n  ConjuringSpellcastingPool,\n  EnchantingSpellcastingPool,\n  ResistDrain,\n  SorcerySpellcastingPool,\n} from '../../Spells/SpellDicePools'\nimport { DicePools } from '../../UI/DicePool'\n\nexport const SpellsPage: FC = () => {\n  const character = useCharacterData()\n\n  const sorcery = useActiveSkill(ActiveSkillIds.CRB.sorcery)\n  const conjuring = useActiveSkill(ActiveSkillIds.CRB.conjuring)\n  const enchanting = useActiveSkill(ActiveSkillIds.CRB.enchanting)\n\n  if (!character) return null\n  const spells = character.spells || []\n\n  return (\n    <Stack gap={1}>\n      <Typography variant={'h4'}>Spells</Typography>\n\n      <DicePools>\n        {sorcery && <SorcerySpellcastingPool />}\n        {conjuring && <ConjuringSpellcastingPool />}\n        {enchanting && <EnchantingSpellcastingPool />}\n        <ResistDrain />\n      </DicePools>\n\n      {spells.map(spell => (\n        <SpellBlock key={spell.id} spell={spell} />\n      ))}\n    </Stack>\n  )\n}\n","import { Stack, Typography } from '@mui/material'\nimport React, { FC } from 'react'\n\nimport { useGearOfType } from '../../Gear/GearContext'\nimport { GearType } from '../../Gear/GearData'\nimport { GearList } from '../../Gear/GearList'\nimport { VehicleData } from '../../Gear/Vehicles/VehicleData'\n\nexport const VehiclesPage: FC = () => {\n  const vehicles = useGearOfType<VehicleData>(GearType.vehicle)\n\n  return (\n    <Stack gap={1}>\n      <Typography variant={'h4'}>Vehicles</Typography>\n      <GearList gear={vehicles} />\n    </Stack>\n  )\n}\n","import { Stack, Typography } from '@mui/material'\nimport React, { FC } from 'react'\n\nimport { useGearOfType } from '../../Gear/GearContext'\nimport { GearType } from '../../Gear/GearData'\nimport { GearList } from '../../Gear/GearList'\nimport { WeaponData } from '../../Gear/Weapons/WeaponData'\n\nexport const WeaponsPage: FC = () => {\n  const weapons = useGearOfType<WeaponData>(GearType.weapon)\n    .filter(gear => !gear.attachedTo)\n\n  return (\n    <Stack gap={1}>\n      <Typography variant={'h4'}>Weapons</Typography>\n      <GearList gear={weapons} />\n    </Stack>\n  )\n}\n","import { Paper } from '@mui/material'\nimport React, { FC, useEffect, useState } from 'react'\nimport { Redirect, Route, Switch, useHistory, useParams, useRouteMatch } from 'react-router-dom'\n\nimport { Character } from '../Character/Character'\nimport { CharacterProvider } from '../Character/CharacterProvider'\nimport { loadCharacter } from '../StorageService'\nimport { CharacterNavDrawer } from '../UI/NavDrawer/CharacterNavDrawer'\nimport { AugmentsPage } from './Character/AugmentsPage'\nimport { CharacterInfoPage } from './Character/CharacterInfoPage'\nimport { KarmaPage } from './Character/KarmaPage'\nimport { MiscGearPage } from './Character/MiscGearPage'\nimport { NuyenPage } from './Character/NuyenPage'\nimport { SpellsPage } from './Character/SpellsPage'\nimport { VehiclesPage } from './Character/VehiclesPage'\nimport { WeaponsPage } from './Character/WeaponsPage'\nimport { RootLayout } from './RootLayout'\n\nexport const CharacterPage: FC = () => {\n  const history = useHistory()\n  const { path } = useRouteMatch()\n  const { characterId } = useParams<{ characterId: string }>()\n  const [character, setCharacter] = useState<Character | null>(null)\n\n  useEffect(() => {\n    const character = loadCharacter(characterId)\n    if (character === null) history.push('/')\n    setCharacter(character)\n  }, [history, characterId])\n\n  if (!character) { return <Paper>Loading...</Paper>}\n\n  return (\n    <CharacterProvider character={character}>\n      <RootLayout NavDrawer={CharacterNavDrawer}>\n        <Switch>\n          <Route path={`${path}/weapons`} component={WeaponsPage} />\n          <Route path={`${path}/vehicles`} component={VehiclesPage} />\n          <Route path={`${path}/augments`} component={AugmentsPage} />\n          <Route path={`${path}/spells`} component={SpellsPage} />\n          <Route path={`${path}/misc`} component={MiscGearPage} />\n          <Route path={`${path}/karma`} component={KarmaPage} />\n          <Route path={`${path}/nuyen`} component={NuyenPage} />\n          <Route path={`${path}/`} component={CharacterInfoPage} />\n          <Route><Redirect to=\"/\" /></Route>\n        </Switch>\n      </RootLayout>\n    </CharacterProvider>\n  )\n}\n","import React, { FC } from 'react'\nimport { HashRouter, Redirect, Route, Switch } from 'react-router-dom'\n\nimport { AppThemeProvider } from './AppThemeProvider'\nimport { AuthProvider } from './Auth/AuthProvider'\nimport { BuilderPage } from './Character/CharacterBuilder/BuilderPage'\nimport { CharacterListPage } from './Pages/CharacterListPage'\nimport { CharacterPage } from './Pages/CharacterPage'\nimport { loadCharacters } from './StorageService'\n\nloadCharacters()\n\nconst App: FC = () => {\n  return (\n    <HashRouter>\n      <AppThemeProvider>\n        <AuthProvider>\n          <Switch>\n            <Route path=\"/characters\" component={CharacterListPage} />\n            <Route path=\"/build\" component={BuilderPage} />\n            <Route path=\"/:characterId\" component={CharacterPage} />\n            <Route><Redirect to=\"/characters\" /></Route>\n          </Switch>\n        </AuthProvider>\n      </AppThemeProvider>\n    </HashRouter>\n  )\n}\n\nexport default App\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}